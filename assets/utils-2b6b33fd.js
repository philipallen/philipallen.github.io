import{$ as H,a as T,b as w,c as L,d as k,e as N}from"./useFocusable-a553ba2f.js";import{r as a,R as F}from"./index-c013ead5.js";import{a as V,$ as j,b as P}from"./useFocusWithin-94824ed6.js";import{$ as R}from"./index-cda6679a.js";function D(...e){return e.length===1?e[0]:n=>{for(let t of e)typeof t=="function"?t(n):t!=null&&(t.current=n)}}function I(e){const n=a.useRef(null);return a.useMemo(()=>({get current(){return n.current},set current(t){n.current=t,typeof e=="function"?e(t):e&&(e.current=t)}}),[e])}let p="default",x="",v=new WeakMap;function z(e){if(H()){if(p==="default"){const n=T(e);x=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}p="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(v.set(e,e.style.userSelect),e.style.userSelect="none")}function B(e){if(H()){if(p!=="disabled")return;p="restoring",setTimeout(()=>{w(()=>{if(p==="restoring"){const n=T(e);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=x||""),x="",p="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&v.has(e)){let n=v.get(e);e.style.userSelect==="none"&&(e.style.userSelect=n),e.getAttribute("style")===""&&e.removeAttribute("style"),v.delete(e)}}let E=!1,g=0;function h(){E=!0,setTimeout(()=>{E=!1},50)}function S(e){e.pointerType==="touch"&&h()}function O(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",S):document.addEventListener("touchend",h),g++,()=>{g--,!(g>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",S):document.removeEventListener("touchend",h))}}function J(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[s,u]=a.useState(!1),l=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;a.useEffect(O,[]);let{hoverProps:c,triggerHoverEnd:d}=a.useMemo(()=>{let f=(i,b)=>{if(l.pointerType=b,o||b==="touch"||l.isHovered||!i.currentTarget.contains(i.target))return;l.isHovered=!0;let y=i.currentTarget;l.target=y,n&&n({type:"hoverstart",target:y,pointerType:b}),t&&t(!0),u(!0)},m=(i,b)=>{if(l.pointerType="",l.target=null,b==="touch"||!l.isHovered)return;l.isHovered=!1;let y=i.currentTarget;r&&r({type:"hoverend",target:y,pointerType:b}),t&&t(!1),u(!1)},$={};return typeof PointerEvent<"u"?($.onPointerEnter=i=>{E&&i.pointerType==="mouse"||f(i,i.pointerType)},$.onPointerLeave=i=>{!o&&i.currentTarget.contains(i.target)&&m(i,i.pointerType)}):($.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},$.onMouseEnter=i=>{!l.ignoreEmulatedMouseEvents&&!E&&f(i,"mouse"),l.ignoreEmulatedMouseEvents=!1},$.onMouseLeave=i=>{!o&&i.currentTarget.contains(i.target)&&m(i,"mouse")}),{hoverProps:$,triggerHoverEnd:m}},[n,t,r,o,l]);return a.useEffect(()=>{o&&d({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:c,isHovered:s}}function Q(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=a.useRef({isFocused:!1,isFocusVisible:n||L()}),[s,u]=a.useState(!1),[l,c]=a.useState(()=>o.current.isFocused&&o.current.isFocusVisible),d=a.useCallback(()=>c(o.current.isFocused&&o.current.isFocusVisible),[]),f=a.useCallback(i=>{o.current.isFocused=i,u(i),d()},[d]);k(i=>{o.current.isFocusVisible=i,d()},[],{isTextInput:t});let{focusProps:m}=N({isDisabled:r,onFocusChange:f}),{focusWithinProps:$}=V({isDisabled:!r,onFocusWithinChange:f});return{isFocused:s,isFocusVisible:l,focusProps:r?$:m}}const C=Symbol("default");function X({values:e,children:n}){for(let[t,r]of e)n=F.createElement(t.Provider,{value:r},n);return n}function Y(e){let{className:n,style:t,children:r,defaultClassName:o,defaultChildren:s,defaultStyle:u,values:l}=e;return a.useMemo(()=>{let c,d,f;return typeof n=="function"?c=n({...l,defaultClassName:o}):c=n,typeof t=="function"?d=t({...l,defaultStyle:u||{}}):d=t,typeof r=="function"?f=r({...l,defaultChildren:s}):r==null?f=s:f=r,{className:c??o,style:d||u?{...u,...d}:void 0,children:f??s,"data-rac":""}},[n,t,r,o,s,u,l])}function U(e,n){let t=a.useContext(e);if(n===null)return null;if(t&&typeof t=="object"&&"slots"in t&&t.slots){let r=new Intl.ListFormat().format(Object.keys(t.slots).map(s=>`"${s}"`));if(!n&&!t.slots[C])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let o=n||C;if(!t.slots[o])throw new Error(`Invalid slot "${n}". Valid slot names are ${r}.`);return t.slots[o]}return t}function Z(e,n,t){let r=U(t,e.slot)||{},{ref:o,...s}=r,u=I(a.useMemo(()=>D(n,o),[n,o])),l=j(s,e);return"style"in s&&s.style&&"style"in e&&e.style&&(typeof s.style=="function"||typeof e.style=="function"?l.style=c=>{let d=typeof s.style=="function"?s.style(c):s.style,f={...c.defaultStyle,...d},m=typeof e.style=="function"?e.style({...c,defaultStyle:f}):e.style;return{...f,...m}}:l.style={...s.style,...e.style}),[l,u]}function _(){let[e,n]=a.useState(!0),t=a.useRef(!1),r=a.useCallback(o=>{t.current=!0,n(!!o)},[]);return P(()=>{t.current||n(!1)},[]),[r,e]}function ee(e,n=!0){let[t,r]=a.useState(!0);return M(e,t&&n,a.useCallback(()=>r(!1),[])),t&&n}function te(e,n){let[t,r]=a.useState(!1),[o,s]=a.useState("idle");return!n&&e.current&&o==="idle"&&(t=!0,r(!0),s("exiting")),!e.current&&o==="exited"&&s("idle"),M(e,t,a.useCallback(()=>{s("exited"),r(!1)},[])),t}function M(e,n,t){let r=a.useRef(null);n&&e.current&&(r.current=window.getComputedStyle(e.current).animation),P(()=>{if(n&&e.current){let o=window.getComputedStyle(e.current);if(o.animationName&&o.animationName!=="none"&&o.animation!==r.current){let s=l=>{l.target===e.current&&(u.removeEventListener("animationend",s),R.flushSync(()=>{t()}))},u=e.current;return u.addEventListener("animationend",s),()=>{u.removeEventListener("animationend",s)}}else t()}},[e,n,t])}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const A=a.createContext(!1);typeof DocumentFragment<"u"&&new DocumentFragment;function ne(e){let n=(t,r)=>a.useContext(A)?null:e(t,r);return n.displayName=e.displayName||e.name,F.forwardRef(n)}function re(e){const n=/^(data-.*)$/;let t={};for(const r in e)n.test(r)||(t[r]=e[r]);return t}export{Z as $,ne as a,B as b,z as c,_ as d,Y as e,X as f,J as g,U as h,Q as i,te as j,A as k,ee as l,C as m,I as n,re as o};
