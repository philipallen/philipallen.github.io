import{b as q,$ as O,k,h as E,d as L,c as N,e as C,f as _,g as T,i as W}from"./useFocusRing-8RL9AhDF.js";import{$ as A,a as G}from"./Form-XDg7W6jB.js";import{a as H}from"./Label-5FlWBL7a.js";import{a as K}from"./Text-CImjXWr2.js";import{$ as R,a as j,c as U}from"./useFocusWithin-D15f1-3B.js";import{$ as B}from"./focusSafely-CjmyL4wt.js";import{r as y,R as D}from"./index-DH5ua8nC.js";import{$ as z}from"./useLabel-DxA8NU2E.js";import{$ as J}from"./useFocusable-bM5OvyXg.js";import{b as Q,a as X,$ as Y}from"./useField-BNDYKjxG.js";import{$ as M}from"./usePress-BnN3djkX.js";import{a as Z}from"./FocusScope-92UDUlTt.js";import{$ as ee}from"./context-ERQbR2fL.js";import{$ as ae}from"./VisuallyHidden-D60Ve5Tm.js";import{$ as ie}from"./useControlledState-BSXamw7l.js";const S=new WeakMap;function de(a,e,l){let{value:r,children:c,"aria-label":d,"aria-labelledby":t}=a;const i=a.isDisabled||e.isDisabled;let u=c!=null,f=d!=null||t!=null;!u&&!f&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let s=e.selectedValue===r,p=F=>{F.stopPropagation(),e.setSelectedValue(r)},{pressProps:m,isPressed:P}=M({isDisabled:i}),{pressProps:x,isPressed:$}=M({isDisabled:i,onPress(){e.setSelectedValue(r)}}),{focusableProps:I}=J(R(a,{onFocus:()=>e.setLastFocusedValue(r)}),l),V=R(m,I),g=B(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===r&&(v=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:b,descriptionId:o,errorMessageId:h,validationBehavior:n}=S.get(e);return z(l,e.selectedValue,e.setSelectedValue),Q({validationBehavior:n},e,l),{labelProps:R(x,{onClick:F=>F.preventDefault()}),inputProps:R(g,{...V,type:"radio",name:b,tabIndex:v,disabled:i,required:e.isRequired&&n==="native",checked:s,value:r,onChange:p,"aria-describedby":[a["aria-describedby"],e.isInvalid?h:null,o].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:s,isPressed:P||$}}function le(a,e){let{name:l,isReadOnly:r,isRequired:c,isDisabled:d,orientation:t="vertical",validationBehavior:i="aria"}=a,{direction:u}=ee(),{isInvalid:f,validationErrors:s,validationDetails:p}=e.displayValidation,{labelProps:m,fieldProps:P,descriptionProps:x,errorMessageProps:$}=X({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),I=B(a,{labelable:!0}),{focusWithinProps:V}=j({onBlurWithin(b){var o;(o=a.onBlur)===null||o===void 0||o.call(a,b),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),g=b=>{let o;switch(b.key){case"ArrowRight":u==="rtl"&&t!=="vertical"?o="prev":o="next";break;case"ArrowLeft":u==="rtl"&&t!=="vertical"?o="next":o="prev";break;case"ArrowDown":o="next";break;case"ArrowUp":o="prev";break;default:return}b.preventDefault();let h=Z(b.currentTarget,{from:b.target}),n;o==="next"?(n=h.nextNode(),n||(h.currentNode=b.currentTarget,n=h.firstChild())):(n=h.previousNode(),n||(h.currentNode=b.currentTarget,n=h.lastChild())),n&&(n.focus(),e.setSelectedValue(n.value))},v=U(l);return S.set(e,{name:v,descriptionId:x.id,errorMessageId:$.id,validationBehavior:i}),{radioGroupProps:R(I,{role:"radiogroup",onKeyDown:g,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":c||void 0,"aria-disabled":d||void 0,"aria-orientation":t,...P,...V}),labelProps:m,descriptionProps:x,errorMessageProps:$,isInvalid:f,validationErrors:s,validationDetails:p}}let re=Math.round(Math.random()*1e10),te=0;function se(a){let e=y.useMemo(()=>a.name||`radio-group-${re}-${++te}`,[a.name]);var l;let[r,c]=ie(a.value,(l=a.defaultValue)!==null&&l!==void 0?l:null,a.onChange),[d,t]=y.useState(null),i=Y({...a,value:r}),u=s=>{!a.isReadOnly&&!a.isDisabled&&(c(s),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:r,setSelectedValue:u,lastFocusedValue:d,setLastFocusedValue:t,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=y.createContext(null),ne=y.createContext(null),w=y.createContext(null),De=y.forwardRef(function(e,l){[e,l]=q(e,l,oe);let{validationBehavior:r}=_(A)||{};var c,d;let t=(d=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:"native",i=se({...e,validationBehavior:t}),[u,f]=T(),{radioGroupProps:s,labelProps:p,descriptionProps:m,errorMessageProps:P,...x}=le({...e,label:f,validationBehavior:t},i),$=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return D.createElement("div",{...s,...$,ref:l,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},D.createElement(W,{values:[[w,i],[H,{...p,ref:u,elementType:"span"}],[K,{slots:{description:m,errorMessage:P}}],[G,x]]},$.children))}),Ie=y.forwardRef(function(e,l){let{inputRef:r=null,...c}=e;[e,l]=q(c,l,ne);let d=D.useContext(w),t=O(k(r,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:u,isSelected:f,isDisabled:s,isPressed:p}=de({...E(e),children:typeof e.children=="function"?!0:e.children},d,t),{isFocused:m,isFocusVisible:P,focusProps:x}=L(),$=s||d.isReadOnly,{hoverProps:I,isHovered:V}=N({...e,isDisabled:$}),g=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:p,isHovered:V,isFocused:m,isFocusVisible:P,isDisabled:s,isReadOnly:d.isReadOnly,isInvalid:d.isInvalid,isRequired:d.isRequired}}),v=B(e);return delete v.id,D.createElement("label",{...R(v,i,I,g),ref:l,"data-selected":f||void 0,"data-pressed":p||void 0,"data-hovered":V||void 0,"data-focused":m||void 0,"data-focus-visible":P||void 0,"data-disabled":s||void 0,"data-readonly":d.isReadOnly||void 0,"data-invalid":d.isInvalid||void 0,"data-required":d.isRequired||void 0},D.createElement(ae,{elementType:"span"},D.createElement("input",{...R(u,x),ref:t})),g.children)});export{Ie as $,De as a,ne as b};
