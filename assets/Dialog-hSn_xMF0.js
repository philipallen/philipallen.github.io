import{c as oe,b as V}from"./useNumberFormatter-CsjwgOH6.js";import{j as z,$ as ct,c as le,d as ie,m as dt,o as ut,a as ge,b as xe,i as ft,n as ae}from"./utils-gyFJKyBV.js";import{r as $,e as C}from"./index-KmaxkdDD.js";import{a as pt}from"./Button-BCrc0Htn.js";import{a as $t}from"./RSPContexts-DVGGaWhm.js";import{$ as ne}from"./filterDOMProps-CeZl_uWj.js";import{r as mt,$ as vt}from"./index-Ccpfuzew.js";import{y as bt,h as gt,b as xt,i as ee}from"./useFocusRing-ByLANK_J.js";import{d as ht,f as Et}from"./Label-D5Kag7W1.js";import{$ as Ct}from"./useControlledState-BCPvzKxG.js";import{d as Pt}from"./platform-COItUIJl.js";import{c as wt,a as yt}from"./FocusScope-DVP7JJNc.js";import{$ as Rt}from"./usePreventScroll-B_jZxvVS.js";import{$ as St}from"./useLocalizedStringFormatter-zwC8H8KM.js";import{$ as Lt}from"./VisuallyHidden-S4eak3vu.js";import{d as te}from"./usePress-C3z6nG1y.js";function Ot(){return typeof window.ResizeObserver<"u"}function se(t){const{ref:e,box:l,onResize:r}=t;$.useEffect(()=>{let o=e==null?void 0:e.current;if(o)if(Ot()){const n=new window.ResizeObserver(c=>{c.length&&r()});return n.observe(o,{box:l}),()=>{o&&n.unobserve(o)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,e,l])}function Dt(t,e=!0){let[l,r]=$.useState(!0),o=l&&e;return z(()=>{if(o&&t.current&&"getAnimations"in t.current)for(let n of t.current.getAnimations())n instanceof CSSTransition&&n.cancel()},[t,o]),he(t,o,$.useCallback(()=>r(!1),[])),o}function Tt(t,e){let[l,r]=$.useState(e?"open":"closed");switch(l){case"open":e||r("exiting");break;case"closed":case"exiting":e&&r("open");break}let o=l==="exiting";return he(t,o,$.useCallback(()=>{r(n=>n==="exiting"?"closed":n)},[])),o}function he(t,e,l){z(()=>{if(e&&t.current){if(!("getAnimations"in t.current)){l();return}let r=t.current.getAnimations();if(r.length===0){l();return}let o=!1;return Promise.all(r.map(n=>n.finished)).then(()=>{o||mt.flushSync(()=>{l()})}).catch(()=>{}),()=>{o=!0}}},[t,e,l])}const Pr=C.forwardRef(({children:t,...e},l)=>{let r=$.useRef(!1),o=$.useContext(te);l=ct(l||(o==null?void 0:o.ref));let n=le(o||{},{...e,ref:l,register(){r.current=!0,o&&o.register()}});return bt(o,l),$.useEffect(()=>{r.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),r.current=!0)},[]),C.createElement(te.Provider,{value:n},t)});function It({children:t}){let e=$.useMemo(()=>({register:()=>{}}),[]);return C.createElement(te.Provider,{value:e},t)}function Nt(t){let{ref:e,onInteractOutside:l,isDisabled:r,onInteractOutsideStart:o}=t,n=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=ie(a=>{l&&Z(a,e)&&(o&&o(a),n.current.isPointerDown=!0)}),i=ie(a=>{l&&l(a)});$.useEffect(()=>{let a=n.current;if(r)return;const d=e.current,s=gt(d);if(typeof PointerEvent<"u"){let m=p=>{a.isPointerDown&&Z(p,e)&&i(p),a.isPointerDown=!1};return s.addEventListener("pointerdown",c,!0),s.addEventListener("pointerup",m,!0),()=>{s.removeEventListener("pointerdown",c,!0),s.removeEventListener("pointerup",m,!0)}}else{let m=f=>{a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&Z(f,e)&&i(f),a.isPointerDown=!1},p=f=>{a.ignoreEmulatedMouseEvents=!0,a.isPointerDown&&Z(f,e)&&i(f),a.isPointerDown=!1};return s.addEventListener("mousedown",c,!0),s.addEventListener("mouseup",m,!0),s.addEventListener("touchstart",c,!0),s.addEventListener("touchend",p,!0),()=>{s.removeEventListener("mousedown",c,!0),s.removeEventListener("mouseup",m,!0),s.removeEventListener("touchstart",c,!0),s.removeEventListener("touchend",p,!0)}}},[e,r,c,i])}function Z(t,e){if(t.button>0)return!1;if(t.target){const l=t.target.ownerDocument;if(!l||!l.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}let q=new Map;function wr(t){let{locale:e}=oe(),l=e+(t?Object.entries(t).sort((o,n)=>o[0]<n[0]?-1:1).join():"");if(q.has(l))return q.get(l);let r=new Intl.Collator(e,t);return q.set(l,r),r}const F={top:"top",bottom:"top",left:"left",right:"left"},Y={top:"bottom",bottom:"top",left:"right",right:"left"},Mt={top:"left",left:"top"},re={top:"height",left:"width"},Ee={width:"totalWidth",height:"totalHeight"},G={};let R=typeof document<"u"?window.visualViewport:null;function ce(t){let e=0,l=0,r=0,o=0,n=0,c=0,i={};var a;let d=((a=R==null?void 0:R.scale)!==null&&a!==void 0?a:1)>1;if(t.tagName==="BODY"){let u=document.documentElement;r=u.clientWidth,o=u.clientHeight;var s;e=(s=R==null?void 0:R.width)!==null&&s!==void 0?s:r;var m;l=(m=R==null?void 0:R.height)!==null&&m!==void 0?m:o,i.top=u.scrollTop||t.scrollTop,i.left=u.scrollLeft||t.scrollLeft,R&&(n=R.offsetTop,c=R.offsetLeft)}else({width:e,height:l,top:n,left:c}=j(t)),i.top=t.scrollTop,i.left=t.scrollLeft,r=e,o=l;if(Pt()&&(t.tagName==="BODY"||t.tagName==="HTML")&&d){i.top=0,i.left=0;var p;n=(p=R==null?void 0:R.pageTop)!==null&&p!==void 0?p:0;var f;c=(f=R==null?void 0:R.pageLeft)!==null&&f!==void 0?f:0}return{width:e,height:l,totalWidth:r,totalHeight:o,scroll:i,top:n,left:c}}function At(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function de(t,e,l,r,o,n,c){var i;let a=(i=o.scroll[t])!==null&&i!==void 0?i:0,d=r[re[t]],s=r.scroll[F[t]]+n,m=d+r.scroll[F[t]]-n,p=e-a+c[t]-r[F[t]],f=e-a+l+c[t]-r[F[t]];return p<s?s-p:f>m?Math.max(m-f,s-p):0}function Ht(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function ue(t){if(G[t])return G[t];let[e,l]=t.split(" "),r=F[e]||"right",o=Mt[r];F[l]||(l="center");let n=re[r],c=re[o];return G[t]={placement:e,crossPlacement:l,axis:r,crossAxis:o,size:n,crossSize:c},G[t]}function Q(t,e,l,r,o,n,c,i,a,d){let{placement:s,crossPlacement:m,axis:p,crossAxis:f,size:u,crossSize:b}=r,v={};var g;v[f]=(g=t[f])!==null&&g!==void 0?g:0;var x,E,L,w;m==="center"?v[f]+=(((x=t[b])!==null&&x!==void 0?x:0)-((E=l[b])!==null&&E!==void 0?E:0))/2:m!==f&&(v[f]+=((L=t[b])!==null&&L!==void 0?L:0)-((w=l[b])!==null&&w!==void 0?w:0)),v[f]+=n;const h=t[f]-l[b]+a+d,O=t[f]+t[b]-a-d;if(v[f]=V(v[f],h,O),s===p){const A=i?c[u]:e[Ee[u]];v[Y[p]]=Math.floor(A-t[p]+o)}else v[p]=Math.floor(t[p]+t[u]+o);return v}function kt(t,e,l,r,o,n,c,i){const a=r?l.height:e[Ee.height];var d;let s=t.top!=null?l.top+t.top:l.top+(a-((d=t.bottom)!==null&&d!==void 0?d:0)-c);var m,p,f,u,b,v;let g=i!=="top"?Math.max(0,e.height+e.top+((m=e.scroll.top)!==null&&m!==void 0?m:0)-s-(((p=o.top)!==null&&p!==void 0?p:0)+((f=o.bottom)!==null&&f!==void 0?f:0)+n)):Math.max(0,s+c-(e.top+((u=e.scroll.top)!==null&&u!==void 0?u:0))-(((b=o.top)!==null&&b!==void 0?b:0)+((v=o.bottom)!==null&&v!==void 0?v:0)+n));return Math.min(e.height-n*2,g)}function fe(t,e,l,r,o,n){let{placement:c,axis:i,size:a}=n;var d,s;if(c===i)return Math.max(0,l[i]-t[i]-((d=t.scroll[i])!==null&&d!==void 0?d:0)+e[i]-((s=r[i])!==null&&s!==void 0?s:0)-r[Y[i]]-o);var m;return Math.max(0,t[a]+t[i]+t.scroll[i]-e[i]-l[i]-l[a]-((m=r[i])!==null&&m!==void 0?m:0)-r[Y[i]]-o)}function Ft(t,e,l,r,o,n,c,i,a,d,s,m,p,f,u,b){let v=ue(t),{size:g,crossAxis:x,crossSize:E,placement:L,crossPlacement:w}=v,h=Q(e,i,l,v,s,m,d,p,u,b),O=s,A=fe(i,d,e,o,n+s,v);if(c&&r[g]>A){let X=ue(`${Y[L]} ${w}`),st=Q(e,i,l,X,s,m,d,p,u,b);fe(i,d,e,o,n+s,X)>A&&(v=X,h=st,O=s)}let N="bottom";v.axis==="top"?v.placement==="top"?N="top":v.placement==="bottom"&&(N="bottom"):v.crossAxis==="top"&&(v.crossPlacement==="top"?N="bottom":v.crossPlacement==="bottom"&&(N="top"));let y=de(x,h[x],l[E],i,a,n,d);h[x]+=y;let D=kt(h,i,d,p,o,n,l.height,N);f&&f<D&&(D=f),l.height=Math.min(l.height,D),h=Q(e,i,l,v,O,m,d,p,u,b),y=de(x,h[x],l[E],i,a,n,d),h[x]+=y;let I={},_=e[x]+.5*e[E]-h[x]-o[F[x]];const M=u/2+b;var B,K,H,S;const W=F[x]==="left"?((B=o.left)!==null&&B!==void 0?B:0)+((K=o.right)!==null&&K!==void 0?K:0):((H=o.top)!==null&&H!==void 0?H:0)+((S=o.bottom)!==null&&S!==void 0?S:0),J=l[E]-W-u/2-b,nt=e[x]+u/2-(h[x]+o[F[x]]),it=e[x]+e[E]-u/2-(h[x]+o[F[x]]),at=V(_,nt,it);return I[x]=V(at,M,J),{position:h,maxHeight:D,arrowOffsetLeft:I.left,arrowOffsetTop:I.top,placement:v.placement}}function zt(t){let{placement:e,targetNode:l,overlayNode:r,scrollNode:o,padding:n,shouldFlip:c,boundaryElement:i,offset:a,crossOffset:d,maxHeight:s,arrowSize:m=0,arrowBoundaryOffset:p=0}=t,f=r instanceof HTMLElement?_t(r):document.documentElement,u=f===document.documentElement;const b=window.getComputedStyle(f).position;let v=!!b&&b!=="static",g=u?j(l):pe(l,f);if(!u){let{marginTop:I,marginLeft:_}=window.getComputedStyle(l);g.top+=parseInt(I,10)||0,g.left+=parseInt(_,10)||0}let x=j(r),E=Ht(r);var L,w;x.width+=((L=E.left)!==null&&L!==void 0?L:0)+((w=E.right)!==null&&w!==void 0?w:0);var h,O;x.height+=((h=E.top)!==null&&h!==void 0?h:0)+((O=E.bottom)!==null&&O!==void 0?O:0);let A=At(o),N=ce(i),y=ce(f),D=i.tagName==="BODY"?j(f):pe(f,i);return f.tagName==="HTML"&&i.tagName==="BODY"&&(y.scroll.top=0,y.scroll.left=0),Ft(e,g,x,A,E,n,c,N,y,D,a,d,v,s,m,p)}function j(t){let{top:e,left:l,width:r,height:o}=t.getBoundingClientRect(),{scrollTop:n,scrollLeft:c,clientTop:i,clientLeft:a}=document.documentElement;return{top:e+n-i,left:l+c-a,width:r,height:o}}function pe(t,e){let l=window.getComputedStyle(t),r;if(l.position==="fixed"){let{top:o,left:n,width:c,height:i}=t.getBoundingClientRect();r={top:o,left:n,width:c,height:i}}else{r=j(t);let o=j(e),n=window.getComputedStyle(e);o.top+=(parseInt(n.borderTopWidth,10)||0)-e.scrollTop,o.left+=(parseInt(n.borderLeftWidth,10)||0)-e.scrollLeft,r.top-=o.top,r.left-=o.left}return r.top-=parseInt(l.marginTop,10)||0,r.left-=parseInt(l.marginLeft,10)||0,r}function _t(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!$e(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!$e(e);)e=e.parentElement;return e||document.documentElement}function $e(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Bt=new WeakMap;function Kt(t){let{triggerRef:e,isOpen:l,onClose:r}=t;$.useEffect(()=>{if(!l||r===null)return;let o=n=>{let c=n.target;if(!e.current||c instanceof Node&&!c.contains(e.current)||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let i=r||Bt.get(e.current);i&&i()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[l,r,e])}let P=typeof document<"u"?window.visualViewport:null;function Wt(t){let{direction:e}=oe(),{arrowSize:l=0,targetRef:r,overlayRef:o,scrollRef:n=o,placement:c="bottom",containerPadding:i=12,shouldFlip:a=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:s=0,crossOffset:m=0,shouldUpdatePosition:p=!0,isOpen:f=!0,onClose:u,maxHeight:b,arrowBoundaryOffset:v=0}=t,[g,x]=$.useState(null),E=[p,c,o.current,r.current,n.current,i,a,d,s,m,f,e,b,v,l],L=$.useRef(P==null?void 0:P.scale);$.useEffect(()=>{f&&(L.current=P==null?void 0:P.scale)},[f]);let w=$.useCallback(()=>{if(p===!1||!f||!o.current||!r.current||!d||(P==null?void 0:P.scale)!==L.current)return;let y=null;if(n.current&&n.current.contains(document.activeElement)){var D;let S=(D=document.activeElement)===null||D===void 0?void 0:D.getBoundingClientRect(),W=n.current.getBoundingClientRect();var I;if(y={type:"top",offset:((I=S==null?void 0:S.top)!==null&&I!==void 0?I:0)-W.top},y.offset>W.height/2){y.type="bottom";var _;y.offset=((_=S==null?void 0:S.bottom)!==null&&_!==void 0?_:0)-W.bottom}}let M=o.current;if(!b&&o.current){var B;M.style.top="0px",M.style.bottom="";var K;M.style.maxHeight=((K=(B=window.visualViewport)===null||B===void 0?void 0:B.height)!==null&&K!==void 0?K:window.innerHeight)+"px"}let H=zt({placement:Ut(c,e),overlayNode:o.current,targetNode:r.current,scrollNode:n.current||o.current,padding:i,shouldFlip:a,boundaryElement:d,offset:s,crossOffset:m,maxHeight:b,arrowSize:l,arrowBoundaryOffset:v});if(H.position){if(M.style.top="",M.style.bottom="",M.style.left="",M.style.right="",Object.keys(H.position).forEach(S=>M.style[S]=H.position[S]+"px"),M.style.maxHeight=H.maxHeight!=null?H.maxHeight+"px":"",y&&document.activeElement&&n.current){let S=document.activeElement.getBoundingClientRect(),W=n.current.getBoundingClientRect(),J=S[y.type]-W[y.type];n.current.scrollTop+=J-y.offset}x(H)}},E);z(w,E),jt(w),se({ref:o,onResize:w}),se({ref:r,onResize:w});let h=$.useRef(!1);z(()=>{let y,D=()=>{h.current=!0,clearTimeout(y),y=setTimeout(()=>{h.current=!1},500),w()},I=()=>{h.current&&D()};return P==null||P.addEventListener("resize",D),P==null||P.addEventListener("scroll",I),()=>{P==null||P.removeEventListener("resize",D),P==null||P.removeEventListener("scroll",I)}},[w]);let O=$.useCallback(()=>{h.current||u==null||u()},[u,h]);Kt({triggerRef:r,isOpen:f,onClose:u&&O});var A,N;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...g==null?void 0:g.position,maxHeight:(A=g==null?void 0:g.maxHeight)!==null&&A!==void 0?A:"100vh"}},placement:(N=g==null?void 0:g.placement)!==null&&N!==void 0?N:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:g==null?void 0:g.arrowOffsetLeft,top:g==null?void 0:g.arrowOffsetTop}},updatePosition:w}}function jt(t){z(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function Ut(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}const k=[];function Zt(t,e){let{onClose:l,shouldCloseOnBlur:r,isOpen:o,isDismissable:n=!1,isKeyboardDismissDisabled:c=!1,shouldCloseOnInteractOutside:i}=t;$.useEffect(()=>{if(o&&!k.includes(e))return k.push(e),()=>{let u=k.indexOf(e);u>=0&&k.splice(u,1)}},[o,e]);let a=()=>{k[k.length-1]===e&&l&&l()},d=u=>{(!i||i(u.target))&&k[k.length-1]===e&&(u.stopPropagation(),u.preventDefault())},s=u=>{(!i||i(u.target))&&(k[k.length-1]===e&&(u.stopPropagation(),u.preventDefault()),a())},m=u=>{u.key==="Escape"&&!c&&!u.nativeEvent.isComposing&&(u.stopPropagation(),u.preventDefault(),a())};Nt({ref:e,onInteractOutside:n&&o?s:void 0,onInteractOutsideStart:d});let{focusWithinProps:p}=xt({isDisabled:!r,onBlurWithin:u=>{!u.relatedTarget||wt(u.relatedTarget)||(!i||i(u.relatedTarget))&&(l==null||l())}}),f=u=>{u.target===u.currentTarget&&u.preventDefault()};return{overlayProps:{onKeyDown:m,...p},underlayProps:{onPointerDown:f}}}var Ce={};Ce={dismiss:"تجاهل"};var Pe={};Pe={dismiss:"Отхвърляне"};var we={};we={dismiss:"Odstranit"};var ye={};ye={dismiss:"Luk"};var Re={};Re={dismiss:"Schließen"};var Se={};Se={dismiss:"Απόρριψη"};var Le={};Le={dismiss:"Dismiss"};var Oe={};Oe={dismiss:"Descartar"};var De={};De={dismiss:"Lõpeta"};var Te={};Te={dismiss:"Hylkää"};var Ie={};Ie={dismiss:"Rejeter"};var Ne={};Ne={dismiss:"התעלם"};var Me={};Me={dismiss:"Odbaci"};var Ae={};Ae={dismiss:"Elutasítás"};var He={};He={dismiss:"Ignora"};var ke={};ke={dismiss:"閉じる"};var Fe={};Fe={dismiss:"무시"};var ze={};ze={dismiss:"Atmesti"};var _e={};_e={dismiss:"Nerādīt"};var Be={};Be={dismiss:"Lukk"};var Ke={};Ke={dismiss:"Negeren"};var We={};We={dismiss:"Zignoruj"};var je={};je={dismiss:"Descartar"};var Ue={};Ue={dismiss:"Dispensar"};var Ze={};Ze={dismiss:"Revocare"};var Ge={};Ge={dismiss:"Пропустить"};var Ye={};Ye={dismiss:"Zrušiť"};var Je={};Je={dismiss:"Opusti"};var Xe={};Xe={dismiss:"Odbaci"};var qe={};qe={dismiss:"Avvisa"};var Qe={};Qe={dismiss:"Kapat"};var Ve={};Ve={dismiss:"Скасувати"};var et={};et={dismiss:"取消"};var tt={};tt={dismiss:"關閉"};var rt={};rt={"ar-AE":Ce,"bg-BG":Pe,"cs-CZ":we,"da-DK":ye,"de-DE":Re,"el-GR":Se,"en-US":Le,"es-ES":Oe,"et-EE":De,"fi-FI":Te,"fr-FR":Ie,"he-IL":Ne,"hr-HR":Me,"hu-HU":Ae,"it-IT":He,"ja-JP":ke,"ko-KR":Fe,"lt-LT":ze,"lv-LV":_e,"nb-NO":Be,"nl-NL":Ke,"pl-PL":We,"pt-BR":je,"pt-PT":Ue,"ro-RO":Ze,"ru-RU":Ge,"sk-SK":Ye,"sl-SI":Je,"sr-SP":Xe,"sv-SE":qe,"tr-TR":Qe,"uk-UA":Ve,"zh-CN":et,"zh-TW":tt};function Gt(t){return t&&t.__esModule?t.default:t}function me(t){let{onDismiss:e,...l}=t,r=St(Gt(rt),"@react-aria/overlays"),o=ht(l,r.format("dismiss")),n=()=>{e&&e()};return C.createElement(Lt,null,C.createElement("button",{...o,tabIndex:-1,onClick:n,style:{width:1,height:1}}))}let U=new WeakMap,T=[];function Yt(t,e=document.body){let l=new Set(t),r=new Set,o=a=>{for(let p of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))l.add(p);let d=p=>{if(l.has(p)||p.parentElement&&r.has(p.parentElement)&&p.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of l)if(p.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},s=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),m=d(a);if(m===NodeFilter.FILTER_ACCEPT&&n(a),m!==NodeFilter.FILTER_REJECT){let p=s.nextNode();for(;p!=null;)n(p),p=s.nextNode()}},n=a=>{var d;let s=(d=U.get(a))!==null&&d!==void 0?d:0;a.getAttribute("aria-hidden")==="true"&&s===0||(s===0&&a.setAttribute("aria-hidden","true"),r.add(a),U.set(a,s+1))};T.length&&T[T.length-1].disconnect(),o(e);let c=new MutationObserver(a=>{for(let d of a)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...l,...r].some(s=>s.contains(d.target))){for(let s of d.removedNodes)s instanceof Element&&(l.delete(s),r.delete(s));for(let s of d.addedNodes)(s instanceof HTMLElement||s instanceof SVGElement)&&(s.dataset.liveAnnouncer==="true"||s.dataset.reactAriaTopLayer==="true")?l.add(s):s instanceof Element&&o(s)}});c.observe(e,{childList:!0,subtree:!0});let i={visibleNodes:l,hiddenNodes:r,observe(){c.observe(e,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return T.push(i),()=>{c.disconnect();for(let a of r){let d=U.get(a);d!=null&&(d===1?(a.removeAttribute("aria-hidden"),U.delete(a)):U.set(a,d-1))}i===T[T.length-1]?(T.pop(),T.length&&T[T.length-1].observe()):T.splice(T.indexOf(i),1)}}function Jt(t){let e=T[T.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function Xt(t,e){let{triggerRef:l,popoverRef:r,groupRef:o,isNonModal:n,isKeyboardDismissDisabled:c,shouldCloseOnInteractOutside:i,...a}=t,d=a.trigger==="SubmenuTrigger",{overlayProps:s,underlayProps:m}=Zt({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!n||d,isKeyboardDismissDisabled:c,shouldCloseOnInteractOutside:i},o??r),{overlayProps:p,arrowProps:f,placement:u}=Wt({...a,targetRef:l,overlayRef:r,isOpen:e.isOpen,onClose:n?e.close:null});return Rt({isDisabled:n||!e.isOpen}),z(()=>{if(e.isOpen&&r.current){var b,v;return n?Jt((b=o==null?void 0:o.current)!==null&&b!==void 0?b:r.current):Yt([(v=o==null?void 0:o.current)!==null&&v!==void 0?v:r.current])}},[n,e.isOpen,r,o]),{popoverProps:le(s,p),arrowProps:f,underlayProps:m,placement:u}}const qt=$.createContext({});function Qt(){var t;return(t=$.useContext(qt))!==null&&t!==void 0?t:{}}const ot=C.createContext(null);function ve(t){let e=dt(),{portalContainer:l=e?null:document.body,isExiting:r}=t,[o,n]=$.useState(!1),c=$.useMemo(()=>({contain:o,setContain:n}),[o,n]),{getContainer:i}=Qt();if(!t.portalContainer&&i&&(l=i()),!l)return null;let a=t.children;return t.disableFocusManagement||(a=C.createElement(yt,{restoreFocus:!0,contain:(t.shouldContainFocus||o)&&!r},a)),a=C.createElement(ot.Provider,{value:c},C.createElement(It,null,a)),vt.createPortal(a,l)}function Vt(){let t=$.useContext(ot),e=t==null?void 0:t.setContain;z(()=>{e==null||e(!0)},[e])}function er(t,e){let{role:l="dialog"}=t,r=ut();r=t["aria-label"]?void 0:r;let o=$.useRef(!1);return $.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){ee(e.current);let n=setTimeout(()=>{document.activeElement===e.current&&(o.current=!0,e.current&&(e.current.blur(),ee(e.current)),o.current=!1)},500);return()=>{clearTimeout(n)}}},[e]),Vt(),{dialogProps:{...ne(t,{labelable:!0}),role:l,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r,onBlur:n=>{o.current&&n.stopPropagation()}},titleProps:{id:r}}}function tr(t){let[e,l]=Ct(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const r=$.useCallback(()=>{l(!0)},[l]),o=$.useCallback(()=>{l(!1)},[l]),n=$.useCallback(()=>{l(!e)},[l,e]);return{isOpen:e,setOpen:l,open:r,close:o,toggle:n}}const rr=$.createContext({placement:"bottom"}),or=$.createContext(null),be=$.createContext(null),yr=$.forwardRef(function(e,l){[e,l]=ge(e,l,or);let r=$.useContext(lt),o=tr(e),n=e.isOpen!=null||e.defaultOpen!=null||!r?o:r,c=Tt(l,n.isOpen)||e.isExiting||!1,i=Et(),{direction:a}=oe();if(i){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),C.createElement(C.Fragment,null,d)}return n&&!n.isOpen&&!c?null:C.createElement(lr,{...e,triggerRef:e.triggerRef,state:n,popoverRef:l,isExiting:c,dir:a})});function lr({state:t,isExiting:e,UNSTABLE_portalContainer:l,...r}){let o=$.useRef(null),[n,c]=$.useState(0),i=$.useRef(null),a=$.useContext(be),d=a&&r.trigger==="SubmenuTrigger";z(()=>{o.current&&t.isOpen&&c(o.current.getBoundingClientRect().width)},[t.isOpen,o]);var s;let{popoverProps:m,underlayProps:p,arrowProps:f,placement:u}=Xt({...r,offset:(s=r.offset)!==null&&s!==void 0?s:8,arrowSize:n,groupRef:d?a:i},t),b=r.popoverRef,v=Dt(b,!!u)||r.isEntering||!1,g=xe({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:u,isEntering:v,isExiting:e}}),x=!r.isNonModal||r.trigger==="SubmenuTrigger",[E,L]=$.useState(!1);z(()=>{b.current&&L(x&&!b.current.querySelector("[role=dialog]"))},[b,x]),$.useEffect(()=>{E&&b.current&&!b.current.contains(document.activeElement)&&ee(b.current)},[E,b]);let w={...m.style,...g.style},h=C.createElement("div",{...le(ne(r),m),...g,role:E?"dialog":void 0,tabIndex:E?-1:void 0,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"],ref:b,slot:r.slot||void 0,style:w,dir:r.dir,"data-trigger":r.trigger,"data-placement":u,"data-entering":v||void 0,"data-exiting":e||void 0},!r.isNonModal&&C.createElement(me,{onDismiss:t.close}),C.createElement(rr.Provider,{value:{...f,placement:u,ref:o}},g.children),C.createElement(me,{onDismiss:t.close}));if(!d)return C.createElement(ve,{...r,shouldContainFocus:E,isExiting:e,portalContainer:l},!r.isNonModal&&t.isOpen&&C.createElement("div",{"data-testid":"underlay",...p,style:{position:"fixed",inset:0}}),C.createElement("div",{ref:i,style:{display:"contents"}},C.createElement(be.Provider,{value:i},h)));var O;return C.createElement(ve,{...r,shouldContainFocus:E,isExiting:e,portalContainer:(O=l??(a==null?void 0:a.current))!==null&&O!==void 0?O:void 0},h)}const nr=$.createContext(null),lt=$.createContext(null),Rr=$.forwardRef(function(e,l){let r=e["aria-labelledby"];[e,l]=ge(e,l,nr);let{dialogProps:o,titleProps:n}=er({...e,"aria-labelledby":r},l),c=$.useContext(lt);!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let i=xe({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(c==null?void 0:c.close)||(()=>{})}});return C.createElement("section",{...ne(e),...o,...i,ref:l,slot:e.slot||void 0},C.createElement(ft,{values:[[$t,{slots:{[ae]:{},title:{...n,level:2}}}],[pt,{slots:{[ae]:{},close:{onPress:()=>c==null?void 0:c.close()}}}]]},i.children))});export{yr as $,Rr as a,wr as b,tr as c,se as d,lt as e,or as f,Pr as g,Yt as h,Bt as i,nr as j};
