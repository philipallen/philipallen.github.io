import{c as y,d as O,a as q,$ as E,l as k,h as L,b as C,f as _,g as N,i as T}from"./utils-l5KLAjAw.js";import{b as W,a as A,$ as G,c as H,d as K}from"./Form-DDhzfXRW.js";import{b as j,$ as U}from"./Label-DGdLAgDC.js";import{a as z}from"./Text-DsbvCy5R.js";import{d as J,e as B,c as Q,a as X,$ as Y}from"./useFocusRing-xuvxHm_5.js";import{r as V,e as I}from"./index-KmaxkdDD.js";import{$ as M}from"./usePress-DcYN71RK.js";import{$ as Z}from"./FocusScope-DK63zPm7.js";import{$ as ee}from"./context-CQmu07jL.js";import{$ as ae}from"./VisuallyHidden-to5K4EiD.js";import{$ as ie}from"./useControlledState-BCPvzKxG.js";const S=new WeakMap;function de(a,e,d){let{value:r,children:c,"aria-label":l,"aria-labelledby":s}=a;const i=a.isDisabled||e.isDisabled;let u=c!=null,f=l!=null||s!=null;!u&&!f&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let t=e.selectedValue===r,p=R=>{R.stopPropagation(),e.setSelectedValue(r)},{pressProps:m,isPressed:P}=M({isDisabled:i}),{pressProps:x,isPressed:$}=M({isDisabled:i,onPress(){var R;e.setSelectedValue(r),(R=d.current)===null||R===void 0||R.focus()}}),{focusableProps:F}=J(y(a,{onFocus:()=>e.setLastFocusedValue(r)}),d),g=y(m,F),D=B(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===r&&(v=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:b,descriptionId:o,errorMessageId:h,validationBehavior:n}=S.get(e);return j(d,e.selectedValue,e.setSelectedValue),W({validationBehavior:n},e,d),{labelProps:y(x,{onClick:R=>R.preventDefault()}),inputProps:y(D,{...g,type:"radio",name:b,tabIndex:v,disabled:i,required:e.isRequired&&n==="native",checked:t,value:r,onChange:p,"aria-describedby":[a["aria-describedby"],e.isInvalid?h:null,o].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:t,isPressed:P||$}}function le(a,e){let{name:d,isReadOnly:r,isRequired:c,isDisabled:l,orientation:s="vertical",validationBehavior:i="aria"}=a,{direction:u}=ee(),{isInvalid:f,validationErrors:t,validationDetails:p}=e.displayValidation,{labelProps:m,fieldProps:P,descriptionProps:x,errorMessageProps:$}=A({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||t}),F=B(a,{labelable:!0}),{focusWithinProps:g}=Q({onBlurWithin(b){var o;(o=a.onBlur)===null||o===void 0||o.call(a,b),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),D=b=>{let o;switch(b.key){case"ArrowRight":u==="rtl"&&s!=="vertical"?o="prev":o="next";break;case"ArrowLeft":u==="rtl"&&s!=="vertical"?o="next":o="prev";break;case"ArrowDown":o="next";break;case"ArrowUp":o="prev";break;default:return}b.preventDefault();let h=Z(b.currentTarget,{from:b.target}),n;o==="next"?(n=h.nextNode(),n||(h.currentNode=b.currentTarget,n=h.firstChild())):(n=h.previousNode(),n||(h.currentNode=b.currentTarget,n=h.lastChild())),n&&(n.focus(),e.setSelectedValue(n.value))},v=O(d);return S.set(e,{name:v,descriptionId:x.id,errorMessageId:$.id,validationBehavior:i}),{radioGroupProps:y(F,{role:"radiogroup",onKeyDown:D,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":c||void 0,"aria-disabled":l||void 0,"aria-orientation":s,...P,...g}),labelProps:m,descriptionProps:x,errorMessageProps:$,isInvalid:f,validationErrors:t,validationDetails:p}}let re=Math.round(Math.random()*1e10),se=0;function te(a){let e=V.useMemo(()=>a.name||`radio-group-${re}-${++se}`,[a.name]);var d;let[r,c]=ie(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[l,s]=V.useState(null),i=G({...a,value:r}),u=t=>{!a.isReadOnly&&!a.isDisabled&&(c(t),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:r,setSelectedValue:u,lastFocusedValue:l,setLastFocusedValue:s,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=V.createContext(null),ne=V.createContext(null),w=V.createContext(null),Re=V.forwardRef(function(e,d){[e,d]=q(e,d,oe);let{validationBehavior:r}=_(H)||{};var c,l;let s=(l=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&l!==void 0?l:"native",i=te({...e,validationBehavior:s}),[u,f]=N(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:p,descriptionProps:m,errorMessageProps:P,...x}=le({...e,label:f,validationBehavior:s},i),$=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return I.createElement("div",{...t,...$,ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},I.createElement(T,{values:[[w,i],[U,{...p,ref:u,elementType:"span"}],[z,{slots:{description:m,errorMessage:P}}],[K,x]]},$.children))}),ye=V.forwardRef(function(e,d){let{inputRef:r=null,...c}=e;[e,d]=q(c,d,ne);let l=I.useContext(w),s=E(k(r,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:u,isSelected:f,isDisabled:t,isPressed:p}=de({...L(e),children:typeof e.children=="function"?!0:e.children},l,s),{isFocused:m,isFocusVisible:P,focusProps:x}=X(),$=t||l.isReadOnly,{hoverProps:F,isHovered:g}=Y({...e,isDisabled:$}),D=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:p,isHovered:g,isFocused:m,isFocusVisible:P,isDisabled:t,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),v=B(e);return delete v.id,I.createElement("label",{...y(v,i,F,D),ref:d,"data-selected":f||void 0,"data-pressed":p||void 0,"data-hovered":g||void 0,"data-focused":m||void 0,"data-focus-visible":P||void 0,"data-disabled":t||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},I.createElement(ae,{elementType:"span"},I.createElement("input",{...y(u,x),ref:s})),D.children)});export{ne as $,ye as a,Re as b};
