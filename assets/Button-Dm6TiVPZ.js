import{a as k,b as I,d as S,c as T,e as U}from"./useFocusRing-8RL9AhDF.js";import{r as m,R as y}from"./index-DH5ua8nC.js";import{$ as C}from"./LiveAnnouncer-CeCcBDbP.js";import{$ as h,c as D}from"./useFocusWithin-D15f1-3B.js";import{$ as F}from"./focusSafely-CjmyL4wt.js";import{$ as V}from"./useFocusable-bM5OvyXg.js";import{$ as H}from"./usePress-BnN3djkX.js";function O(e,s){let{elementType:d="button",isDisabled:n,onPress:a,onPressStart:i,onPressEnd:x,onPressUp:p,onPressChange:r,preventFocusOnPress:b,allowFocusWhenDisabled:v,onClick:f,href:u,target:$,rel:o,type:l="button"}=e,t;d==="button"?t={type:l,disabled:n}:t={role:"button",tabIndex:n?void 0:0,href:d==="a"&&!n?u:void 0,target:d==="a"?$:void 0,type:d==="input"?l:void 0,disabled:d==="input"?n:void 0,"aria-disabled":!n||d==="input"?void 0:n,rel:d==="a"?o:void 0};let{pressProps:c,isPressed:P}=H({onPressStart:i,onPressEnd:x,onPressChange:r,onPress:a,onPressUp:p,isDisabled:n,preventFocusOnPress:b,ref:s}),{focusableProps:g}=V(e,s);v&&(g.tabIndex=n?-1:g.tabIndex);let E=h(g,c,F(e,{labelable:!0}));return{isPressed:P,buttonProps:h(t,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:w=>{f&&(f(w),console.warn("onClick is deprecated, please use onPress"))}})}}const B=m.createContext(null),N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=m.createContext({}),G=k(function(s,d){[s,d]=I(s,d,R),s=A(s);let n=s,{isPending:a}=n,{buttonProps:i,isPressed:x}=O(s,d),{focusProps:p,isFocused:r,isFocusVisible:b}=S(s),{hoverProps:v,isHovered:f}=T({...s,isDisabled:s.isDisabled||a}),u={isHovered:f,isPressed:(n.isPressed||x)&&!a,isFocused:r,isFocusVisible:b,isDisabled:s.isDisabled||!1,isPending:a??!1},$=U({...s,values:u,defaultClassName:"react-aria-Button"}),o=D(i.id),l=D(),t=i["aria-labelledby"];a&&(t?t=`${t} ${l}`:i["aria-label"]&&(t=`${o} ${l}`));let c=m.useRef(a);return m.useEffect(()=>{let P={"aria-labelledby":t||o};!c.current&&r&&a?C(P,"assertive"):c.current&&r&&!a&&C(P,"assertive"),c.current=a},[a,r,t,o]),y.createElement("button",{...F(s,{propNames:N}),...h(i,p,v),...$,type:i.type==="submit"&&a?"button":i.type,id:o,ref:d,"aria-labelledby":t,slot:s.slot||void 0,"aria-disabled":a?"true":i["aria-disabled"],"data-disabled":s.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":f||void 0,"data-focused":r||void 0,"data-pending":a||void 0,"data-focus-visible":b||void 0},y.createElement(B.Provider,{value:{id:l}},$.children))});function A(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{G as $,R as a};
