import{R as s,r as c}from"./index-c013ead5.js";const f=typeof document<"u"?s.useLayoutEffect:()=>{};function p(n){const e=c.useRef(null);return f(()=>{e.current=n},[n]),c.useCallback((...r)=>{const t=e.current;return t==null?void 0:t(...r)},[])}function m(n){let[e,r]=c.useState(n),t=c.useRef(null),u=p(()=>{if(!t.current)return;let a=t.current.next();if(a.done){t.current=null;return}e===a.value?u():r(a.value)});f(()=>{t.current&&u()});let o=p(a=>{t.current=a(e),u()});return[e,o]}const d={prefix:String(Math.round(Math.random()*1e10)),current:0},v=s.createContext(d),x=s.createContext(!1);let y=!!(typeof window<"u"&&window.document&&window.document.createElement),b=new WeakMap;function S(n=!1){let e=c.useContext(v),r=c.useRef(null);if(r.current===null&&!n){var t,u;let o=(u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||u===void 0||(t=u.ReactCurrentOwner)===null||t===void 0?void 0:t.current;if(o){let a=b.get(o);a==null?b.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==a.state&&(e.current=a.id,b.delete(o))}r.current=++e.current}return r.current}function w(n){let e=c.useContext(v);e===d&&!y&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=S(!!n),t=`react-aria${e.prefix}`;return n||`${t}-${r}`}function F(n){let e=s.useId(),[r]=c.useState(k()),t=r?"react-aria":`react-aria${d.prefix}`;return n||`${t}-${e}`}const C=typeof s.useId=="function"?F:w;function P(){return!1}function M(){return!0}function W(n){return()=>{}}function k(){return typeof s.useSyncExternalStore=="function"?s.useSyncExternalStore(W,P,M):c.useContext(x)}let T=!!(typeof window<"u"&&window.document&&window.document.createElement),$=new Map;function H(n){let[e,r]=c.useState(n),t=c.useRef(null),u=C(e),o=c.useCallback(a=>{t.current=a},[]);return T&&$.set(u,o),f(()=>{let a=u;return()=>{$.delete(a)}},[u]),c.useEffect(()=>{let a=t.current;a&&(t.current=null,r(a))}),u}function I(n,e){if(n===e)return n;let r=$.get(n);if(r)return r(e),e;let t=$.get(e);return t?(t(n),n):e}function D(n=[]){let e=H(),[r,t]=m(e),u=c.useCallback(()=>{t(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,t]);return f(u,[e,u,...n]),r}function V(...n){return(...e)=>{for(let r of n)typeof r=="function"&&r(...e)}}function h(n){var e,r,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(e=0;e<u;e++)n[e]&&(r=h(n[e]))&&(t&&(t+=" "),t+=r)}else for(r in n)n[r]&&(t&&(t+=" "),t+=r);return t}function B(){for(var n,e,r=0,t="",u=arguments.length;r<u;r++)(n=arguments[r])&&(e=h(n))&&(t&&(t+=" "),t+=e);return t}function A(...n){let e={...n[0]};for(let r=1;r<n.length;r++){let t=n[r];for(let u in t){let o=e[u],a=t[u];typeof o=="function"&&typeof a=="function"&&u[0]==="o"&&u[1]==="n"&&u.charCodeAt(2)>=65&&u.charCodeAt(2)<=90?e[u]=V(o,a):(u==="className"||u==="UNSAFE_className")&&typeof o=="string"&&typeof a=="string"?e[u]=B(o,a):u==="id"&&o&&a?e.id=I(o,a):e[u]=a!==void 0?a:o}}return e}class z{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}}function j(n){let e=c.useRef({isFocused:!1,observer:null});f(()=>{const t=e.current;return()=>{t.observer&&(t.observer.disconnect(),t.observer=null)}},[]);let r=p(t=>{n==null||n(t)});return c.useCallback(t=>{if(t.target instanceof HTMLButtonElement||t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){e.current.isFocused=!0;let u=t.target,o=a=>{e.current.isFocused=!1,u.disabled&&r(new z("blur",a)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};u.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&u.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let l=u===document.activeElement?null:document.activeElement;u.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),u.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(u,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function G(n){let{isDisabled:e,onBlurWithin:r,onFocusWithin:t,onFocusWithinChange:u}=n,o=c.useRef({isFocusWithin:!1}),a=c.useCallback(i=>{o.current.isFocusWithin&&!i.currentTarget.contains(i.relatedTarget)&&(o.current.isFocusWithin=!1,r&&r(i),u&&u(!1))},[r,u,o]),l=j(a),g=c.useCallback(i=>{!o.current.isFocusWithin&&document.activeElement===i.target&&(t&&t(i),u&&u(!0),o.current.isFocusWithin=!0,l(i))},[t,u,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:g,onBlur:a}}}export{A as $,G as a,f as b,H as c,p as d,k as e,V as f,j as g,D as h};
