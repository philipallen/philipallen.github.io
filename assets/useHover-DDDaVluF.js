import{r as d,e as T}from"./index-KmaxkdDD.js";import{a as J,$ as Q,d as ae}from"./platform-kF5l1-53.js";import{$ as X}from"./chain-Z-ySmOka.js";import{e as ie,c as z}from"./utils-l5KLAjAw.js";const $=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},p=e=>e&&"window"in e&&e.window===e?e:$(e).defaultView||window;function se(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function le(e){return se(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let de=!1;function U(){return de}function ce(e,n){if(!U())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:le(t)?t=t.host:t=t.parentNode}return!1}const H=(e=document)=>{var n;if(!U())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function ue(e){return U()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}const fe=new Set(["id"]),be=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),$e=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),pe=/^(data-.*)$/;function _e(e,n={}){let{labelable:t,isLink:r,propNames:o}=n,l={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(fe.has(i)||t&&be.has(i)||r&&$e.has(i)||o!=null&&o.has(i)||pe.test(i))&&(l[i]=e[i]);return l}function M(e){if(ve())e.focus({preventScroll:!0});else{let n=me(e);e.focus(),Ee(n)}}let P=null;function ve(){if(P==null){P=!1;try{document.createElement("div").focus({get preventScroll(){return P=!0,!0}})}catch{}}return P}function me(e){let n=e.parentNode,t=[],r=document.scrollingElement||document.documentElement;for(;n instanceof HTMLElement&&n!==r;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),n=n.parentNode;return r instanceof HTMLElement&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),t}function Ee(e){for(let{element:n,scrollTop:t,scrollLeft:r}of e)n.scrollTop=t,n.scrollLeft=r}let h=new Map,A=new Set;function V(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let n=r=>{if(!e(r)||!r.target)return;let o=h.get(r.target);o||(o=new Set,h.set(r.target,o),r.target.addEventListener("transitioncancel",t,{once:!0})),o.add(r.propertyName)},t=r=>{if(!e(r)||!r.target)return;let o=h.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",t),h.delete(r.target)),h.size===0)){for(let l of A)l();A.clear()}};document.body.addEventListener("transitionrun",n),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?V():document.addEventListener("DOMContentLoaded",V));function Z(e){requestAnimationFrame(()=>{h.size===0?e():A.add(e)})}function ge(){let e=d.useRef(new Map),n=d.useCallback((o,l,i,a)=>{let s=a!=null&&a.once?(...b)=>{e.current.delete(i),i(...b)}:i;e.current.set(i,{type:l,eventTarget:o,fn:s,options:a}),o.addEventListener(l,s,a)},[]),t=d.useCallback((o,l,i,a)=>{var s;let b=((s=e.current.get(i))===null||s===void 0?void 0:s.fn)||i;o.removeEventListener(l,b,a),e.current.delete(i)},[]),r=d.useCallback(()=>{e.current.forEach((o,l)=>{t(o.eventTarget,o.type,l,o.options)})},[t]);return d.useEffect(()=>r,[r]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:r}}function he(e,n){X(()=>{if(e&&e.ref&&n)return e.ref.current=n.current,()=>{e.ref&&(e.ref.current=null)}})}function ye(e){return e.mozInputSource===0&&e.isTrusted?!0:J()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function We(e){return!J()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const _=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],Le=_.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";_.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Te=_.join(':not([hidden]):not([tabindex="-1"]),');function we(e){return e.matches(Le)}function ze(e){return e.matches(Te)}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const k=d.createContext(!1);function Ve(e){if(d.useContext(k))return T.createElement(T.Fragment,null,e.children);let t=T.createElement(k.Provider,{value:!0},e.children);return T.createElement("template",{"data-react-aria-hidden":!0},t)}function qe(e){let n=(t,r)=>d.useContext(k)?null:e(t,r);return n.displayName=e.displayName||e.name,d.forwardRef(n)}function Ye(){return d.useContext(k)}let y="default",G="",S=new WeakMap;function Je(e){if(Q()){if(y==="default"){const n=$(e);G=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}y="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let n="userSelect"in e.style?"userSelect":"webkitUserSelect";S.set(e,e.style[n]),e.style[n]="none"}}function Qe(e){if(Q()){if(y!=="disabled")return;y="restoring",setTimeout(()=>{Z(()=>{if(y==="restoring"){const n=$(e);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=G||""),G="",y="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&S.has(e)){let n=S.get(e),t="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[t]==="none"&&(e.style[t]=n),e.getAttribute("style")===""&&e.removeAttribute("style"),S.delete(e)}}class xe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function Pe(e){let n=d.useRef({isFocused:!1,observer:null});X(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=ie(r=>{e==null||e(r)});return d.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,l=i=>{n.current.isFocused=!1,o.disabled&&t(new xe("blur",i)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var i;(i=n.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let C=!1;function Xe(e){for(;e&&!we(e);)e=e.parentElement;let n=p(e),t=n.document.activeElement;if(!t||t===e)return;C=!0;let r=!1,o=u=>{(u.target===t||r)&&u.stopImmediatePropagation()},l=u=>{(u.target===t||r)&&(u.stopImmediatePropagation(),!e&&!r&&(r=!0,M(t),s()))},i=u=>{(u.target===e||r)&&u.stopImmediatePropagation()},a=u=>{(u.target===e||r)&&(u.stopImmediatePropagation(),r||(r=!0,M(t),s()))};n.addEventListener("blur",o,!0),n.addEventListener("focusout",l,!0),n.addEventListener("focusin",a,!0),n.addEventListener("focus",i,!0);let s=()=>{cancelAnimationFrame(b),n.removeEventListener("blur",o,!0),n.removeEventListener("focusout",l,!0),n.removeEventListener("focusin",a,!0),n.removeEventListener("focus",i,!0),C=!1,r=!1},b=requestAnimationFrame(s);return s}let m=null,B=new Set,w=new Map,v=!1,j=!1;const Se={Tab:!0,Escape:!0};function O(e,n){for(let t of B)t(e,n)}function He(e){return!(e.metaKey||!ae()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function F(e){v=!0,He(e)&&(m="keyboard",O("keyboard",e))}function f(e){m="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(v=!0,O("pointer",e))}function ee(e){ye(e)&&(v=!0,m="virtual")}function te(e){e.target===window||e.target===document||C||!e.isTrusted||(!v&&!j&&(m="virtual",O("virtual",e)),v=!1,j=!1)}function ne(){C||(v=!1,j=!0)}function K(e){if(typeof window>"u"||w.get(p(e)))return;const n=p(e),t=$(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){v=!0,r.apply(this,arguments)},t.addEventListener("keydown",F,!0),t.addEventListener("keyup",F,!0),t.addEventListener("click",ee,!0),n.addEventListener("focus",te,!0),n.addEventListener("blur",ne,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",f,!0),t.addEventListener("pointermove",f,!0),t.addEventListener("pointerup",f,!0)):(t.addEventListener("mousedown",f,!0),t.addEventListener("mousemove",f,!0),t.addEventListener("mouseup",f,!0)),n.addEventListener("beforeunload",()=>{re(e)},{once:!0}),w.set(n,{focus:r})}const re=(e,n)=>{const t=p(e),r=$(e);n&&r.removeEventListener("DOMContentLoaded",n),w.has(t)&&(t.HTMLElement.prototype.focus=w.get(t).focus,r.removeEventListener("keydown",F,!0),r.removeEventListener("keyup",F,!0),r.removeEventListener("click",ee,!0),t.removeEventListener("focus",te,!0),t.removeEventListener("blur",ne,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",f,!0),r.removeEventListener("pointermove",f,!0),r.removeEventListener("pointerup",f,!0)):(r.removeEventListener("mousedown",f,!0),r.removeEventListener("mousemove",f,!0),r.removeEventListener("mouseup",f,!0)),w.delete(t))};function Me(e){const n=$(e);let t;return n.readyState!=="loading"?K(e):(t=()=>{K(e)},n.addEventListener("DOMContentLoaded",t)),()=>re(e,t)}typeof document<"u"&&Me();function ke(){return m!=="pointer"}function Ce(){return m}function Ze(e){m=e,O(e,null)}const Fe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function De(e,n,t){let r=$(t==null?void 0:t.target);const o=typeof window<"u"?p(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?p(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?p(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?p(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Fe.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof a&&!Se[t.key])}function et(e,n,t){K(),d.useEffect(()=>{let r=(o,l)=>{De(!!(t!=null&&t.isTextInput),o,l)&&e(ke())};return B.add(r),()=>{B.delete(r)}},n)}function Oe(e){const n=$(e),t=H(n);if(Ce()==="virtual"){let r=t;Z(()=>{H(n)===r&&e.isConnected&&M(e)})}else M(e)}function Ne(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const l=d.useCallback(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),i=Pe(l),a=d.useCallback(s=>{const b=$(s.target),u=b?H(b):H();s.target===s.currentTarget&&u===ue(s.nativeEvent)&&(t&&t(s),o&&o(!0),i(s))},[o,t,i]);return{focusProps:{onFocus:!n&&(t||o||r)?a:void 0,onBlur:!n&&(r||o)?l:void 0}}}function q(e){if(!e)return;let n=!0;return t=>{let r={...t,preventDefault(){t.preventDefault()},isDefaultPrevented(){return t.isDefaultPrevented()},stopPropagation(){n?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):n=!0},continuePropagation(){n=!1},isPropagationStopped(){return n}};e(r),n&&t.stopPropagation()}}function Ie(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:q(e.onKeyDown),onKeyUp:q(e.onKeyUp)}}}let Ae=T.createContext(null);function Ge(e){let n=d.useContext(Ae)||{};he(n,e);let{ref:t,...r}=n;return r}function tt(e,n){let{focusProps:t}=Ne(e),{keyboardProps:r}=Ie(e),o=z(t,r),l=Ge(n),i=e.isDisabled?{}:l,a=d.useRef(e.autoFocus);d.useEffect(()=>{a.current&&n.current&&Oe(n.current),a.current=!1},[n]);let s=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(s=void 0),{focusableProps:z({...o,tabIndex:s},i)}}let D=!1,I=0;function R(){D=!0,setTimeout(()=>{D=!1},50)}function Y(e){e.pointerType==="touch"&&R()}function Be(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Y):document.addEventListener("touchend",R),I++,()=>{I--,!(I>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Y):document.removeEventListener("touchend",R))}}function nt(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[l,i]=d.useState(!1),a=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(Be,[]);let{addGlobalListener:s,removeAllGlobalListeners:b}=ge(),{hoverProps:u,triggerHoverEnd:oe}=d.useMemo(()=>{let W=(c,g)=>{if(a.pointerType=g,o||g==="touch"||a.isHovered||!c.currentTarget.contains(c.target))return;a.isHovered=!0;let L=c.currentTarget;a.target=L,s($(c.target),"pointerover",N=>{a.isHovered&&a.target&&!ce(a.target,N.target)&&x(N,N.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:L,pointerType:g}),t&&t(!0),i(!0)},x=(c,g)=>{let L=a.target;a.pointerType="",a.target=null,!(g==="touch"||!a.isHovered||!L)&&(a.isHovered=!1,b(),r&&r({type:"hoverend",target:L,pointerType:g}),t&&t(!1),i(!1))},E={};return typeof PointerEvent<"u"?(E.onPointerEnter=c=>{D&&c.pointerType==="mouse"||W(c,c.pointerType)},E.onPointerLeave=c=>{!o&&c.currentTarget.contains(c.target)&&x(c,c.pointerType)}):(E.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},E.onMouseEnter=c=>{!a.ignoreEmulatedMouseEvents&&!D&&W(c,"mouse"),a.ignoreEmulatedMouseEvents=!1},E.onMouseLeave=c=>{!o&&c.currentTarget.contains(c.target)&&x(c,"mouse")}),{hoverProps:E,triggerHoverEnd:x}},[n,t,r,o,a,s,b]);return d.useEffect(()=>{o&&oe({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:u,isHovered:l}}export{nt as $,ye as A,he as B,Ve as C,Ae as D,Ye as E,qe as a,tt as b,_e as c,p as d,ge as e,Pe as f,$ as g,H as h,ue as i,ce as j,xe as k,ke as l,et as m,Ne as n,U as o,Oe as p,ze as q,we as r,Ce as s,Ze as t,Qe as u,Je as v,M as w,Ie as x,We as y,Xe as z};
