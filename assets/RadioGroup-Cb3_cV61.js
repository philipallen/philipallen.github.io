import{f as B,b as q,$ as O,s as k,m as E,d as L,c as N,e as C,k as _,l as T,n as W}from"./useFocusRing-CELWytXw.js";import{b as A,a as G,$ as H,c as K,d as j}from"./Form-OUETqAF2.js";import{a as U,b as z}from"./useLabel-hJ0mwhYX.js";import{a as J}from"./Text-X8DQBs4N.js";import{$ as R,a as Q,b as X}from"./useFocusWithin-Dp0pJUJ1.js";import{r as y,R as g}from"./index-DH5ua8nC.js";import{$ as Y}from"./useFocusable-B98p06UY.js";import{$ as M}from"./usePress-DAUyqWol.js";import{$ as Z}from"./FocusScope-DBUbNCbs.js";import{$ as ee}from"./context-CIGhUvog.js";import{$ as ae}from"./VisuallyHidden-C0e1y2IE.js";import{$ as ie}from"./useControlledState-BSXamw7l.js";const S=new WeakMap;function de(a,e,l){let{value:r,children:c,"aria-label":d,"aria-labelledby":s}=a;const i=a.isDisabled||e.isDisabled;let u=c!=null,f=d!=null||s!=null;!u&&!f&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let t=e.selectedValue===r,p=F=>{F.stopPropagation(),e.setSelectedValue(r)},{pressProps:m,isPressed:P}=M({isDisabled:i}),{pressProps:x,isPressed:$}=M({isDisabled:i,onPress(){e.setSelectedValue(r)}}),{focusableProps:I}=Y(R(a,{onFocus:()=>e.setLastFocusedValue(r)}),l),V=R(m,I),D=B(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===r&&(v=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:b,descriptionId:o,errorMessageId:h,validationBehavior:n}=S.get(e);return U(l,e.selectedValue,e.setSelectedValue),A({validationBehavior:n},e,l),{labelProps:R(x,{onClick:F=>F.preventDefault()}),inputProps:R(D,{...V,type:"radio",name:b,tabIndex:v,disabled:i,required:e.isRequired&&n==="native",checked:t,value:r,onChange:p,"aria-describedby":[a["aria-describedby"],e.isInvalid?h:null,o].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:t,isPressed:P||$}}function le(a,e){let{name:l,isReadOnly:r,isRequired:c,isDisabled:d,orientation:s="vertical",validationBehavior:i="aria"}=a,{direction:u}=ee(),{isInvalid:f,validationErrors:t,validationDetails:p}=e.displayValidation,{labelProps:m,fieldProps:P,descriptionProps:x,errorMessageProps:$}=G({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||t}),I=B(a,{labelable:!0}),{focusWithinProps:V}=Q({onBlurWithin(b){var o;(o=a.onBlur)===null||o===void 0||o.call(a,b),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),D=b=>{let o;switch(b.key){case"ArrowRight":u==="rtl"&&s!=="vertical"?o="prev":o="next";break;case"ArrowLeft":u==="rtl"&&s!=="vertical"?o="next":o="prev";break;case"ArrowDown":o="next";break;case"ArrowUp":o="prev";break;default:return}b.preventDefault();let h=Z(b.currentTarget,{from:b.target}),n;o==="next"?(n=h.nextNode(),n||(h.currentNode=b.currentTarget,n=h.firstChild())):(n=h.previousNode(),n||(h.currentNode=b.currentTarget,n=h.lastChild())),n&&(n.focus(),e.setSelectedValue(n.value))},v=X(l);return S.set(e,{name:v,descriptionId:x.id,errorMessageId:$.id,validationBehavior:i}),{radioGroupProps:R(I,{role:"radiogroup",onKeyDown:D,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":c||void 0,"aria-disabled":d||void 0,"aria-orientation":s,...P,...V}),labelProps:m,descriptionProps:x,errorMessageProps:$,isInvalid:f,validationErrors:t,validationDetails:p}}let re=Math.round(Math.random()*1e10),se=0;function te(a){let e=y.useMemo(()=>a.name||`radio-group-${re}-${++se}`,[a.name]);var l;let[r,c]=ie(a.value,(l=a.defaultValue)!==null&&l!==void 0?l:null,a.onChange),[d,s]=y.useState(null),i=H({...a,value:r}),u=t=>{!a.isReadOnly&&!a.isDisabled&&(c(t),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:r,setSelectedValue:u,lastFocusedValue:d,setLastFocusedValue:s,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=y.createContext(null),ne=y.createContext(null),w=y.createContext(null),ye=y.forwardRef(function(e,l){[e,l]=q(e,l,oe);let{validationBehavior:r}=_(K)||{};var c,d;let s=(d=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:"native",i=te({...e,validationBehavior:s}),[u,f]=T(),{radioGroupProps:t,labelProps:p,descriptionProps:m,errorMessageProps:P,...x}=le({...e,label:f,validationBehavior:s},i),$=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return g.createElement("div",{...t,...$,ref:l,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},g.createElement(W,{values:[[w,i],[z,{...p,ref:u,elementType:"span"}],[J,{slots:{description:m,errorMessage:P}}],[j,x]]},$.children))}),Ve=y.forwardRef(function(e,l){let{inputRef:r=null,...c}=e;[e,l]=q(c,l,ne);let d=g.useContext(w),s=O(k(r,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:u,isSelected:f,isDisabled:t,isPressed:p}=de({...E(e),children:typeof e.children=="function"?!0:e.children},d,s),{isFocused:m,isFocusVisible:P,focusProps:x}=L(),$=t||d.isReadOnly,{hoverProps:I,isHovered:V}=N({...e,isDisabled:$}),D=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:p,isHovered:V,isFocused:m,isFocusVisible:P,isDisabled:t,isReadOnly:d.isReadOnly,isInvalid:d.isInvalid,isRequired:d.isRequired}}),v=B(e);return delete v.id,g.createElement("label",{...R(v,i,I,D),ref:l,"data-selected":f||void 0,"data-pressed":p||void 0,"data-hovered":V||void 0,"data-focused":m||void 0,"data-focus-visible":P||void 0,"data-disabled":t||void 0,"data-readonly":d.isReadOnly||void 0,"data-invalid":d.isInvalid||void 0,"data-required":d.isRequired||void 0},g.createElement(ae,{elementType:"span"},g.createElement("input",{...R(u,x),ref:s})),D.children)});export{Ve as $,ye as a,ne as b};
