import{$ as M,d as w,a as L}from"./useFocusWithin-D15f1-3B.js";import{r as l,R as y}from"./index-DH5ua8nC.js";import{$ as V}from"./chain-Crd5RmWG.js";import{r as k}from"./index-D9uilScg.js";import{e as F,h as N,i as j,j as D,b as R}from"./focusSafely-CjmyL4wt.js";import{b as P}from"./platform-Dbfj6p2q.js";function I(...e){return e.length===1&&e[0]?e[0]:t=>{for(let n of e)typeof n=="function"?n(t):n!=null&&(n.current=t)}}function O(e){const t=l.useRef(null);return l.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,typeof e=="function"?e(n):e&&(e.current=n)}}),[e])}const C=Symbol("default");function Q({values:e,children:t}){for(let[n,r]of e)t=y.createElement(n.Provider,{value:r},t);return t}function X(e){let{className:t,style:n,children:r,defaultClassName:o,defaultChildren:i,defaultStyle:d,values:s}=e;return l.useMemo(()=>{let f,c,u;return typeof t=="function"?f=t({...s,defaultClassName:o}):f=t,typeof n=="function"?c=n({...s,defaultStyle:d||{}}):c=n,typeof r=="function"?u=r({...s,defaultChildren:i}):r==null?u=i:u=r,{className:f??o,style:c||d?{...d,...c}:void 0,children:u??i,"data-rac":""}},[t,n,r,o,i,d,s])}function U(e,t){let n=l.useContext(e);if(t===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=new Intl.ListFormat().format(Object.keys(n.slots).map(i=>`"${i}"`));if(!t&&!n.slots[C])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let o=t||C;if(!n.slots[o])throw new Error(`Invalid slot "${t}". Valid slot names are ${r}.`);return n.slots[o]}return n}function Y(e,t,n){let r=U(n,e.slot)||{},{ref:o,...i}=r,d=O(l.useMemo(()=>I(t,o),[t,o])),s=M(i,e);return"style"in i&&i.style&&"style"in e&&e.style&&(typeof i.style=="function"||typeof e.style=="function"?s.style=f=>{let c=typeof i.style=="function"?i.style(f):i.style,u={...f.defaultStyle,...c},b=typeof e.style=="function"?e.style({...f,defaultStyle:u}):e.style;return{...u,...b}}:s.style={...i.style,...e.style}),[s,d]}function Z(){let[e,t]=l.useState(!0),n=l.useRef(!1),r=l.useCallback(o=>{n.current=!0,t(!!o)},[]);return V(()=>{n.current||t(!1)},[]),[r,e]}function _(e){const t=/^(data-.*)$/;let n={};for(const r in e)t.test(r)||(n[r]=e[r]);return n}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const E=l.createContext(!1),G=typeof DocumentFragment<"u"?new DocumentFragment:null;function ee(e){let t=l.useContext(E),n=w();if(t)return y.createElement(y.Fragment,null,e.children);let r=y.createElement(E.Provider,{value:!0},e.children);return n?y.createElement("template",{"data-react-aria-hidden":!0},r):k.createPortal(r,G)}function te(e){let t=(n,r)=>l.useContext(E)?null:e(n,r);return t.displayName=e.displayName||e.name,l.forwardRef(t)}function ne(){return l.useContext(E)}let m="default",S="",h=new WeakMap;function re(e){if(P()){if(m==="default"){const t=F(e);S=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}m="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(h.set(e,e.style.userSelect),e.style.userSelect="none")}function oe(e){if(P()){if(m!=="disabled")return;m="restoring",setTimeout(()=>{N(()=>{if(m==="restoring"){const t=F(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=S||""),S="",m="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&h.has(e)){let t=h.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),h.delete(e)}}let x=!1,g=0;function H(){x=!0,setTimeout(()=>{x=!1},50)}function T(e){e.pointerType==="touch"&&H()}function W(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",T):document.addEventListener("touchend",H),g++,()=>{g--,!(g>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",T):document.removeEventListener("touchend",H))}}function se(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,d]=l.useState(!1),s=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(W,[]);let{hoverProps:f,triggerHoverEnd:c}=l.useMemo(()=>{let u=(a,p)=>{if(s.pointerType=p,o||p==="touch"||s.isHovered||!a.currentTarget.contains(a.target))return;s.isHovered=!0;let v=a.currentTarget;s.target=v,t&&t({type:"hoverstart",target:v,pointerType:p}),n&&n(!0),d(!0)},b=(a,p)=>{if(s.pointerType="",s.target=null,p==="touch"||!s.isHovered)return;s.isHovered=!1;let v=a.currentTarget;r&&r({type:"hoverend",target:v,pointerType:p}),n&&n(!1),d(!1)},$={};return typeof PointerEvent<"u"?($.onPointerEnter=a=>{x&&a.pointerType==="mouse"||u(a,a.pointerType)},$.onPointerLeave=a=>{!o&&a.currentTarget.contains(a.target)&&b(a,a.pointerType)}):($.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},$.onMouseEnter=a=>{!s.ignoreEmulatedMouseEvents&&!x&&u(a,"mouse"),s.ignoreEmulatedMouseEvents=!1},$.onMouseLeave=a=>{!o&&a.currentTarget.contains(a.target)&&b(a,"mouse")}),{hoverProps:$,triggerHoverEnd:b}},[t,n,r,o,s]);return l.useEffect(()=>{o&&c({currentTarget:s.target},s.pointerType)},[o]),{hoverProps:f,isHovered:i}}function ae(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=l.useRef({isFocused:!1,isFocusVisible:t||j()}),[i,d]=l.useState(!1),[s,f]=l.useState(()=>o.current.isFocused&&o.current.isFocusVisible),c=l.useCallback(()=>f(o.current.isFocused&&o.current.isFocusVisible),[]),u=l.useCallback(a=>{o.current.isFocused=a,d(a),c()},[c]);D(a=>{o.current.isFocusVisible=a,c()},[],{isTextInput:n});let{focusProps:b}=R({isDisabled:r,onFocusChange:u}),{focusWithinProps:$}=L({isDisabled:!r,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:s,focusProps:r?$:b}}export{O as $,te as a,Y as b,se as c,ae as d,X as e,U as f,Z as g,_ as h,Q as i,C as j,I as k,oe as l,re as m,ee as n,ne as o};
