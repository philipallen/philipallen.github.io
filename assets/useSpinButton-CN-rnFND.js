import{r as f}from"./index-DH5ua8nC.js";import{a as Fe,$ as Ae,e as Ce}from"./useLabel-IkqvFfsj.js";import{d as L,b as Te,h as k,$ as Re}from"./useFocusWithin-DtMhJA8W.js";import{r as Be,k as ke}from"./useFocusable-C8W1vPXm.js";const q={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},Y={...q,customError:!0,valid:!1},M={isInvalid:!1,validationDetails:q,validationErrors:[]},Ue=f.createContext({}),U="__formValidationState"+Date.now();function mt(i){if(i[U]){let{realtimeValidation:e,displayValidation:t,updateValidation:a,resetValidation:r,commitValidation:n}=i[U];return{realtimeValidation:e,displayValidation:t,updateValidation:a,resetValidation:r,commitValidation:n}}return _e(i)}function _e(i){let{isInvalid:e,validationState:t,name:a,value:r,builtinValidation:n,validate:s,validationBehavior:l="aria"}=i;t&&(e||(e=t==="invalid"));let u=e!==void 0?{isInvalid:e,validationErrors:[],validationDetails:Y}:null,d=f.useMemo(()=>_(je(s,r)),[s,r]);n!=null&&n.validationDetails.valid&&(n=null);let m=f.useContext(Ue),p=f.useMemo(()=>a?Array.isArray(a)?a.flatMap(o=>B(m[o])):B(m[a]):[],[m,a]),[h,E]=f.useState(m),[$,P]=f.useState(!1);m!==h&&(E(m),P(!1));let b=f.useMemo(()=>_($?[]:p),[$,p]),V=f.useRef(M),[g,y]=f.useState(M),v=f.useRef(M),S=()=>{if(!w)return;x(!1);let o=d||n||V.current;T(o,v.current)||(v.current=o,y(o))},[w,x]=f.useState(!1);return f.useEffect(S),{realtimeValidation:u||b||d||n||M,displayValidation:l==="native"?u||b||g:u||b||d||n||g,updateValidation(o){l==="aria"&&!T(g,o)?y(o):V.current=o},resetValidation(){let o=M;T(o,v.current)||(v.current=o,y(o)),l==="native"&&x(!1),P(!0)},commitValidation(){l==="native"&&x(!0),P(!0)}}}function B(i){return i?Array.isArray(i)?i:[i]:[]}function je(i,e){if(typeof i=="function"){let t=i(e);if(t&&typeof t!="boolean")return B(t)}return[]}function _(i){return i.length?{isInvalid:!0,validationErrors:i,validationDetails:Y}:null}function T(i,e){return i===e?!0:i&&e&&i.isInvalid===e.isInvalid&&i.validationErrors.length===e.validationErrors.length&&i.validationErrors.every((t,a)=>t===e.validationErrors[a])&&Object.entries(i.validationDetails).every(([t,a])=>e.validationDetails[t]===a)}const ze=Symbol.for("react-aria.i18n.locale"),Ge=Symbol.for("react-aria.i18n.strings");let D;class C{getStringForLocale(e,t){let r=this.getStringsForLocale(t)[e];if(!r)throw new Error(`Could not find intl message ${e} in ${t} locale`);return r}getStringsForLocale(e){let t=this.strings[e];return t||(t=Oe(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[ze];if(D===void 0){let r=window[Ge];if(!r)return null;D={};for(let n in r)D[n]=new C({[t]:r[n]},t)}let a=D==null?void 0:D[e];if(!a)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return a}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,a])=>a)),this.defaultLocale=t}}function Oe(i,e,t="en-US"){if(e[i])return e[i];let a=Ke(i);if(e[a])return e[a];for(let r in e)if(r.startsWith(a+"-"))return e[r];return e[t]}function Ke(i){return Intl.Locale?new Intl.Locale(i).language:i.split("-")[0]}const j=new Map,z=new Map;class We{format(e,t){let a=this.strings.getStringForLocale(e,this.locale);return typeof a=="function"?a(t,this):a}plural(e,t,a="cardinal"){let r=t["="+e];if(r)return typeof r=="function"?r():r;let n=this.locale+":"+a,s=j.get(n);s||(s=new Intl.PluralRules(this.locale,{type:a}),j.set(n,s));let l=s.select(e);return r=t[l]||t.other,typeof r=="function"?r():r}number(e){let t=z.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),z.set(this.locale,t)),t.format(e)}select(e,t){let a=e[t]||e.other;return typeof a=="function"?a():a}constructor(e,t){this.locale=e,this.strings=t}}const He=new RegExp("^.*\\(.*\\).*$"),qe=["latn","arab","hanidec"];class Ye{parse(e){return R(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,a){return R(this.locale,this.options,e).isValidPartialNumber(e,t,a)}getNumberingSystem(e){return R(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const G=new Map;function R(i,e,t){let a=O(i,e);if(!i.includes("-nu-")&&!a.isValidPartialNumber(t)){for(let r of qe)if(r!==a.options.numberingSystem){let n=O(i+(i.includes("-u-")?"-nu-":"-u-nu-")+r,e);if(n.isValidPartialNumber(t))return n}}return a}function O(i,e){let t=i+(e?Object.entries(e).sort((r,n)=>r[0]<n[0]?-1:1).join():""),a=G.get(t);return a||(a=new Qe(i,e),G.set(t,a)),a}class Qe{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=A(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-","");let l=t.indexOf(".");l===-1&&(l=t.length),t=t.replace(".",""),l-2===0?t=`0.${t}`:l-2===-1?t=`0.0${t}`:l-2===-2?t="0.00":t=`${t.slice(0,l-2)}.${t.slice(l-2)}`,s>-1&&(t=`-${t}`)}let a=t?+t:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var r,n;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)+2,20),maximumFractionDigits:Math.min(((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)+2,20)};return new Ye(this.locale,s).parse(new Fe(this.locale,s).format(a))}return this.options.currencySign==="accounting"&&He.test(e)&&(a=-1*a),a}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=A(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=A(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,a=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&a>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=A(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=Je(e,this.formatter,this.options,t);var a,r;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||((r=this.options.maximumFractionDigits)!==null&&r!==void 0?r:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const K=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ze=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Je(i,e,t,a){var r,n,s,l;let u=new Intl.NumberFormat(i,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),d=u.formatToParts(-10000.111),m=u.formatToParts(10000.111),p=Ze.map(o=>u.formatToParts(o));var h;let E=(h=(r=d.find(o=>o.type==="minusSign"))===null||r===void 0?void 0:r.value)!==null&&h!==void 0?h:"-",$=(n=m.find(o=>o.type==="plusSign"))===null||n===void 0?void 0:n.value;!$&&((a==null?void 0:a.signDisplay)==="exceptZero"||(a==null?void 0:a.signDisplay)==="always")&&($="+");let b=(s=new Intl.NumberFormat(i,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(o=>o.type==="decimal"))===null||s===void 0?void 0:s.value,V=(l=d.find(o=>o.type==="group"))===null||l===void 0?void 0:l.value,g=d.filter(o=>!K.has(o.type)).map(o=>W(o.value)),y=p.flatMap(o=>o.filter(c=>!K.has(c.type)).map(c=>W(c.value))),v=[...new Set([...g,...y])].sort((o,c)=>c.length-o.length),S=v.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${v.join("|")}|[\\p{White_Space}]`,"gu"),w=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),x=new Map(w.map((o,c)=>[o,c])),I=new RegExp(`[${w.join("")}]`,"g");return{minusSign:E,plusSign:$,decimal:b,group:V,literals:S,numeral:I,index:o=>String(x.get(o))}}function A(i,e,t){return i.replaceAll?i.replaceAll(e,t):i.split(e).join(t)}function W(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pt(i,e,t,a){let r=L(t),n=t==null;f.useEffect(()=>{if(n||!i.current)return;let s=i.current;return s.addEventListener(e,r,a),()=>{s.removeEventListener(e,r,a)}},[i,e,a,n,r])}const H=new WeakMap;function Xe(i){let e=H.get(i);return e||(e=new C(i),H.set(i,e)),e}function et(i,e){return e&&C.getGlobalDictionaryForPackage(e)||Xe(i)}function tt(i,e){let{locale:t}=Ae(),a=et(i,e);return f.useMemo(()=>new We(t,a),[t,a])}const Q=7e3;let N=null;function it(i,e="assertive",t=Q){N||(N=new rt),N.announce(i,e,t)}function at(i){N&&N.clear(i)}class rt{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",a=Q){if(!this.node)return;let r=document.createElement("div");r.textContent=e,t==="assertive"?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),e!==""&&setTimeout(()=>{r.remove()},a)}clear(e){this.node&&((!e||e==="assertive")&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function $t(i,e,t){let{validationBehavior:a,focus:r}=i;Te(()=>{if(a==="native"&&(t!=null&&t.current)){let u=e.realtimeValidation.isInvalid?e.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";t.current.setCustomValidity(u),t.current.hasAttribute("title")||(t.current.title=""),e.realtimeValidation.isInvalid||e.updateValidation(ot(t.current))}});let n=L(()=>{e.resetValidation()}),s=L(u=>{var d;e.displayValidation.isInvalid||e.commitValidation();let m=t==null||(d=t.current)===null||d===void 0?void 0:d.form;if(!u.defaultPrevented&&t&&m&&st(m)===t.current){var p;r?r():(p=t.current)===null||p===void 0||p.focus(),Be("keyboard")}u.preventDefault()}),l=L(()=>{e.commitValidation()});f.useEffect(()=>{let u=t==null?void 0:t.current;if(!u)return;let d=u.form;return u.addEventListener("invalid",s),u.addEventListener("change",l),d==null||d.addEventListener("reset",n),()=>{u.removeEventListener("invalid",s),u.removeEventListener("change",l),d==null||d.removeEventListener("reset",n)}},[t,s,l,n,a])}function nt(i){let e=i.validity;return{badInput:e.badInput,customError:e.customError,patternMismatch:e.patternMismatch,rangeOverflow:e.rangeOverflow,rangeUnderflow:e.rangeUnderflow,stepMismatch:e.stepMismatch,tooLong:e.tooLong,tooShort:e.tooShort,typeMismatch:e.typeMismatch,valueMissing:e.valueMissing,valid:e.valid}}function ot(i){return{isInvalid:!i.validity.valid,validationDetails:nt(i),validationErrors:i.validationMessage?[i.validationMessage]:[]}}function st(i){for(let e=0;e<i.elements.length;e++){let t=i.elements[e];if(!t.validity.valid)return t}return null}function bt(i){let{description:e,errorMessage:t,isInvalid:a,validationState:r}=i,{labelProps:n,fieldProps:s}=Ce(i),l=k([!!e,!!t,a,r]),u=k([!!e,!!t,a,r]);return s=Re(s,{"aria-describedby":[l,u,i["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:n,fieldProps:s,descriptionProps:{id:l},errorMessageProps:{id:u}}}var Z={};Z={Empty:"فارغ"};var J={};J={Empty:"Изпразни"};var X={};X={Empty:"Prázdné"};var ee={};ee={Empty:"Tom"};var te={};te={Empty:"Leer"};var ie={};ie={Empty:"Άδειο"};var ae={};ae={Empty:"Empty"};var re={};re={Empty:"Vacío"};var ne={};ne={Empty:"Tühjenda"};var oe={};oe={Empty:"Tyhjä"};var se={};se={Empty:"Vide"};var le={};le={Empty:"ריק"};var de={};de={Empty:"Prazno"};var ce={};ce={Empty:"Üres"};var ue={};ue={Empty:"Vuoto"};var fe={};fe={Empty:"空"};var me={};me={Empty:"비어 있음"};var pe={};pe={Empty:"Tuščias"};var $e={};$e={Empty:"Tukšs"};var be={};be={Empty:"Tom"};var ve={};ve={Empty:"Leeg"};var he={};he={Empty:"Pusty"};var ge={};ge={Empty:"Vazio"};var ye={};ye={Empty:"Vazio"};var Ee={};Ee={Empty:"Gol"};var xe={};xe={Empty:"Не заполнено"};var Se={};Se={Empty:"Prázdne"};var we={};we={Empty:"Prazen"};var Pe={};Pe={Empty:"Prazno"};var Ve={};Ve={Empty:"Tomt"};var De={};De={Empty:"Boş"};var Le={};Le={Empty:"Пусто"};var Ie={};Ie={Empty:"空"};var Me={};Me={Empty:"空白"};var Ne={};Ne={"ar-AE":Z,"bg-BG":J,"cs-CZ":X,"da-DK":ee,"de-DE":te,"el-GR":ie,"en-US":ae,"es-ES":re,"et-EE":ne,"fi-FI":oe,"fr-FR":se,"he-IL":le,"hr-HR":de,"hu-HU":ce,"it-IT":ue,"ja-JP":fe,"ko-KR":me,"lt-LT":pe,"lv-LV":$e,"nb-NO":be,"nl-NL":ve,"pl-PL":he,"pt-BR":ge,"pt-PT":ye,"ro-RO":Ee,"ru-RU":xe,"sk-SK":Se,"sl-SI":we,"sr-SP":Pe,"sv-SE":Ve,"tr-TR":De,"uk-UA":Le,"zh-CN":Ie,"zh-TW":Me};function lt(i){return i&&i.__esModule?i.default:i}function vt(i){const e=f.useRef();let{value:t,textValue:a,minValue:r,maxValue:n,isDisabled:s,isReadOnly:l,isRequired:u,onIncrement:d,onIncrementPage:m,onDecrement:p,onDecrementPage:h,onDecrementToMin:E,onIncrementToMax:$}=i;const P=tt(lt(Ne),"@react-aria/spinbutton"),b=()=>clearTimeout(e.current);f.useEffect(()=>()=>b(),[]);let V=c=>{if(!(c.ctrlKey||c.metaKey||c.shiftKey||c.altKey||l))switch(c.key){case"PageUp":if(m){c.preventDefault(),m==null||m();break}case"ArrowUp":case"Up":d&&(c.preventDefault(),d==null||d());break;case"PageDown":if(h){c.preventDefault(),h==null||h();break}case"ArrowDown":case"Down":p&&(c.preventDefault(),p==null||p());break;case"Home":E&&(c.preventDefault(),E==null||E());break;case"End":$&&(c.preventDefault(),$==null||$());break}},g=f.useRef(!1),y=()=>{g.current=!0},v=()=>{g.current=!1},S=a===""?P.format("Empty"):(a||`${t}`).replace("-","−");f.useEffect(()=>{g.current&&(at("assertive"),it(S,"assertive"))},[S]);const w=L(c=>{b(),d==null||d(),e.current=window.setTimeout(()=>{(n===void 0||isNaN(n)||t===void 0||isNaN(t)||t<n)&&w(60)},c)}),x=L(c=>{b(),p==null||p(),e.current=window.setTimeout(()=>{(r===void 0||isNaN(r)||t===void 0||isNaN(t)||t>r)&&x(60)},c)});let I=c=>{c.preventDefault()},{addGlobalListener:F,removeAllGlobalListeners:o}=ke();return{spinButtonProps:{role:"spinbutton","aria-valuenow":t!==void 0&&!isNaN(t)?t:void 0,"aria-valuetext":S,"aria-valuemin":r,"aria-valuemax":n,"aria-disabled":s||void 0,"aria-readonly":l||void 0,"aria-required":u||void 0,onKeyDown:V,onFocus:y,onBlur:v},incrementButtonProps:{onPressStart:()=>{w(400),F(window,"contextmenu",I)},onPressEnd:()=>{b(),o()},onFocus:y,onBlur:v},decrementButtonProps:{onPressStart:()=>{x(400),F(window,"contextmenu",I)},onPressEnd:()=>{b(),o()},onFocus:y,onBlur:v}}}export{Ye as $,mt as a,pt as b,bt as c,$t as d,tt as e,vt as f,U as g,C as h,We as i,it as j,et as k};
