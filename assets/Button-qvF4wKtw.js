import{b as A,c as z,a as ie,$ as oe,d as le,e as fe,f as ue}from"./utils-DMjC9_eM.js";import{d as C,$ as D,f as ce}from"./useFocusWithin-DtMhJA8W.js";import{f as de,g as Y,h as pe,i as ge,j as _,k as ve,l as Pe,a as M,m as j,n as G,o as Te,p as $e,q as ee}from"./useFocusable-C8W1vPXm.js";import{R as te,r as k}from"./index-DH5ua8nC.js";function I(t,a,i=!0){var o,f;let{metaKey:g,ctrlKey:d,altKey:y,shiftKey:v}=a;de()&&(!((f=window.event)===null||f===void 0||(o=f.type)===null||o===void 0)&&o.startsWith("key"))&&t.target==="_blank"&&(Y()?g=!0:d=!0);let x=pe()&&Y()&&!ge()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:g,ctrlKey:d,altKey:y,shiftKey:v}):new MouseEvent("click",{metaKey:g,ctrlKey:d,altKey:y,shiftKey:v,bubbles:!0,cancelable:!0});I.isOpening=i,_(t),t.dispatchEvent(x),I.isOpening=!1}I.isOpening=!1;const re=te.createContext({register:()=>{}});re.displayName="PressResponderContext";function be(t,a){return a.get?a.get.call(t):a.value}function ne(t,a,i){if(!a.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return a.get(t)}function ye(t,a){var i=ne(t,a,"get");return be(t,i)}function he(t,a){if(a.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ee(t,a,i){he(t,a),a.set(t,i)}function me(t,a,i){if(a.set)a.set.call(t,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}}function q(t,a,i){var o=ne(t,a,"set");return me(t,o,i),i}function xe(t){let a=k.useContext(re);if(a){let{register:i,...o}=a;t=D(o,t),i()}return Te(a,t.ref),t}var U=new WeakMap;class H{continuePropagation(){q(this,U,!1)}get shouldStopPropagation(){return ye(this,U)}constructor(a,i,o){Ee(this,U,{writable:!0,value:void 0}),q(this,U,!0),this.type=a,this.pointerType=i,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey}}const J=Symbol("linkClicked");function Ke(t){let{onPress:a,onPressChange:i,onPressStart:o,onPressEnd:f,onPressUp:g,isDisabled:d,isPressed:y,preventFocusOnPress:v,shouldCancelOnPointerExit:x,allowTextSelectionOnPress:P,ref:R,...B}=xe(t),[N,F]=k.useState(!1),h=k.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:T,removeAllGlobalListeners:K}=ve(),$=C((e,l)=>{let b=h.current;if(d||b.didFirePressStart)return!1;let s=!0;if(b.isTriggeringEvent=!0,o){let u=new H("pressstart",l,e);o(u),s=u.shouldStopPropagation}return i&&i(!0),b.isTriggeringEvent=!1,b.didFirePressStart=!0,F(!0),s}),p=C((e,l,b=!0)=>{let s=h.current;if(!s.didFirePressStart)return!1;s.ignoreClickAfterPress=!0,s.didFirePressStart=!1,s.isTriggeringEvent=!0;let u=!0;if(f){let r=new H("pressend",l,e);f(r),u=r.shouldStopPropagation}if(i&&i(!1),F(!1),a&&b&&!d){let r=new H("press",l,e);a(r),u&&(u=r.shouldStopPropagation)}return s.isTriggeringEvent=!1,u}),S=C((e,l)=>{let b=h.current;if(d)return!1;if(g){b.isTriggeringEvent=!0;let s=new H("pressup",l,e);return g(s),b.isTriggeringEvent=!1,s.shouldStopPropagation}return!0}),E=C(e=>{let l=h.current;l.isPressed&&l.target&&(l.isOverTarget&&l.pointerType!=null&&p(m(l.target,e),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,K(),P||A(l.target))}),L=C(e=>{x&&E(e)}),se=k.useMemo(()=>{let e=h.current,l={onKeyDown(s){if(V(s.nativeEvent,s.currentTarget)&&s.currentTarget.contains(s.target)){var u;Z(s.target,s.key)&&s.preventDefault();let r=!0;if(!e.isPressed&&!s.repeat){e.target=s.currentTarget,e.isPressed=!0,r=$(s,"keyboard");let n=s.currentTarget,c=O=>{V(O,n)&&!O.repeat&&n.contains(O.target)&&e.target&&S(m(e.target,O),"keyboard")};T(M(s.currentTarget),"keyup",ce(c,b),!0)}r&&s.stopPropagation(),s.metaKey&&Y()&&((u=e.metaKeyEvents)===null||u===void 0||u.set(s.key,s.nativeEvent))}else s.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(s){if(!(s&&!s.currentTarget.contains(s.target))&&s&&s.button===0&&!e.isTriggeringEvent&&!I.isOpening){let u=!0;if(d&&s.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||j(s.nativeEvent))){!d&&!v&&_(s.currentTarget);let r=$(s,"virtual"),n=S(s,"virtual"),c=p(s,"virtual");u=r&&n&&c}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,u&&s.stopPropagation()}}},b=s=>{var u;if(e.isPressed&&e.target&&V(s,e.target)){var r;Z(s.target,s.key)&&s.preventDefault();let c=s.target;p(m(e.target,s),"keyboard",e.target.contains(c)),K(),s.key!=="Enter"&&W(e.target)&&e.target.contains(c)&&!s[J]&&(s[J]=!0,I(e.target,s,!1)),e.isPressed=!1,(r=e.metaKeyEvents)===null||r===void 0||r.delete(s.key)}else if(s.key==="Meta"&&(!((u=e.metaKeyEvents)===null||u===void 0)&&u.size)){var n;let c=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let O of c.values())(n=e.target)===null||n===void 0||n.dispatchEvent(new KeyboardEvent("keyup",O))}};if(typeof PointerEvent<"u"){l.onPointerDown=n=>{if(n.button!==0||!n.currentTarget.contains(n.target))return;if(Pe(n.nativeEvent)){e.pointerType="virtual";return}X(n.currentTarget)&&n.preventDefault(),e.pointerType=n.pointerType;let c=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=n.pointerId,e.target=n.currentTarget,!d&&!v&&_(n.currentTarget),P||z(e.target),c=$(n,e.pointerType),T(M(n.currentTarget),"pointermove",s,!1),T(M(n.currentTarget),"pointerup",u,!1),T(M(n.currentTarget),"pointercancel",r,!1)),c&&n.stopPropagation()},l.onMouseDown=n=>{n.currentTarget.contains(n.target)&&n.button===0&&(X(n.currentTarget)&&n.preventDefault(),n.stopPropagation())},l.onPointerUp=n=>{!n.currentTarget.contains(n.target)||e.pointerType==="virtual"||n.button===0&&w(n,n.currentTarget)&&S(n,e.pointerType||n.pointerType)};let s=n=>{n.pointerId===e.activePointerId&&(e.target&&w(n,e.target)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,$(m(e.target,n),e.pointerType)):e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,p(m(e.target,n),e.pointerType,!1),L(n)))},u=n=>{n.pointerId===e.activePointerId&&e.isPressed&&n.button===0&&e.target&&(w(n,e.target)&&e.pointerType!=null?p(m(e.target,n),e.pointerType):e.isOverTarget&&e.pointerType!=null&&p(m(e.target,n),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,K(),P||A(e.target))},r=n=>{E(n)};l.onDragStart=n=>{n.currentTarget.contains(n.target)&&E(n)}}else{l.onMouseDown=r=>{if(r.button!==0||!r.currentTarget.contains(r.target))return;if(X(r.currentTarget)&&r.preventDefault(),e.ignoreEmulatedMouseEvents){r.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=r.currentTarget,e.pointerType=j(r.nativeEvent)?"virtual":"mouse",!d&&!v&&_(r.currentTarget),$(r,e.pointerType)&&r.stopPropagation(),T(M(r.currentTarget),"mouseup",s,!1)},l.onMouseEnter=r=>{if(!r.currentTarget.contains(r.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!0,n=$(r,e.pointerType)),n&&r.stopPropagation()},l.onMouseLeave=r=>{if(!r.currentTarget.contains(r.target))return;let n=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!1,n=p(r,e.pointerType,!1),L(r)),n&&r.stopPropagation()},l.onMouseUp=r=>{r.currentTarget.contains(r.target)&&!e.ignoreEmulatedMouseEvents&&r.button===0&&S(r,e.pointerType||"mouse")};let s=r=>{if(r.button===0){if(e.isPressed=!1,K(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&w(r,e.target)&&e.pointerType!=null?p(m(e.target,r),e.pointerType):e.target&&e.isOverTarget&&e.pointerType!=null&&p(m(e.target,r),e.pointerType,!1),e.isOverTarget=!1}};l.onTouchStart=r=>{if(!r.currentTarget.contains(r.target))return;let n=Se(r.nativeEvent);if(!n)return;e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=r.currentTarget,e.pointerType="touch",!d&&!v&&_(r.currentTarget),P||z(e.target),$(r,e.pointerType)&&r.stopPropagation(),T(G(r.currentTarget),"scroll",u,!0)},l.onTouchMove=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let n=Q(r.nativeEvent,e.activePointerId),c=!0;n&&w(n,r.currentTarget)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,c=$(r,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,c=p(r,e.pointerType,!1),L(r)),c&&r.stopPropagation()},l.onTouchEnd=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let n=Q(r.nativeEvent,e.activePointerId),c=!0;n&&w(n,r.currentTarget)&&e.pointerType!=null?(S(r,e.pointerType),c=p(r,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(c=p(r,e.pointerType,!1)),c&&r.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!P&&A(e.target),K()},l.onTouchCancel=r=>{r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed&&E(r))};let u=r=>{e.isPressed&&r.target.contains(e.target)&&E({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};l.onDragStart=r=>{r.currentTarget.contains(r.target)&&E(r)}}return l},[T,d,v,K,P,E,L,p,$,S]);return k.useEffect(()=>()=>{var e;P||A((e=h.current.target)!==null&&e!==void 0?e:void 0)},[P]),{isPressed:y||N,pressProps:D(B,se)}}function W(t){return t.tagName==="A"&&t.hasAttribute("href")}function V(t,a){const{key:i,code:o}=t,f=a,g=f.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||o==="Space")&&!(f instanceof G(f).HTMLInputElement&&!ae(f,i)||f instanceof G(f).HTMLTextAreaElement||f.isContentEditable)&&!((g==="link"||!g&&W(f))&&i!=="Enter")}function Se(t){const{targetTouches:a}=t;return a.length>0?a[0]:null}function Q(t,a){const i=t.changedTouches;for(let o=0;o<i.length;o++){const f=i[o];if(f.identifier===a)return f}return null}function m(t,a){return{currentTarget:t,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey}}function Oe(t){let a=0,i=0;return t.width!==void 0?a=t.width/2:t.radiusX!==void 0&&(a=t.radiusX),t.height!==void 0?i=t.height/2:t.radiusY!==void 0&&(i=t.radiusY),{top:t.clientY-i,right:t.clientX+a,bottom:t.clientY+i,left:t.clientX-a}}function we(t,a){return!(t.left>a.right||a.left>t.right||t.top>a.bottom||a.top>t.bottom)}function w(t,a){let i=a.getBoundingClientRect(),o=Oe(t);return we(i,o)}function X(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function Z(t,a){return t instanceof HTMLInputElement?!ae(t,a):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!W(t)}const ke=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ae(t,a){return t.type==="checkbox"||t.type==="radio"?a===" ":ke.has(t.type)}function Ce(t,a){let{elementType:i="button",isDisabled:o,onPress:f,onPressStart:g,onPressEnd:d,onPressUp:y,onPressChange:v,preventFocusOnPress:x,allowFocusWhenDisabled:P,onClick:R,href:B,target:N,rel:F,type:h="button"}=t,T;i==="button"?T={type:h,disabled:o}:T={role:"button",tabIndex:o?void 0:0,href:i==="a"&&o?void 0:B,target:i==="a"?N:void 0,type:i==="input"?h:void 0,disabled:i==="input"?o:void 0,"aria-disabled":!o||i==="input"?void 0:o,rel:i==="a"?F:void 0};let{pressProps:K,isPressed:$}=Ke({onPressStart:g,onPressEnd:d,onPressChange:v,onPress:f,onPressUp:y,isDisabled:o,preventFocusOnPress:x,ref:a}),{focusableProps:p}=$e(t,a);P&&(p.tabIndex=o?-1:p.tabIndex);let S=D(p,K,ee(t,{labelable:!0}));return{isPressed:$,buttonProps:D(T,S,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],onClick:E=>{R&&(R(E),console.warn("onClick is deprecated, please use onPress"))}})}}const Me=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),_e=k.createContext({});function De(t,a){[t,a]=oe(t,a,_e);let i=t,{buttonProps:o,isPressed:f}=Ce(t,a),{focusProps:g,isFocused:d,isFocusVisible:y}=le(t),{hoverProps:v,isHovered:x}=fe(t),P=ue({...t,values:{isHovered:x,isPressed:f,isFocused:d,isFocusVisible:y,isDisabled:t.isDisabled||!1},defaultClassName:"react-aria-Button"});return te.createElement("button",{...ee(t,{propNames:Me}),...D(o,g,v),...P,ref:a,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-pressed":i.isPressed||f||void 0,"data-hovered":x||void 0,"data-focused":d||void 0,"data-focus-visible":y||void 0})}const Ue=ie(De);export{Ce as $,Ee as _,_e as a,re as b,Ke as c,Ue as d};
