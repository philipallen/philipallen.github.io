import{j as e}from"./jsx-runtime-sfY7k0Xq.js";import{r as n}from"./index-CcKhGcwW.js";import{$ as v}from"./TextField-Dek19DRu.js";import{$ as D}from"./useControlledState-Bw1hdnkP.js";import{C as R,S,I as O}from"./TextInputV2.styled-BTxS94Ab.js";import{R as T}from"./ReactAriaProviders-CFG_2kIo.js";import{I as B,a as E}from"./InputAlerts-LG8E5-ez.js";import{I as L}from"./InputLabelTopV2-B_vqPxaG.js";import{O as P}from"./OuterFieldV2-D65wFuZT.js";import{C as w}from"./CharactersCounter-HreL61rA.js";import{$ as A,a as W}from"./utils-BPOuYIA2.js";const k=n.forwardRef((t,x)=>{const{labelProps:l,alerts:a,id:i,placeholder:b,startSlot:o,endSlot:h,withCharacterCounter:c,onChange:I,testID:d="text-input",...f}=t,{maxLength:s}=f,p=A(x),u=n.useId(),m=n.useId(),$=[t["aria-describedby"],o?m:void 0].filter(Boolean).join(" ")||void 0,[j,C]=D(t.value,t.defaultValue??""),y=W(I,C);function g(){var r;(r=p.current)==null||r.focus()}return e.jsx(T,{fieldID:i||u,externallyLabelledBy:t["aria-labelledby"],externallyDescribedBy:$,labelProps:l,alerts:a,children:({labelledBy:r,describedBy:V})=>e.jsx(B,{alert:a&&e.jsx(E,{alerts:a}),gap:c&&s!==void 0?"4px":"8px",children:e.jsxs(R,{children:[e.jsx(L,{...l,children:e.jsx(v,{...f,id:i||u,"aria-labelledby":r,"aria-describedby":V,onChange:y,"data-testid":d,children:e.jsx(P,{startSlot:o&&e.jsx(S,{id:m,children:o}),endSlot:h,focusElement:g,isReadOnly:t.isReadOnly,children:e.jsx(O,{ref:p,placeholder:b})})})}),c&&s!==void 0&&e.jsx(w,{length:j.length,maxLength:s,testID:`${d}-character-counter`})]})})})});k.displayName="TextInputV2";export{k as T};
