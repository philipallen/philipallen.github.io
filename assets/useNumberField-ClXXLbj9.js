import{$ as ta}from"./useControlledState-BSXamw7l.js";import{a as D,b as G,$ as de}from"./NumberFormatter-_LhaN6n2.js";import{$ as na,c as ua}from"./useField-BNDYKjxG.js";import{$ as sa,a as da}from"./useSpinButton-BQBTFS02.js";import{r as d}from"./index-DH5ua8nC.js";import{b as oa,$ as j,c as X,a as ca}from"./useFocusWithin-D15f1-3B.js";import{a as fa}from"./chain-Crd5RmWG.js";import{b as ba,$ as ma}from"./focusSafely-CjmyL4wt.js";import{h as $a,$ as pa,b as va}from"./platform-Dbfj6p2q.js";import{$ as xa}from"./useLabel-DxA8NU2E.js";import{$ as La}from"./useEvent-Ck1tIt86.js";import{$ as Da}from"./useTextField-tTY1h3pH.js";import{$ as Fa}from"./useLocalizedStringFormatter-CTvoI0B4.js";import{$ as oe}from"./useNumberFormatter-BM_nWW5M.js";function Pa(e,a){let{onScroll:l,isDisabled:t}=e,o=d.useCallback(n=>{n.ctrlKey||(n.preventDefault(),n.stopPropagation(),l&&l({deltaX:n.deltaX,deltaY:n.deltaY}))},[l]);La(a,"wheel",t?void 0:o)}function ja(e){let{minValue:a,maxValue:l,step:t,formatOptions:o,value:n,defaultValue:c=NaN,onChange:p,locale:f,isDisabled:F,isReadOnly:v}=e;n===null&&(n=NaN),n!==void 0&&!isNaN(n)&&(t!==void 0&&!isNaN(t)?n=D(n,a,l,t):n=G(n,a,l)),isNaN(c)||(t!==void 0&&!isNaN(t)?c=D(c,a,l,t):c=G(c,a,l));let[i,r]=ta(n,isNaN(c)?NaN:c,p),[s,x]=d.useState(()=>isNaN(i)?"":new de(f,o).format(i)),P=d.useMemo(()=>new sa(f,o),[f,o]),O=d.useMemo(()=>P.getNumberingSystem(s),[P,s]),N=d.useMemo(()=>new de(f,{...o,numberingSystem:O}),[f,o,O]),K=d.useMemo(()=>N.resolvedOptions(),[N]),L=d.useCallback(u=>isNaN(u)||u===null?"":N.format(u),[N]),C=na({...e,value:i}),m=t!==void 0&&!isNaN(t)?t:1;K.style==="percent"&&(t===void 0||isNaN(t))&&(m=.01);let[W,g]=d.useState(i),[U,h]=d.useState(f),[z,S]=d.useState(o);(!Object.is(i,W)||f!==U||o!==z)&&(x(L(i)),g(i),h(f),S(o));let b=d.useMemo(()=>P.parse(s),[P,s]),y=()=>{if(!s.length){r(NaN),x(n===void 0?"":L(i));return}if(isNaN(b)){x(L(i));return}let u;t===void 0||isNaN(t)?u=G(b,a,l):u=D(b,a,l,t),u=P.parse(L(u)),r(u),x(L(n===void 0?u:i))},M=(u,R=0)=>{let E=b;if(isNaN(E)){let B=isNaN(R)?0:R;return D(B,a,l,m)}else{let B=D(E,a,l,m);return u==="+"&&B>E||u==="-"&&B<E?B:D(J(u,E,m),a,l,m)}},k=()=>{let u=M("+",a);u===i&&x(L(u)),r(u),C.commitValidation()},w=()=>{let u=M("-",l);u===i&&x(L(u)),r(u),C.commitValidation()},Z=()=>{l!=null&&(r(D(l,a,l,m)),C.commitValidation())},T=()=>{a!=null&&(r(a),C.commitValidation())},_=d.useMemo(()=>!F&&!v&&(isNaN(b)||l===void 0||isNaN(l)||D(b,a,l,m)>b||J("+",b,m)<=l),[F,v,a,l,m,b]),A=d.useMemo(()=>!F&&!v&&(isNaN(b)||a===void 0||isNaN(a)||D(b,a,l,m)<b||J("-",b,m)>=a),[F,v,a,l,m,b]);return{...C,validate:u=>P.isValidPartialNumber(u,a,l),increment:k,incrementToMax:Z,decrement:w,decrementToMin:T,canIncrement:_,canDecrement:A,minValue:a,maxValue:l,numberValue:b,setNumberValue:r,setInputValue:x,inputValue:s,commit:y}}function J(e,a,l){let t=e==="+"?a+l:a-l;if(a%1!==0||l%1!==0){const o=a.toString().split("."),n=l.toString().split("."),c=o[1]&&o[1].length||0,p=n[1]&&n[1].length||0,f=Math.pow(10,Math.max(c,p));a=Math.round(a*f),l=Math.round(l*f),t=e==="+"?a+l:a-l,t/=f}return t}function ce(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Na(e,a,l){let t=oa(i=>{let r=l.current;if(!r)return;let s=null;switch(i.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":s=r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteContentForward":s=r.selectionEnd===r.selectionStart?r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd+1):r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteContentBackward":s=r.selectionEnd===r.selectionStart?r.value.slice(0,r.selectionStart-1)+r.value.slice(r.selectionStart):r.value.slice(0,r.selectionStart)+r.value.slice(r.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":s=r.value.slice(r.selectionStart);break;default:i.data!=null&&(s=r.value.slice(0,r.selectionStart)+i.data+r.value.slice(r.selectionEnd));break}(s==null||!a.validate(s))&&i.preventDefault()});d.useEffect(()=>{if(!ce()||!l.current)return;let i=l.current;return i.addEventListener("beforeinput",t,!1),()=>{i.removeEventListener("beforeinput",t,!1)}},[l,t]);let o=ce()?null:i=>{let r=i.target.value.slice(0,i.target.selectionStart)+i.data+i.target.value.slice(i.target.selectionEnd);a.validate(r)||i.preventDefault()},{labelProps:n,inputProps:c,descriptionProps:p,errorMessageProps:f,...F}=Da(e,l),v=d.useRef(null);return{inputProps:j(c,{onBeforeInput:o,onCompositionStart(){let{value:i,selectionStart:r,selectionEnd:s}=l.current;v.current={value:i,selectionStart:r,selectionEnd:s}},onCompositionEnd(){if(l.current&&!a.validate(l.current.value)){let{value:i,selectionStart:r,selectionEnd:s}=v.current;l.current.value=i,l.current.setSelectionRange(r,s),a.setInputValue(i)}}}),labelProps:n,descriptionProps:p,errorMessageProps:f,...F}}var fe={};fe={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var be={};be={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var me={};me={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var $e={};$e={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var pe={};pe={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var ve={};ve={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var xe={};xe={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Le={};Le={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var De={};De={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Fe={};Fe={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Pe={};Pe={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Ne={};Ne={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Ce={};Ce={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ee={};Ee={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Be={};Be={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Ve={};Ve={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Se={};Se={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var ge={};ge={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var he={};he={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var ye={};ye={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Me={};Me={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var ke={};ke={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var we={};we={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ie={};Ie={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Oe={};Oe={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Te={};Te={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var Ae={};Ae={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Re={};Re={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var je={};je={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ke={};Ke={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var We={};We={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Ue={};Ue={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var ze={};ze={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ze={};Ze={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var _e={};_e={"ar-AE":fe,"bg-BG":be,"cs-CZ":me,"da-DK":$e,"de-DE":pe,"el-GR":ve,"en-US":xe,"es-ES":Le,"et-EE":De,"fi-FI":Fe,"fr-FR":Pe,"he-IL":Ne,"hr-HR":Ce,"hu-HU":Ee,"it-IT":Be,"ja-JP":Ve,"ko-KR":Se,"lt-LT":ge,"lv-LV":he,"nb-NO":ye,"nl-NL":Me,"pl-PL":ke,"pt-BR":we,"pt-PT":Ie,"ro-RO":Oe,"ru-RU":Te,"sk-SK":Ae,"sl-SI":Re,"sr-SP":je,"sv-SE":Ke,"tr-TR":We,"uk-UA":Ue,"zh-CN":ze,"zh-TW":Ze};function Ca(e){return e&&e.__esModule?e.default:e}function Ka(e,a,l){let{id:t,decrementAriaLabel:o,incrementAriaLabel:n,isDisabled:c,isReadOnly:p,isRequired:f,minValue:F,maxValue:v,autoFocus:i,label:r,formatOptions:s,onBlur:x=()=>{},onFocus:P,onFocusChange:O,onKeyDown:N,onKeyUp:K,description:L,errorMessage:C,isWheelDisabled:m,...W}=e,{increment:g,incrementToMax:U,decrement:h,decrementToMin:z,numberValue:S,inputValue:b,commit:y,commitValidation:M}=a;const k=Fa(Ca(_e),"@react-aria/numberfield");let w=X(t),{focusProps:Z}=ba({onBlur(){y()}}),T=oe(s),_=d.useMemo(()=>T.resolvedOptions(),[T]),A=oe({...s,currencySign:void 0}),Q=d.useMemo(()=>isNaN(S)?"":A.format(S),[A,S]),{spinButtonProps:u,incrementButtonProps:R,decrementButtonProps:E}=da({isDisabled:c,isReadOnly:p,isRequired:f,maxValue:v,minValue:F,onIncrement:g,onIncrementToMax:U,onDecrement:h,onDecrementToMin:z,value:S,textValue:Q}),[B,qe]=d.useState(!1),{focusWithinProps:Ye}=ca({isDisabled:c,onFocusWithinChange:qe}),He=d.useCallback($=>{Math.abs($.deltaY)<=Math.abs($.deltaX)||($.deltaY>0?g():$.deltaY<0&&h())},[h,g]);Pa({onScroll:He,isDisabled:m||c||p||!B},l);var q;let ee=((q=_.maximumFractionDigits)!==null&&q!==void 0?q:0)>0,ae=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,I="numeric";$a()?ae?I="text":ee&&(I="decimal"):pa()&&(ae?I="numeric":ee&&(I="decimal"));let Ge=$=>{a.validate($)&&a.setInputValue($)},Xe=ma(e),le=d.useCallback($=>{$.key==="Enter"?(y(),M()):$.continuePropagation()},[y,M]),{isInvalid:re,validationErrors:Je,validationDetails:Qe}=a.displayValidation,{labelProps:ie,inputProps:ea,descriptionProps:aa,errorMessageProps:la}=Na({...W,...Xe,name:void 0,label:r,autoFocus:i,isDisabled:c,isReadOnly:p,isRequired:f,validate:void 0,[ua]:a,value:b,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:w,type:"text",inputMode:I,onChange:Ge,onBlur:x,onFocus:P,onFocusChange:O,onKeyDown:d.useMemo(()=>fa(le,N),[le,N]),onKeyUp:K,description:L,errorMessage:C},a,l);xa(l,a.numberValue,a.setNumberValue);let te=j(u,Z,ea,{role:null,"aria-roledescription":va()?null:k.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(te["aria-required"]=void 0);let ne=$=>{var H;document.activeElement!==l.current&&($.pointerType==="mouse"?(H=l.current)===null||H===void 0||H.focus():$.target.focus())},Y=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;Y||(V=e.label!=null?ie.id:e["aria-labelledby"]);let ue=X(),se=X(),ra=j(R,{"aria-label":n||k.format("increase",{fieldLabel:Y}).trim(),id:V&&!n?ue:null,"aria-labelledby":V&&!n?`${ue} ${V}`:null,"aria-controls":w,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ne}),ia=j(E,{"aria-label":o||k.format("decrease",{fieldLabel:Y}).trim(),id:V&&!o?se:null,"aria-labelledby":V&&!o?`${se} ${V}`:null,"aria-controls":w,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ne});return{groupProps:{...Ye,role:"group","aria-disabled":c,"aria-invalid":re?"true":void 0},labelProps:ie,inputProps:te,incrementButtonProps:ra,decrementButtonProps:ia,errorMessageProps:la,descriptionProps:aa,isInvalid:re,validationErrors:Je,validationDetails:Qe}}export{ja as $,Ka as a};
