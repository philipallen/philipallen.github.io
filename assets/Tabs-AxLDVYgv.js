import{g as R,e as H,h as N,$ as V,i as C,k as O,l as A,m as z}from"./Collection-ZvNUfI9p.js";import{c as h,d as B,a as j,b as m,i as w,f as k,$ as D}from"./utils-l5KLAjAw.js";import{c as K,b as U,$ as W,a as q}from"./useHover-DDDaVluF.js";import{r as c,e as f}from"./index-KmaxkdDD.js";import{$ as G}from"./useSingleSelectListState-gzOp8nHW.js";import{$ as F}from"./useFocusRing-BBh_VJBv.js";import{$ as M}from"./useLabels-BOZ2JF2m.js";import{$ as J}from"./context-CQmu07jL.js";import{b as Q}from"./usePress-D8-PWMl6.js";import{$ as X}from"./FocusScope-um4QTQqo.js";import{$ as Y}from"./chain-Z-ySmOka.js";function Z(t){const e=c.version.split(".");return parseInt(e[0],10)>=19?t:t?"true":void 0}function _(t,e){let a=e==null?void 0:e.isDisabled,[i,s]=c.useState(!1);return Y(()=>{if(t!=null&&t.current&&!a){let l=()=>{if(t.current){let o=X(t.current,{tabbable:!0});s(!!o.nextNode())}};l();let d=new MutationObserver(l);return d.observe(t.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{d.disconnect()}}}),a?!1:i}const I=new WeakMap;function P(t,e,a){return t?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${I.get(t)}-${a}-${e}`):""}function ee(t,e,a){let{key:i,isDisabled:s,shouldSelectOnPressUp:l}=t,{selectionManager:d,selectedKey:o}=e,r=i===o,n=s||e.isDisabled||e.selectionManager.isDisabled(i),{itemProps:u,isPressed:b}=R({selectionManager:d,key:i,ref:a,isDisabled:n,shouldSelectOnPressUp:l,linkBehavior:"selection"}),v=P(e,i,"tab"),x=P(e,i,"tabpanel"),{tabIndex:y}=u,$=e.collection.getItem(i),S=K($==null?void 0:$.props,{labelable:!0});delete S.id;let L=Q($==null?void 0:$.props),{focusableProps:T}=U({isDisabled:n},a);return{tabProps:h(S,T,L,u,{id:v,"aria-selected":r,"aria-disabled":n||void 0,"aria-controls":r?x:void 0,tabIndex:n?void 0:y,role:"tab"}),isSelected:r,isDisabled:n,isPressed:b}}function te(t,e,a){let i=_(a)?void 0:0;var s;const l=P(e,(s=t.id)!==null&&s!==void 0?s:e==null?void 0:e.selectedKey,"tabpanel"),d=M({...t,id:l,"aria-labelledby":P(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:h(d,{tabIndex:i,role:"tabpanel","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"]})}}class ae{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var a,i;return this.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(a=i.props)===null||a===void 0)&&a.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(this.isDisabled(e));return e}getPreviousKey(e){do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(this.isDisabled(e));return e}constructor(e,a,i,s=new Set){this.collection=e,this.flipDirection=a==="rtl"&&i==="horizontal",this.disabledKeys=s,this.tabDirection=i==="horizontal"}}function ie(t,e,a){let{orientation:i="horizontal",keyboardActivation:s="automatic"}=t,{collection:l,selectionManager:d,disabledKeys:o}=e,{direction:r}=J(),n=c.useMemo(()=>new ae(l,r,i,o),[l,o,i,r]),{collectionProps:u}=H({ref:a,selectionManager:d,keyboardDelegate:n,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:a,linkBehavior:"selection"}),b=B();I.set(e,b);let v=M({...t,id:b});return{tabListProps:{...h(u,v),role:"tablist","aria-orientation":i,tabIndex:void 0}}}function se(t){var e,a;let i=G({...t,suppressTextValueWarning:!0,defaultSelectedKey:(a=(e=t.defaultSelectedKey)!==null&&e!==void 0?e:E(t.collection,t.disabledKeys?new Set(t.disabledKeys):new Set))!==null&&a!==void 0?a:void 0}),{selectionManager:s,collection:l,selectedKey:d}=i,o=c.useRef(d);return c.useEffect(()=>{let r=d;t.selectedKey==null&&(s.isEmpty||r==null||!l.getItem(r))&&(r=E(l,i.disabledKeys),r!=null&&s.setSelectedKeys([r])),(r!=null&&s.focusedKey==null||!s.isFocused&&r!==o.current)&&s.setFocusedKey(r),o.current=r}),{...i,isDisabled:t.isDisabled||!1}}function E(t,e){let a=null;if(t){var i,s,l,d;for(a=t.getFirstKey();a!=null&&(e.has(a)||!((s=t.getItem(a))===null||s===void 0||(i=s.props)===null||i===void 0)&&i.isDisabled)&&a!==t.getLastKey();)a=t.getKeyAfter(a);a!=null&&(e.has(a)||!((d=t.getItem(a))===null||d===void 0||(l=d.props)===null||l===void 0)&&l.isDisabled)&&a===t.getLastKey()&&(a=t.getFirstKey())}return a}const g=c.createContext(null),p=c.createContext(null),xe=c.forwardRef(function(e,a){[e,a]=j(e,a,g);let{children:i,orientation:s="horizontal"}=e;return i=c.useMemo(()=>typeof i=="function"?i({orientation:s,defaultChildren:null}):i,[i,s]),f.createElement(N,{content:i},l=>f.createElement(de,{props:e,collection:l,tabsRef:a}))});function de({props:t,tabsRef:e,collection:a}){let{orientation:i="horizontal"}=t,s=se({...t,collection:a,children:void 0}),{focusProps:l,isFocused:d,isFocusVisible:o}=F({within:!0}),r=c.useMemo(()=>({orientation:i,isFocusWithin:d,isFocusVisible:o}),[i,d,o]),n=m({...t,defaultClassName:"react-aria-Tabs",values:r});return f.createElement("div",{...K(t),...l,...n,ref:e,slot:t.slot||void 0,"data-focused":d||void 0,"data-orientation":i,"data-focus-visible":o||void 0,"data-disabled":s.isDisabled||void 0},f.createElement(w,{values:[[g,t],[p,s]]},n.children))}const ye=c.forwardRef(function(e,a){return c.useContext(p)?f.createElement(le,{props:e,forwardedRef:a}):f.createElement(V,e)});function le({props:t,forwardedRef:e}){let a=c.useContext(p),{CollectionRoot:i}=c.useContext(C),{orientation:s="horizontal",keyboardActivation:l="automatic"}=k(g),d=D(e),{tabListProps:o}=ie({...t,orientation:s,keyboardActivation:l},a,d),r=m({...t,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:a}}),n=K(t);return delete n.id,f.createElement("div",{...n,...o,ref:d,...r,"data-orientation":s||void 0},f.createElement(i,{collection:a.collection,persistedKeys:O(a.selectionManager.focusedKey)}))}const Pe=A("item",(t,e,a)=>{let i=c.useContext(p),s=D(e),{tabProps:l,isSelected:d,isDisabled:o,isPressed:r}=ee({key:a.key,...t},i,s),{focusProps:n,isFocused:u,isFocusVisible:b}=F(),{hoverProps:v,isHovered:x}=W({isDisabled:o,onHoverStart:t.onHoverStart,onHoverEnd:t.onHoverEnd,onHoverChange:t.onHoverChange}),y=m({...t,id:void 0,children:a.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:d,isDisabled:o,isFocused:u,isFocusVisible:b,isPressed:r,isHovered:x}}),$=a.props.href?"a":"div";return f.createElement($,{...h(l,n,v,y),ref:s,"data-selected":d||void 0,"data-disabled":o||void 0,"data-focused":u||void 0,"data-focus-visible":b||void 0,"data-pressed":r||void 0,"data-hovered":x||void 0},y.children)}),me=q(function(e,a){const i=c.useContext(p);let s=D(a),{tabPanelProps:l}=te(e,i,s),{focusProps:d,isFocused:o,isFocusVisible:r}=F(),n=i.selectedKey===e.id,u=m({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:r,isInert:!n,state:i}});if(!n&&!e.shouldForceMount)return null;let b=K(e);delete b.id;let v=n?h(b,l,d,u):u;return f.createElement("div",{...v,ref:s,"data-focused":o||void 0,"data-focus-visible":r||void 0,inert:Z(!n),"data-inert":n?void 0:"true"},f.createElement(w,{values:[[g,null],[p,null]]},f.createElement(C.Provider,{value:z},u.children)))});export{ye as $,Pe as a,me as b,xe as c,p as d};
