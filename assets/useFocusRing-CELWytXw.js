import{$ as R}from"./chain-Crd5RmWG.js";import{$ as q,d as U,f as Y,a as J}from"./useFocusWithin-Dp0pJUJ1.js";import{r as s,R as L}from"./index-DH5ua8nC.js";import{r as Q}from"./index-D9uilScg.js";import{a as B,d as X}from"./platform-kF5l1-53.js";const h=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},v=e=>e&&"window"in e&&e.window===e?e:h(e).defaultView||window;function Z(...e){return e.length===1&&e[0]?e[0]:n=>{for(let t of e)typeof t=="function"?t(n):t!=null&&(t.current=n)}}const ee=new Set(["id"]),te=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),ne=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),re=/^(data-.*)$/;function Se(e,n={}){let{labelable:t,isLink:r,propNames:o}=n,a={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(ee.has(l)||t&&te.has(l)||r&&ne.has(l)||o!=null&&o.has(l)||re.test(l))&&(a[l]=e[l]);return a}function O(e){if(oe())e.focus({preventScroll:!0});else{let n=ae(e);e.focus(),ie(n)}}let x=null;function oe(){if(x==null){x=!1;try{document.createElement("div").focus({get preventScroll(){return x=!0,!0}})}catch{}}return x}function ae(e){let n=e.parentNode,t=[],r=document.scrollingElement||document.documentElement;for(;n instanceof HTMLElement&&n!==r;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),n=n.parentNode;return r instanceof HTMLElement&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),t}function ie(e){for(let{element:n,scrollTop:t,scrollLeft:r}of e)n.scrollTop=t,n.scrollLeft=r}let g=new Map,M=new Set;function j(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let n=r=>{if(!e(r)||!r.target)return;let o=g.get(r.target);o||(o=new Set,g.set(r.target,o),r.target.addEventListener("transitioncancel",t,{once:!0})),o.add(r.propertyName)},t=r=>{if(!e(r)||!r.target)return;let o=g.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",t),g.delete(r.target)),g.size===0)){for(let a of M)a();M.clear()}};document.body.addEventListener("transitionrun",n),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?j():document.addEventListener("DOMContentLoaded",j));function se(e){requestAnimationFrame(()=>{g.size===0?e():M.add(e)})}function le(e){const n=s.useRef(null);return s.useMemo(()=>({get current(){return n.current},set current(t){n.current=t,typeof e=="function"?e(t):e&&(e.current=t)}}),[e])}function He(e,n){R(()=>{if(e&&e.ref&&n)return e.ref.current=n.current,()=>{e.ref&&(e.ref.current=null)}})}function ue(e){return e.mozInputSource===0&&e.isTrusted?!0:B()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Ce(e){return!B()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const V=Symbol("default");function Fe({values:e,children:n}){for(let[t,r]of e)n=L.createElement(t.Provider,{value:r},n);return n}function Pe(e){let{className:n,style:t,children:r,defaultClassName:o,defaultChildren:a,defaultStyle:l,values:i}=e;return s.useMemo(()=>{let c,f,d;return typeof n=="function"?c=n({...i,defaultClassName:o}):c=n,typeof t=="function"?f=t({...i,defaultStyle:l||{}}):f=t,typeof r=="function"?d=r({...i,defaultChildren:a}):r==null?d=a:d=r,{className:c??o,style:f||l?{...l,...f}:void 0,children:d??a,"data-rac":""}},[n,t,r,o,a,l,i])}function ce(e,n){let t=s.useContext(e);if(n===null)return null;if(t&&typeof t=="object"&&"slots"in t&&t.slots){let r=new Intl.ListFormat().format(Object.keys(t.slots).map(a=>`"${a}"`));if(!n&&!t.slots[V])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let o=n||V;if(!t.slots[o])throw new Error(`Invalid slot "${n}". Valid slot names are ${r}.`);return t.slots[o]}return t}function Me(e,n,t){let r=ce(t,e.slot)||{},{ref:o,...a}=r,l=le(s.useMemo(()=>Z(n,o),[n,o])),i=q(a,e);return"style"in a&&a.style&&"style"in e&&e.style&&(typeof a.style=="function"||typeof e.style=="function"?i.style=c=>{let f=typeof a.style=="function"?a.style(c):a.style,d={...c.defaultStyle,...f},p=typeof e.style=="function"?e.style({...c,defaultStyle:d}):e.style;return{...d,...p}}:i.style={...a.style,...e.style}),[i,l]}function ke(){let[e,n]=s.useState(!0),t=s.useRef(!1),r=s.useCallback(o=>{t.current=!0,n(!!o)},[]);return R(()=>{t.current||n(!1)},[]),[r,e]}function Ne(e){const n=/^(data-.*)$/;let t={};for(const r in e)n.test(r)||(t[r]=e[r]);return t}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const S=s.createContext(!1),de=typeof DocumentFragment<"u"?new DocumentFragment:null;function De(e){let n=s.useContext(S),t=U();if(n)return L.createElement(L.Fragment,null,e.children);let r=L.createElement(S.Provider,{value:!0},e.children);return t?L.createElement("template",{"data-react-aria-hidden":!0},r):Q.createPortal(r,de)}function Ie(e){let n=(t,r)=>s.useContext(S)?null:e(t,r);return n.displayName=e.displayName||e.name,s.forwardRef(n)}function Oe(){return s.useContext(S)}function fe(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const a=s.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),o&&o(!1),!0},[r,o]),l=Y(a),i=s.useCallback(c=>{const f=h(c.target);c.target===c.currentTarget&&f.activeElement===c.target&&(t&&t(c),o&&o(!0),l(c))},[o,t,l]);return{focusProps:{onFocus:!n&&(t||o||r)?i:void 0,onBlur:!n&&(r||o)?a:void 0}}}let y=null,k=new Set,w=new Map,m=!1,N=!1;const $e={Tab:!0,Escape:!0};function F(e,n){for(let t of k)t(e,n)}function be(e){return!(e.metaKey||!X()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function H(e){m=!0,be(e)&&(y="keyboard",F("keyboard",e))}function $(e){y="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(m=!0,F("pointer",e))}function W(e){ue(e)&&(m=!0,y="virtual")}function _(e){e.target===window||e.target===document||(!m&&!N&&(y="virtual",F("virtual",e)),m=!1,N=!1)}function A(){m=!1,N=!0}function D(e){if(typeof window>"u"||w.get(v(e)))return;const n=v(e),t=h(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){m=!0,r.apply(this,arguments)},t.addEventListener("keydown",H,!0),t.addEventListener("keyup",H,!0),t.addEventListener("click",W,!0),n.addEventListener("focus",_,!0),n.addEventListener("blur",A,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",$,!0),t.addEventListener("pointermove",$,!0),t.addEventListener("pointerup",$,!0)):(t.addEventListener("mousedown",$,!0),t.addEventListener("mousemove",$,!0),t.addEventListener("mouseup",$,!0)),n.addEventListener("beforeunload",()=>{z(e)},{once:!0}),w.set(n,{focus:r})}const z=(e,n)=>{const t=v(e),r=h(e);n&&r.removeEventListener("DOMContentLoaded",n),w.has(t)&&(t.HTMLElement.prototype.focus=w.get(t).focus,r.removeEventListener("keydown",H,!0),r.removeEventListener("keyup",H,!0),r.removeEventListener("click",W,!0),t.removeEventListener("focus",_,!0),t.removeEventListener("blur",A,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",$,!0),r.removeEventListener("pointermove",$,!0),r.removeEventListener("pointerup",$,!0)):(r.removeEventListener("mousedown",$,!0),r.removeEventListener("mousemove",$,!0),r.removeEventListener("mouseup",$,!0)),w.delete(t))};function pe(e){const n=h(e);let t;return n.readyState!=="loading"?D(e):(t=()=>{D(e)},n.addEventListener("DOMContentLoaded",t)),()=>z(e,t)}typeof document<"u"&&pe();function G(){return y!=="pointer"}function ve(){return y}function je(e){y=e,F(e,null)}const me=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ye(e,n,t){var r;const o=typeof window<"u"?v(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?v(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?v(t==null?void 0:t.target).HTMLElement:HTMLElement,i=typeof window<"u"?v(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!me.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||(t==null?void 0:t.target)instanceof a||(t==null?void 0:t.target)instanceof l&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof i&&!$e[t.key])}function Ee(e,n,t){D(),s.useEffect(()=>{let r=(o,a)=>{ye(!!(t!=null&&t.isTextInput),o,a)&&e(G())};return k.add(r),()=>{k.delete(r)}},n)}let C=!1,P=0;function I(){C=!0,setTimeout(()=>{C=!1},50)}function K(e){e.pointerType==="touch"&&I()}function ge(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",K):document.addEventListener("touchend",I),P++,()=>{P--,!(P>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",K):document.removeEventListener("touchend",I))}}function Ve(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[a,l]=s.useState(!1),i=s.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;s.useEffect(ge,[]);let{hoverProps:c,triggerHoverEnd:f}=s.useMemo(()=>{let d=(u,E)=>{if(i.pointerType=E,o||E==="touch"||i.isHovered||!u.currentTarget.contains(u.target))return;i.isHovered=!0;let T=u.currentTarget;i.target=T,n&&n({type:"hoverstart",target:T,pointerType:E}),t&&t(!0),l(!0)},p=(u,E)=>{if(i.pointerType="",i.target=null,E==="touch"||!i.isHovered)return;i.isHovered=!1;let T=u.currentTarget;r&&r({type:"hoverend",target:T,pointerType:E}),t&&t(!1),l(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=u=>{C&&u.pointerType==="mouse"||d(u,u.pointerType)},b.onPointerLeave=u=>{!o&&u.currentTarget.contains(u.target)&&p(u,u.pointerType)}):(b.onTouchStart=()=>{i.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=u=>{!i.ignoreEmulatedMouseEvents&&!C&&d(u,"mouse"),i.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=u=>{!o&&u.currentTarget.contains(u.target)&&p(u,"mouse")}),{hoverProps:b,triggerHoverEnd:p}},[n,t,r,o,i]);return s.useEffect(()=>{o&&f({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:c,isHovered:a}}function Ke(e){const n=h(e);if(ve()==="virtual"){let t=n.activeElement;se(()=>{n.activeElement===t&&e.isConnected&&O(e)})}else O(e)}function Re(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=s.useRef({isFocused:!1,isFocusVisible:n||G()}),[a,l]=s.useState(!1),[i,c]=s.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=s.useCallback(()=>c(o.current.isFocused&&o.current.isFocusVisible),[]),d=s.useCallback(u=>{o.current.isFocused=u,l(u),f()},[f]);Ee(u=>{o.current.isFocusVisible=u,f()},[],{isTextInput:t});let{focusProps:p}=fe({isDisabled:r,onFocusChange:d}),{focusWithinProps:b}=J({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:i,focusProps:r?b:p}}export{le as $,Ie as a,Me as b,Ve as c,Re as d,Pe as e,Se as f,v as g,fe as h,Ke as i,He as j,ce as k,ke as l,Ne as m,Fe as n,h as o,ve as p,se as q,V as r,Z as s,je as t,O as u,Ce as v,ue as w,G as x,De as y,Oe as z};
