import{j as e}from"./jsx-runtime-sfY7k0Xq.js";import{r as n}from"./index-CcKhGcwW.js";import{$ as V}from"./TextField-Dek19DRu.js";import{$ as v}from"./useControlledState-Bw1hdnkP.js";import{C as R,S,I as O}from"./TextInputV2.styled-DoYEoHmS.js";import{R as T}from"./ReactAriaProviders-CFG_2kIo.js";import{I as B,a as E}from"./InputAlerts-qNYk2mzd.js";import{I as L}from"./InputLabelTopV2-Bx3mNyBv.js";import{O as P}from"./OuterFieldV2-eAeNS_P8.js";import{C as w}from"./CharactersCounter-DRBhkJL5.js";import{$ as A,a as W}from"./utils-BPOuYIA2.js";const k=n.forwardRef((t,x)=>{const{labelProps:i,alerts:r,id:l,placeholder:b,startSlot:o,endSlot:h,withCharacterCounter:d,onChange:I,testID:c="text-input",...f}=t,{maxLength:s}=f,p=A(x),u=n.useId(),m=n.useId(),$=[t["aria-describedby"],o?m:void 0].filter(Boolean).join(" ")||void 0,[j,C]=v(t.value,t.defaultValue??""),y=W(I,C);function D(){var a;(a=p.current)==null||a.focus()}return e.jsx(T,{fieldID:l||u,externallyLabelledBy:t["aria-labelledby"],externallyDescribedBy:$,labelProps:i,alerts:r,children:({labelledBy:a,describedBy:g})=>e.jsx(B,{alert:r&&e.jsx(E,{alerts:r}),gap:d&&s!==void 0?"4px":"8px",children:e.jsxs(R,{children:[e.jsx(L,{...i,children:e.jsx(V,{...f,id:l||u,"aria-labelledby":a,"aria-describedby":g,onChange:y,"data-testid":c,children:e.jsx(P,{startSlot:o&&e.jsx(S,{id:m,$isDisabled:t.isDisabled,children:o}),endSlot:h,focusElement:D,isReadOnly:t.isReadOnly,children:e.jsx(O,{ref:p,placeholder:b})})})}),d&&s!==void 0&&e.jsx(w,{length:j.length,maxLength:s,testID:`${c}-character-counter`})]})})})});k.displayName="TextInputV2";export{k as T};
