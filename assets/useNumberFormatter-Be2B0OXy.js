import{r as c,e as $}from"./index-CcKhGcwW.js";import{m as x}from"./utils-BPOuYIA2.js";function P(r,e=-1/0,t=1/0){return Math.min(Math.max(r,e),t)}function s(r,e){let t=r,a=e.toString(),o=a.indexOf("."),n=o>=0?a.length-o:0;if(n>0){let i=Math.pow(10,n);t=Math.round(t*i)/i}return t}function T(r,e,t,a){e=Number(e),t=Number(t);let o=(r-(isNaN(e)?0:e))%a,n=s(Math.abs(o)*2>=a?r+Math.sign(o)*(a-Math.abs(o)):r-o,a);return isNaN(e)?!isNaN(t)&&n>t&&(n=Math.floor(s(t/a,a))*a):n<e?n=e:!isNaN(t)&&n>t&&(n=e+Math.floor(s((t-e)/a,a))*a),n=s(n,a),n}const S=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),D=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function m(r){if(Intl.Locale){let t=new Intl.Locale(r).maximize(),a=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(a)return a.direction==="rtl";if(t.script)return S.has(t.script)}let e=r.split("-")[0];return D.has(e)}const M=Symbol.for("react-aria.i18n.locale");function g(){let r=typeof window<"u"&&window[M]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([r])}catch{r="en-US"}return{locale:r,direction:m(r)?"rtl":"ltr"}}let b=g(),f=new Set;function h(){b=g();for(let r of f)r(b)}function y(){let r=x(),[e,t]=c.useState(b);return c.useEffect(()=>(f.size===0&&window.addEventListener("languagechange",h),f.add(t),()=>{f.delete(t),f.size===0&&window.removeEventListener("languagechange",h)}),[]),r?{locale:"en-US",direction:"ltr"}:e}const v=$.createContext(null);function O(r){let{locale:e,children:t}=r,a=y(),o=$.useMemo(()=>e?{locale:e,direction:m(e)?"rtl":"ltr"}:a,[a,e]);return $.createElement(v.Provider,{value:o},t)}function E(){let r=y();return c.useContext(v)||r}let d=new Map,p=!1;try{p=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let u=!1;try{u=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const w={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class L{format(e){let t="";if(!p&&this.options.signDisplay!=null?t=F(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!u){var a;let{unit:o,unitDisplay:n="short",locale:i}=this.resolvedOptions();if(!o)return t;let l=(a=w[o])===null||a===void 0?void 0:a[n];t+=l[i]||l.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(e),o=this.numberFormatter.formatToParts(t);return[...a.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...o.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!p&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!u&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=R(e,t),this.options=t}}function R(r,e={}){let{numberingSystem:t}=e;if(t&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${t}`),e.style==="unit"&&!u){var a;let{unit:i,unitDisplay:l="short"}=e;if(!i)throw new Error('unit option must be provided with style: "unit"');if(!(!((a=w[i])===null||a===void 0)&&a[l]))throw new Error(`Unsupported unit ${i} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let o=r+(e?Object.entries(e).sort((i,l)=>i[0]<l[0]?-1:1).join():"");if(d.has(o))return d.get(o);let n=new Intl.NumberFormat(r,e);return d.set(o,n),n}function F(r,e,t){if(e==="auto")return r.format(t);if(e==="never")return r.format(Math.abs(t));{let a=!1;if(e==="always"?a=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):a=t>0),a){let o=r.format(-t),n=r.format(t),i=o.replace(n,"").replace(/\u200e|\u061C/,"");return[...i].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(n,"!!!").replace(i,"+").replace("!!!",n)}else return r.format(t)}}function C(r={}){let{locale:e}=E();return c.useMemo(()=>new L(e,r),[e,r])}export{O as $,C as a,P as b,E as c,T as d,L as e};
