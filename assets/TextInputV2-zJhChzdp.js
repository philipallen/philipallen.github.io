import{j as e}from"./jsx-runtime-sfY7k0Xq.js";import{r as n}from"./index-CcKhGcwW.js";import{$ as v}from"./TextField-Dek19DRu.js";import{$ as D}from"./useControlledState-Bw1hdnkP.js";import{C as S,S as R,I as T}from"./TextInputV2.styled-BnGGUVNw.js";import{R as B}from"./ReactAriaProviders-CFG_2kIo.js";import{I as E,a as L}from"./InputAlerts-Bp_UC4fJ.js";import{I as P}from"./InputLabelTopV2-e97HOkZh.js";import{O as w}from"./OuterFieldV2-CSCP22a8.js";import{C as A}from"./CharactersCounter-yM7zSSa4.js";import{$ as O,a as W}from"./utils-BPOuYIA2.js";const k=n.forwardRef((t,x)=>{const{labelProps:l,alerts:a,id:i,placeholder:b,startSlot:o,endSlot:h,withCharacterCounter:c,onChange:I,testID:d="text-input",...f}=t,{maxLength:s}=f,p=O(x),u=n.useId(),m=n.useId(),$=[t["aria-describedby"],o?m:void 0].filter(Boolean).join(" ")||void 0,[j,C]=D(t.value,t.defaultValue??""),y=W(I,C);function g(){var r;(r=p.current)==null||r.focus()}return e.jsx(B,{fieldID:i||u,externallyLabelledBy:t["aria-labelledby"],externallyDescribedBy:$,labelProps:l,alerts:a,children:({labelledBy:r,describedBy:V})=>e.jsx(E,{alert:a&&e.jsx(L,{alerts:a}),gap:c&&s!==void 0?"4px":"8px",children:e.jsxs(S,{children:[e.jsx(P,{...l,children:e.jsx(v,{...f,id:i||u,"aria-labelledby":r,"aria-describedby":V,onChange:y,"data-testid":d,children:e.jsx(w,{startSlot:o&&e.jsx(R,{id:m,children:o}),endSlot:h,focusElement:g,children:e.jsx(T,{ref:p,placeholder:b})})})}),c&&s!==void 0&&e.jsx(A,{length:j.length,maxLength:s,testID:`${d}-character-counter`})]})})})});k.displayName="TextInputV2";export{k as T};
