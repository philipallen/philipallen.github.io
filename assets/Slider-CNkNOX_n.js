import{e as te,c as A,a as ae,g as ie,b as q,i as le,f as ge}from"./utils-l5KLAjAw.js";import{c as ue,b as he,$ as de}from"./Label-DGdLAgDC.js";import{r as W,s as ve,t as $e,p as Te,u as we,v as Pe,d as ye,e as ce,$ as se,a as De}from"./useFocusRing-xuvxHm_5.js";import{r as p,e as X}from"./index-KmaxkdDD.js";import{$ as xe}from"./useNumberFormatter-75ZYSi36.js";import{$ as Me}from"./useControlledState-BCPvzKxG.js";import{$ as N,a as J}from"./number-Q_rDNm0P.js";import{$ as fe}from"./context-CQmu07jL.js";import{$ as Ve}from"./VisuallyHidden-to5K4EiD.js";function be(l){let{onMoveStart:e,onMove:t,onMoveEnd:c}=l,u=p.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:i,removeGlobalListener:v}=W(),P=te((a,$,T,o)=>{T===0&&o===0||(u.current.didMove||(u.current.didMove=!0,e==null||e({type:"movestart",pointerType:$,shiftKey:a.shiftKey,metaKey:a.metaKey,ctrlKey:a.ctrlKey,altKey:a.altKey})),t==null||t({type:"move",pointerType:$,deltaX:T,deltaY:o,shiftKey:a.shiftKey,metaKey:a.metaKey,ctrlKey:a.ctrlKey,altKey:a.altKey}))}),y=te((a,$)=>{ve(),u.current.didMove&&(c==null||c({type:"moveend",pointerType:$,shiftKey:a.shiftKey,metaKey:a.metaKey,ctrlKey:a.ctrlKey,altKey:a.altKey}))});return{moveProps:p.useMemo(()=>{let a={},$=()=>{$e(),u.current.didMove=!1};if(typeof PointerEvent>"u"){let o=n=>{if(n.button===0){var f,b,m,g;P(n,"mouse",n.pageX-((m=(f=u.current.lastPosition)===null||f===void 0?void 0:f.pageX)!==null&&m!==void 0?m:0),n.pageY-((g=(b=u.current.lastPosition)===null||b===void 0?void 0:b.pageY)!==null&&g!==void 0?g:0)),u.current.lastPosition={pageX:n.pageX,pageY:n.pageY}}},D=n=>{n.button===0&&(y(n,"mouse"),v(window,"mousemove",o,!1),v(window,"mouseup",D,!1))};a.onMouseDown=n=>{n.button===0&&($(),n.stopPropagation(),n.preventDefault(),u.current.lastPosition={pageX:n.pageX,pageY:n.pageY},i(window,"mousemove",o,!1),i(window,"mouseup",D,!1))};let s=n=>{let f=[...n.changedTouches].findIndex(({identifier:V})=>V===u.current.id);if(f>=0){var b,m;let{pageX:V,pageY:I}=n.changedTouches[f];var g,x;P(n,"touch",V-((g=(b=u.current.lastPosition)===null||b===void 0?void 0:b.pageX)!==null&&g!==void 0?g:0),I-((x=(m=u.current.lastPosition)===null||m===void 0?void 0:m.pageY)!==null&&x!==void 0?x:0)),u.current.lastPosition={pageX:V,pageY:I}}},h=n=>{[...n.changedTouches].findIndex(({identifier:b})=>b===u.current.id)>=0&&(y(n,"touch"),u.current.id=null,v(window,"touchmove",s),v(window,"touchend",h),v(window,"touchcancel",h))};a.onTouchStart=n=>{if(n.changedTouches.length===0||u.current.id!=null)return;let{pageX:f,pageY:b,identifier:m}=n.changedTouches[0];$(),n.stopPropagation(),n.preventDefault(),u.current.lastPosition={pageX:f,pageY:b},u.current.id=m,i(window,"touchmove",s,!1),i(window,"touchend",h,!1),i(window,"touchcancel",h,!1)}}else{let o=s=>{if(s.pointerId===u.current.id){var h,n;let m=s.pointerType||"mouse";var f,b;P(s,m,s.pageX-((f=(h=u.current.lastPosition)===null||h===void 0?void 0:h.pageX)!==null&&f!==void 0?f:0),s.pageY-((b=(n=u.current.lastPosition)===null||n===void 0?void 0:n.pageY)!==null&&b!==void 0?b:0)),u.current.lastPosition={pageX:s.pageX,pageY:s.pageY}}},D=s=>{if(s.pointerId===u.current.id){let h=s.pointerType||"mouse";y(s,h),u.current.id=null,v(window,"pointermove",o,!1),v(window,"pointerup",D,!1),v(window,"pointercancel",D,!1)}};a.onPointerDown=s=>{s.button===0&&u.current.id==null&&($(),s.stopPropagation(),s.preventDefault(),u.current.lastPosition={pageX:s.pageX,pageY:s.pageY},u.current.id=s.pointerId,i(window,"pointermove",o,!1),i(window,"pointerup",D,!1),i(window,"pointercancel",D,!1))}}let T=(o,D,s)=>{$(),P(o,"keyboard",D,s),y(o,"keyboard")};return a.onKeyDown=o=>{switch(o.key){case"Left":case"ArrowLeft":o.preventDefault(),o.stopPropagation(),T(o,-1,0);break;case"Right":case"ArrowRight":o.preventDefault(),o.stopPropagation(),T(o,1,0);break;case"Up":case"ArrowUp":o.preventDefault(),o.stopPropagation(),T(o,0,-1);break;case"Down":case"ArrowDown":o.preventDefault(),o.stopPropagation(),T(o,0,1);break}},a},[u,i,v,P,y])}}const Ke=0,Re=100,ke=1;function Se(l){const{isDisabled:e=!1,minValue:t=Ke,maxValue:c=Re,numberFormatter:u,step:i=ke,orientation:v="horizontal"}=l;let P=p.useMemo(()=>{let r=(c-t)/10;return r=N(r,0,r+i,i),Math.max(r,i)},[i,c,t]),y=p.useCallback(r=>r==null?void 0:r.map((w,M)=>{let U=M===0?t:r[M-1],G=M===r.length-1?c:r[M+1];return N(w,U,G,i)}),[t,c,i]),K=p.useMemo(()=>y(re(l.value)),[l.value]),a=p.useMemo(()=>{var r;return y((r=re(l.defaultValue))!==null&&r!==void 0?r:[t])},[l.defaultValue,t]),$=oe(l.value,l.defaultValue,l.onChange),T=oe(l.value,l.defaultValue,l.onChangeEnd);const[o,D]=Me(K,a,$),[s,h]=p.useState(new Array(o.length).fill(!1)),n=p.useRef(new Array(o.length).fill(!0)),[f,b]=p.useState(void 0),m=p.useRef(o),g=p.useRef(s);let x=r=>{m.current=r,D(r)},V=r=>{g.current=r,h(r)};function I(r){return(r-t)/(c-t)}function H(r){return r===0?t:o[r-1]}function z(r){return r===o.length-1?c:o[r+1]}function L(r){return n.current[r]}function Y(r,w){n.current[r]=w}function R(r,w){if(e||!L(r))return;const M=H(r),U=z(r);w=N(w,M,U,i);let G=ne(m.current,r,w);x(G)}function F(r,w){if(e||!L(r))return;w&&(m.current=o);const M=g.current[r];g.current=ne(g.current,r,w),V(g.current),T&&M&&!g.current.some(Boolean)&&T(m.current)}function k(r){return u.format(r)}function d(r,w){R(r,E(w))}function S(r){return Math.round((r-t)/i)*i+t}function E(r){const w=r*(c-t)+t;return J(S(w),t,c)}function C(r,w=1){let M=Math.max(w,i);R(r,N(o[r]+M,t,c,i))}function B(r,w=1){let M=Math.max(w,i);R(r,N(o[r]-M,t,c,i))}return{values:o,getThumbValue:r=>o[r],setThumbValue:R,setThumbPercent:d,isThumbDragging:r=>s[r],setThumbDragging:F,focusedThumb:f,setFocusedThumb:b,getThumbPercent:r=>I(o[r]),getValuePercent:I,getThumbValueLabel:r=>k(o[r]),getFormattedValue:k,getThumbMinValue:H,getThumbMaxValue:z,getPercentValue:E,isThumbEditable:L,setThumbEditable:Y,incrementThumb:C,decrementThumb:B,step:i,pageSize:P,orientation:v,isDisabled:e}}function ne(l,e,t){return l[e]===t?l:[...l.slice(0,e),t,...l.slice(e+1)]}function re(l){if(l!=null)return Array.isArray(l)?l:[l]}function oe(l,e,t){return c=>{typeof l=="number"||typeof e=="number"?t==null||t(c[0]):t==null||t(c)}}const Q=new WeakMap;function j(l,e){let t=Q.get(l);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ee(l,e,t){let{labelProps:c,fieldProps:u}=ue(l),i=l.orientation==="vertical";var v;Q.set(e,{id:(v=c.id)!==null&&v!==void 0?v:u.id,"aria-describedby":l["aria-describedby"],"aria-details":l["aria-details"]});let{direction:P}=fe(),{addGlobalListener:y,removeGlobalListener:K}=W();const a=p.useRef(null),$=P==="rtl",T=p.useRef(null),{moveProps:o}=be({onMoveStart(){T.current=null},onMove({deltaX:n,deltaY:f}){if(!t.current)return;let{height:b,width:m}=t.current.getBoundingClientRect(),g=i?b:m;T.current==null&&a.current!=null&&(T.current=e.getThumbPercent(a.current)*g);let x=i?f:n;if((i||$)&&(x=-x),T.current+=x,a.current!=null&&t.current){const V=J(T.current/g,0,1);e.setThumbPercent(a.current,V)}},onMoveEnd(){a.current!=null&&(e.setThumbDragging(a.current,!1),a.current=null)}});let D=p.useRef(void 0),s=(n,f,b,m)=>{if(t.current&&!l.isDisabled&&e.values.every((g,x)=>!e.isThumbDragging(x))){let{height:g,width:x,top:V,left:I}=t.current.getBoundingClientRect(),H=i?g:x,R=((i?m:b)-(i?V:I))/H;(P==="rtl"||i)&&(R=1-R);let F=e.getPercentValue(R),k,d=e.values.findIndex(S=>F-S<0);if(d===0)k=d;else if(d===-1)k=e.values.length-1;else{let S=e.values[d-1],E=e.values[d];Math.abs(S-F)<Math.abs(E-F)?k=d-1:k=d}k>=0&&e.isThumbEditable(k)?(n.preventDefault(),a.current=k,e.setFocusedThumb(k),D.current=f,e.setThumbDragging(a.current,!0),e.setThumbValue(k,F),y(window,"mouseup",h,!1),y(window,"touchend",h,!1),y(window,"pointerup",h,!1)):a.current=null}},h=n=>{var f,b;((b=n.pointerId)!==null&&b!==void 0?b:(f=n.changedTouches)===null||f===void 0?void 0:f[0].identifier)===D.current&&(a.current!=null&&(e.setThumbDragging(a.current,!1),a.current=null),K(window,"mouseup",h,!1),K(window,"touchend",h,!1),K(window,"pointerup",h,!1))};return"htmlFor"in c&&c.htmlFor&&(delete c.htmlFor,c.onClick=()=>{var n;(n=document.getElementById(j(e,0)))===null||n===void 0||n.focus(),Te("keyboard")}),{labelProps:c,groupProps:{role:"group",...u},trackProps:A({onMouseDown(n){n.button!==0||n.altKey||n.ctrlKey||n.metaKey||s(n,void 0,n.clientX,n.clientY)},onPointerDown(n){n.pointerType==="mouse"&&(n.button!==0||n.altKey||n.ctrlKey||n.metaKey)||s(n,n.pointerId,n.clientX,n.clientY)},onTouchStart(n){s(n,n.changedTouches[0].identifier,n.changedTouches[0].clientX,n.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},o),outputProps:{htmlFor:e.values.map((n,f)=>j(e,f)).join(" "),"aria-live":"off"}}}function Fe(l,e){let{index:t=0,isRequired:c,validationState:u,isInvalid:i,trackRef:v,inputRef:P,orientation:y=e.orientation,name:K}=l,a=l.isDisabled||e.isDisabled,$=y==="vertical",{direction:T}=fe(),{addGlobalListener:o,removeGlobalListener:D}=W(),s=Q.get(e);var h;const{labelProps:n,fieldProps:f}=ue({...l,id:j(e,t),"aria-labelledby":`${s.id} ${(h=l["aria-labelledby"])!==null&&h!==void 0?h:""}`.trim()}),b=e.values[t],m=p.useCallback(()=>{P.current&&we(P.current)},[P]),g=e.focusedThumb===t;p.useEffect(()=>{g&&m()},[g,m]);let x=T==="rtl",V=p.useRef(null),{keyboardProps:I}=Pe({onKeyDown(d){let{getThumbMaxValue:S,getThumbMinValue:E,decrementThumb:C,incrementThumb:B,setThumbValue:r,setThumbDragging:w,pageSize:M}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(d.key)){d.continuePropagation();return}switch(d.preventDefault(),w(t,!0),d.key){case"PageUp":B(t,M);break;case"PageDown":C(t,M);break;case"Home":r(t,E(t));break;case"End":r(t,S(t));break}w(t,!1)}}),{moveProps:H}=be({onMoveStart(){V.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:d,deltaY:S,pointerType:E,shiftKey:C}){const{getThumbPercent:B,setThumbPercent:r,decrementThumb:w,incrementThumb:M,step:U,pageSize:G}=e;if(!v.current)return;let{width:me,height:pe}=v.current.getBoundingClientRect(),ee=$?pe:me;if(V.current==null&&(V.current=B(t)*ee),E==="keyboard")d>0&&x||d<0&&!x||S>0?w(t,C?G:U):M(t,C?G:U);else{let O=$?S:d;($||x)&&(O=-O),V.current+=O,r(t,J(V.current/ee,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!a);const{focusableProps:z}=ye(A(l,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),P);let L=p.useRef(void 0),Y=d=>{m(),L.current=d,e.setThumbDragging(t,!0),o(window,"mouseup",R,!1),o(window,"touchend",R,!1),o(window,"pointerup",R,!1)},R=d=>{var S,E;((E=d.pointerId)!==null&&E!==void 0?E:(S=d.changedTouches)===null||S===void 0?void 0:S[0].identifier)===L.current&&(m(),e.setThumbDragging(t,!1),D(window,"mouseup",R,!1),D(window,"touchend",R,!1),D(window,"pointerup",R,!1))},F=e.getThumbPercent(t);($||T==="rtl")&&(F=1-F);let k=a?{}:A(I,H,{onMouseDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y()},onPointerDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y(d.pointerId)},onTouchStart:d=>{Y(d.changedTouches[0].identifier)}});return he(P,b,d=>{e.setThumbValue(t,d)}),{inputProps:A(z,f,{type:"range",tabIndex:a?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:b,name:K,disabled:a,"aria-orientation":y,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":c||void 0,"aria-invalid":i||u==="invalid"||void 0,"aria-errormessage":l["aria-errormessage"],"aria-describedby":[s["aria-describedby"],l["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[s["aria-details"],l["aria-details"]].filter(Boolean).join(" "),onChange:d=>{e.setThumbValue(t,parseFloat(d.target.value))}}),thumbProps:{...k,style:{position:"absolute",[$?"top":"left"]:`${F*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:n,isDragging:e.isThumbDragging(t),isDisabled:a,isFocused:g}}const Ie=p.createContext(null),Z=p.createContext(null),_=p.createContext(null),Le=p.createContext(null),Ne=p.forwardRef(function(e,t){[e,t]=ae(e,t,Ie);let c=p.useRef(null),u=xe(e.formatOptions),i=Se({...e,numberFormatter:u}),[v,P]=ie(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:y,trackProps:K,labelProps:a,outputProps:$}=Ee({...e,label:P},i,c),T=q({...e,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-Slider"}),o=ce(e);return delete o.id,X.createElement(le,{values:[[Z,i],[_,{...K,ref:c}],[Le,$],[de,{...a,ref:v}]]},X.createElement("div",{...o,...y,...T,ref:t,slot:e.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}),Oe=p.forwardRef(function(e,t){[e,t]=ae(e,t,_);let c=p.useContext(Z),{onHoverStart:u,onHoverEnd:i,onHoverChange:v,...P}=e,{hoverProps:y,isHovered:K}=se({onHoverStart:u,onHoverEnd:i,onHoverChange:v}),a=q({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:c.orientation,isDisabled:c.isDisabled,isHovered:K,state:c}});return X.createElement("div",{...A(P,y),...a,ref:t,"data-hovered":K||void 0,"data-orientation":c.orientation||void 0,"data-disabled":c.isDisabled||void 0})}),je=p.forwardRef(function(e,t){let{inputRef:c=null}=e,u=p.useContext(Z),{ref:i}=ge(_),{index:v=0}=e,P=p.useRef(null),y=c||P,[K,a]=ie(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:$,inputProps:T,labelProps:o,isDragging:D,isFocused:s,isDisabled:h}=Fe({...e,index:v,trackRef:i,inputRef:y,label:a},u),{focusProps:n,isFocusVisible:f}=De(),{hoverProps:b,isHovered:m}=se(e),g=q({...e,defaultClassName:"react-aria-SliderThumb",values:{state:u,isHovered:m,isDragging:D,isFocused:s,isFocusVisible:f,isDisabled:h}}),x=ce(e);return delete x.id,X.createElement("div",{...A(x,$,b),...g,ref:t,style:{...$.style,...g.style},"data-hovered":m||void 0,"data-dragging":D||void 0,"data-focused":s||void 0,"data-focus-visible":f||void 0,"data-disabled":h||void 0},X.createElement(Ve,null,X.createElement("input",{ref:y,...A(T,n)})),X.createElement(le,{values:[[de,{...o,ref:K}]]},g.children))});export{Oe as $,je as a,Ne as b};
