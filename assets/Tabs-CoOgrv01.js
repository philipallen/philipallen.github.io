import{d as T,k as R,g as H,$ as N,f as C,j as V,i as O,l as A}from"./Collection-XH8ulj08.js";import{j as z,c as p,l as j,a as B,b as K,i as w,h as U,$ as D}from"./utils-HuDI8Qn7.js";import{d as M,b as W}from"./Label-B4tzsfJl.js";import{$ as m}from"./filterDOMProps-CeZl_uWj.js";import{r as c,e as f}from"./index-KmaxkdDD.js";import{b as q}from"./useSingleSelectListState-jiLWQ0yE.js";import{c as G,a as F,$ as J}from"./useFocusRing-sAzOUMLq.js";import{c as Q}from"./useNumberFormatter-0Jg9Jb_k.js";import{a as X}from"./usePress-BpjTE7Om.js";import{$ as Y}from"./FocusScope-U4VFcwgb.js";function Z(a){const e=c.version.split(".");return parseInt(e[0],10)>=19?a:a?"true":void 0}function _(a,e){let t=e==null?void 0:e.isDisabled,[i,s]=c.useState(!1);return z(()=>{if(a!=null&&a.current&&!t){let d=()=>{if(a.current){let o=Y(a.current,{tabbable:!0});s(!!o.nextNode())}};d();let l=new MutationObserver(d);return l.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{l.disconnect()}}}),t?!1:i}const k=new WeakMap;function P(a,e,t){return a?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${k.get(a)}-${t}-${e}`):""}function ee(a,e,t){let{key:i,isDisabled:s,shouldSelectOnPressUp:d}=a,{selectionManager:l,selectedKey:o}=e,r=i===o,n=s||e.isDisabled||e.selectionManager.isDisabled(i),{itemProps:u,isPressed:b}=T({selectionManager:l,key:i,ref:t,isDisabled:n,shouldSelectOnPressUp:d,linkBehavior:"selection"}),v=P(e,i,"tab"),y=P(e,i,"tabpanel"),{tabIndex:x}=u,$=e.collection.getItem(i),S=m($==null?void 0:$.props,{labelable:!0});delete S.id;let I=X($==null?void 0:$.props),{focusableProps:L}=G({isDisabled:n},t);return{tabProps:p(S,L,I,u,{id:v,"aria-selected":r,"aria-disabled":n||void 0,"aria-controls":r?y:void 0,tabIndex:n?void 0:x,role:"tab"}),isSelected:r,isDisabled:n,isPressed:b}}function te(a,e,t){let i=_(t)?void 0:0;var s;const d=P(e,(s=a.id)!==null&&s!==void 0?s:e==null?void 0:e.selectedKey,"tabpanel"),l=M({...a,id:d,"aria-labelledby":P(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:p(l,{tabIndex:i,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class ae{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,i;return this.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,i,s=new Set){this.collection=e,this.flipDirection=t==="rtl"&&i==="horizontal",this.disabledKeys=s,this.tabDirection=i==="horizontal"}}function ie(a,e,t){let{orientation:i="horizontal",keyboardActivation:s="automatic"}=a,{collection:d,selectionManager:l,disabledKeys:o}=e,{direction:r}=Q(),n=c.useMemo(()=>new ae(d,r,i,o),[d,o,i,r]),{collectionProps:u}=R({ref:t,selectionManager:l,keyboardDelegate:n,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),b=j();k.set(e,b);let v=M({...a,id:b});return{tabListProps:{...p(u,v),role:"tablist","aria-orientation":i,tabIndex:void 0}}}function se(a){var e,t;let i=q({...a,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=a.defaultSelectedKey)!==null&&e!==void 0?e:E(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:s,collection:d,selectedKey:l}=i,o=c.useRef(l);return c.useEffect(()=>{let r=l;a.selectedKey==null&&(s.isEmpty||r==null||!d.getItem(r))&&(r=E(d,i.disabledKeys),r!=null&&s.setSelectedKeys([r])),(r!=null&&s.focusedKey==null||!s.isFocused&&r!==o.current)&&s.setFocusedKey(r),o.current=r}),{...i,isDisabled:a.isDisabled||!1}}function E(a,e){let t=null;if(a){var i,s,d,l;for(t=a.getFirstKey();t!=null&&(e.has(t)||!((s=a.getItem(t))===null||s===void 0||(i=s.props)===null||i===void 0)&&i.isDisabled)&&t!==a.getLastKey();)t=a.getKeyAfter(t);t!=null&&(e.has(t)||!((l=a.getItem(t))===null||l===void 0||(d=l.props)===null||d===void 0)&&d.isDisabled)&&t===a.getLastKey()&&(t=a.getFirstKey())}return t}const g=c.createContext(null),h=c.createContext(null),pe=c.forwardRef(function(e,t){[e,t]=B(e,t,g);let{children:i,orientation:s="horizontal"}=e;return i=c.useMemo(()=>typeof i=="function"?i({orientation:s,defaultChildren:null}):i,[i,s]),f.createElement(H,{content:i},d=>f.createElement(le,{props:e,collection:d,tabsRef:t}))});function le({props:a,tabsRef:e,collection:t}){let{orientation:i="horizontal"}=a,s=se({...a,collection:t,children:void 0}),{focusProps:d,isFocused:l,isFocusVisible:o}=F({within:!0}),r=c.useMemo(()=>({orientation:i,isFocusWithin:l,isFocusVisible:o}),[i,l,o]),n=K({...a,defaultClassName:"react-aria-Tabs",values:r});return f.createElement("div",{...m(a),...d,...n,ref:e,slot:a.slot||void 0,"data-focused":l||void 0,"data-orientation":i,"data-focus-visible":o||void 0,"data-disabled":s.isDisabled||void 0},f.createElement(w,{values:[[g,a],[h,s]]},n.children))}const ye=c.forwardRef(function(e,t){return c.useContext(h)?f.createElement(de,{props:e,forwardedRef:t}):f.createElement(N,e)});function de({props:a,forwardedRef:e}){let t=c.useContext(h),{CollectionRoot:i}=c.useContext(C),{orientation:s="horizontal",keyboardActivation:d="automatic"}=U(g),l=D(e),{tabListProps:o}=ie({...a,orientation:s,keyboardActivation:d},t,l),r=K({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:t}}),n=m(a);return delete n.id,f.createElement("div",{...n,...o,ref:l,...r,"data-orientation":s||void 0},f.createElement(i,{collection:t.collection,persistedKeys:V(t.selectionManager.focusedKey)}))}const xe=O("item",(a,e,t)=>{let i=c.useContext(h),s=D(e),{tabProps:d,isSelected:l,isDisabled:o,isPressed:r}=ee({key:t.key,...a},i,s),{focusProps:n,isFocused:u,isFocusVisible:b}=F(),{hoverProps:v,isHovered:y}=J({isDisabled:o,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),x=K({...a,id:void 0,children:t.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:l,isDisabled:o,isFocused:u,isFocusVisible:b,isPressed:r,isHovered:y}}),$=t.props.href?"a":"div";return f.createElement($,{...p(d,n,v,x),ref:s,"data-selected":l||void 0,"data-disabled":o||void 0,"data-focused":u||void 0,"data-focus-visible":b||void 0,"data-pressed":r||void 0,"data-hovered":y||void 0},x.children)}),Pe=W(function(e,t){const i=c.useContext(h);let s=D(t),{tabPanelProps:d}=te(e,i,s),{focusProps:l,isFocused:o,isFocusVisible:r}=F(),n=i.selectedKey===e.id,u=K({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:r,isInert:!n,state:i}});if(!n&&!e.shouldForceMount)return null;let b=m(e);delete b.id;let v=n?p(b,d,l,u):u;return f.createElement("div",{...v,ref:s,"data-focused":o||void 0,"data-focus-visible":r||void 0,inert:Z(!n),"data-inert":n?void 0:"true"},f.createElement(w,{values:[[g,null],[h,null]]},f.createElement(C.Provider,{value:A},u.children)))});export{ye as $,xe as a,Pe as b,pe as c,h as d};
