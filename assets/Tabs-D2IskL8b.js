import{d as T,j as R,h as H,$ as N,g as E,k as V,f as O,l as A}from"./Collection-Bn5P0R-H.js";import{k as z,d as y,l as B,b as j,c as K,j as w,i as U,$ as D}from"./utils-BPOuYIA2.js";import{d as M,b as W}from"./Label-CxUBTwi1.js";import{$ as m}from"./filterDOMProps-CeZl_uWj.js";import{a as q}from"./useListState-7Y8jYvYy.js";import{r as c,e as f}from"./index-CcKhGcwW.js";import{$ as G}from"./useSingleSelectListState-BVHH0RE2.js";import{c as J,a as F,$ as Q}from"./useFocusRing-G-z0GAlQ.js";import{c as X}from"./useNumberFormatter-Be2B0OXy.js";import{a as Y}from"./usePress-N-SZRQyW.js";import{b as Z}from"./FocusScope-DImX_wcQ.js";function _(a,e){let t=e==null?void 0:e.isDisabled,[i,l]=c.useState(!1);return z(()=>{if(a!=null&&a.current&&!t){let r=()=>{if(a.current){let o=Z(a.current,{tabbable:!0});l(!!o.nextNode())}};r();let d=new MutationObserver(r);return d.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{d.disconnect()}}}),t?!1:i}const k=new WeakMap;function P(a,e,t){return a?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${k.get(a)}-${t}-${e}`):""}function ee(a,e,t){let{key:i,isDisabled:l,shouldSelectOnPressUp:r}=a,{selectionManager:d,selectedKey:o}=e,s=i===o,n=l||e.isDisabled||e.selectionManager.isDisabled(i),{itemProps:u,isPressed:b}=T({selectionManager:d,key:i,ref:t,isDisabled:n,shouldSelectOnPressUp:r,linkBehavior:"selection"}),v=P(e,i,"tab"),p=P(e,i,"tabpanel"),{tabIndex:x}=u,$=e.collection.getItem(i),S=m($==null?void 0:$.props,{labelable:!0});delete S.id;let L=Y($==null?void 0:$.props),{focusableProps:I}=J({isDisabled:n},t);return{tabProps:y(S,I,L,u,{id:v,"aria-selected":s,"aria-disabled":n||void 0,"aria-controls":s?p:void 0,tabIndex:n?void 0:x,role:"tab"}),isSelected:s,isDisabled:n,isPressed:b}}function te(a,e,t){let i=_(t)?void 0:0;var l;const r=P(e,(l=a.id)!==null&&l!==void 0?l:e==null?void 0:e.selectedKey,"tabpanel"),d=M({...a,id:r,"aria-labelledby":P(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:y(d,{tabIndex:i,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class ae{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,i;return this.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,i,l=new Set){this.collection=e,this.flipDirection=t==="rtl"&&i==="horizontal",this.disabledKeys=l,this.tabDirection=i==="horizontal"}}function ie(a,e,t){let{orientation:i="horizontal",keyboardActivation:l="automatic"}=a,{collection:r,selectionManager:d,disabledKeys:o}=e,{direction:s}=X(),n=c.useMemo(()=>new ae(r,s,i,o),[r,o,i,s]),{collectionProps:u}=R({ref:t,selectionManager:d,keyboardDelegate:n,selectOnFocus:l==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),b=B();k.set(e,b);let v=M({...a,id:b});return{tabListProps:{...y(u,v),role:"tablist","aria-orientation":i,tabIndex:void 0}}}function le(a){var e,t;let i=G({...a,onSelectionChange:a.onSelectionChange?s=>{var n;s!=null&&((n=a.onSelectionChange)===null||n===void 0||n.call(a,s))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=a.defaultSelectedKey)!==null&&e!==void 0?e:C(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:l,collection:r,selectedKey:d}=i,o=c.useRef(d);return c.useEffect(()=>{let s=d;a.selectedKey==null&&(l.isEmpty||s==null||!r.getItem(s))&&(s=C(r,i.disabledKeys),s!=null&&l.setSelectedKeys([s])),(s!=null&&l.focusedKey==null||!l.isFocused&&s!==o.current)&&l.setFocusedKey(s),o.current=s}),{...i,isDisabled:a.isDisabled||!1}}function C(a,e){let t=null;if(a){var i,l,r,d;for(t=a.getFirstKey();t!=null&&(e.has(t)||!((l=a.getItem(t))===null||l===void 0||(i=l.props)===null||i===void 0)&&i.isDisabled)&&t!==a.getLastKey();)t=a.getKeyAfter(t);t!=null&&(e.has(t)||!((d=a.getItem(t))===null||d===void 0||(r=d.props)===null||r===void 0)&&r.isDisabled)&&t===a.getLastKey()&&(t=a.getFirstKey())}return t}const g=c.createContext(null),h=c.createContext(null),pe=c.forwardRef(function(e,t){[e,t]=j(e,t,g);let{children:i,orientation:l="horizontal"}=e;return i=c.useMemo(()=>typeof i=="function"?i({orientation:l,defaultChildren:null}):i,[i,l]),f.createElement(H,{content:i},r=>f.createElement(se,{props:e,collection:r,tabsRef:t}))});function se({props:a,tabsRef:e,collection:t}){let{orientation:i="horizontal"}=a,l=le({...a,collection:t,children:void 0}),{focusProps:r,isFocused:d,isFocusVisible:o}=F({within:!0}),s=c.useMemo(()=>({orientation:i,isFocusWithin:d,isFocusVisible:o}),[i,d,o]),n=K({...a,defaultClassName:"react-aria-Tabs",values:s});return f.createElement("div",{...m(a),...r,...n,ref:e,slot:a.slot||void 0,"data-focused":d||void 0,"data-orientation":i,"data-focus-visible":o||void 0,"data-disabled":l.isDisabled||void 0},f.createElement(w,{values:[[g,a],[h,l]]},n.children))}const xe=c.forwardRef(function(e,t){return c.useContext(h)?f.createElement(de,{props:e,forwardedRef:t}):f.createElement(N,e)});function de({props:a,forwardedRef:e}){let t=c.useContext(h),{CollectionRoot:i}=c.useContext(E),{orientation:l="horizontal",keyboardActivation:r="automatic"}=U(g),d=D(e),{tabListProps:o}=ie({...a,orientation:l,keyboardActivation:r},t,d),s=K({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:l,state:t}}),n=m(a);return delete n.id,f.createElement("div",{...n,...o,ref:d,...s,"data-orientation":l||void 0},f.createElement(i,{collection:t.collection,persistedKeys:V(t.selectionManager.focusedKey)}))}const Pe=O("item",(a,e,t)=>{let i=c.useContext(h),l=D(e),{tabProps:r,isSelected:d,isDisabled:o,isPressed:s}=ee({key:t.key,...a},i,l),{focusProps:n,isFocused:u,isFocusVisible:b}=F(),{hoverProps:v,isHovered:p}=Q({isDisabled:o,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),x=K({...a,id:void 0,children:t.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:d,isDisabled:o,isFocused:u,isFocusVisible:b,isPressed:s,isHovered:p}}),$=t.props.href?"a":"div";return f.createElement($,{...y(r,n,v,x),ref:l,"data-selected":d||void 0,"data-disabled":o||void 0,"data-focused":u||void 0,"data-focus-visible":b||void 0,"data-pressed":s||void 0,"data-hovered":p||void 0},x.children)}),Ke=W(function(e,t){const i=c.useContext(h);let l=D(t),{tabPanelProps:r}=te(e,i,l),{focusProps:d,isFocused:o,isFocusVisible:s}=F(),n=i.selectedKey===e.id,u=K({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:s,isInert:!n,state:i}});if(!n&&!e.shouldForceMount)return null;let b=m(e);delete b.id;let v=n?y(b,r,d,u):u;return f.createElement("div",{...v,ref:l,"data-focused":o||void 0,"data-focus-visible":s||void 0,inert:q(!n),"data-inert":n?void 0:"true"},f.createElement(w,{values:[[g,null],[h,null]]},f.createElement(E.Provider,{value:A},u.children)))});export{xe as $,Pe as a,Ke as b,pe as c};
