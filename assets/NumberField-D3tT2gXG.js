import{a as ua}from"./Button-DPtumZN7.js";import{e as da,d as K,l as G,a as oa,b as sa,i as ca,f as fa,h as ba,c as $a,j as ma}from"./utils-BPOuYIA2.js";import{$ as pa,e as va,c as xa,d as La}from"./Form-lKvwNwi4.js";import{a as Da}from"./Group-oOA39aJ_.js";import{a as Fa}from"./Input-DoxsRZPw.js";import{a as Pa}from"./Label-CxUBTwi1.js";import{a as Ba}from"./Text-DC2Lycci.js";import{$ as be}from"./filterDOMProps-CeZl_uWj.js";import{r as d,e as X}from"./index-CcKhGcwW.js";import{d as N,b as J,e as se,a as ce,c as Na}from"./useNumberFormatter-Be2B0OXy.js";import{$ as Ca}from"./useControlledState-Bw1hdnkP.js";import{$ as Ea,a as ga}from"./useSpinButton-Cy1-l4_7.js";import{C as Va,j as ha,a as Sa}from"./focusSafely-B-zcuC90.js";import{$ as Ma}from"./useFormReset-Bq-COY0f.js";import{k as ya,b as ka}from"./useFocusRing-G-z0GAlQ.js";import{$ as Ia}from"./useEvent-CR-cdJGO.js";import{$ as wa}from"./useTextField-BirOXiLr.js";import{v as Oa}from"./Dialog-fZIrdnKw.js";function Ta(e,a){let{onScroll:r,isDisabled:n}=e,o=d.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ia(a,"wheel",n?void 0:o)}function Ra(e){let{minValue:a,maxValue:r,step:n,formatOptions:o,value:i,defaultValue:f=NaN,onChange:v,locale:s,isDisabled:x,isReadOnly:L}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=N(i,a,r,n):i=J(i,a,r)),isNaN(f)||(n!==void 0&&!isNaN(n)?f=N(f,a,r,n):f=J(f,a,r));let[t,l]=Ca(i,isNaN(f)?NaN:f,v),[c,D]=d.useState(()=>isNaN(t)?"":new se(s,o).format(t)),F=d.useMemo(()=>new Ea(s,o),[s,o]),V=d.useMemo(()=>F.getNumberingSystem(c),[F,c]),P=d.useMemo(()=>new se(s,{...o,numberingSystem:V}),[s,o,V]),S=d.useMemo(()=>P.resolvedOptions(),[P]),m=d.useCallback(u=>isNaN(u)||u===null?"":P.format(u),[P]),B=pa({...e,value:t}),b=n!==void 0&&!isNaN(n)?n:1;S.style==="percent"&&(n===void 0||isNaN(n))&&(b=.01);let[W,M]=d.useState(t),[q,y]=d.useState(s),[U,h]=d.useState(o);(!Object.is(t,W)||s!==q||o!==U)&&(D(m(t)),M(t),y(s),h(o));let $=d.useMemo(()=>F.parse(c),[F,c]),k=()=>{if(!c.length){l(NaN),D(i===void 0?"":m(t));return}if(isNaN($)){D(m(t));return}let u;n===void 0||isNaN(n)?u=J($,a,r):u=N($,a,r,n),u=F.parse(m(u)),l(u),D(m(i===void 0?u:t))},I=(u,j=0)=>{let C=$;if(isNaN(C)){let E=isNaN(j)?0:j;return N(E,a,r,b)}else{let E=N(C,a,r,b);return u==="+"&&E>C||u==="-"&&E<C?E:N(Q(u,C,b),a,r,b)}},w=()=>{let u=I("+",a);u===t&&D(m(u)),l(u),B.commitValidation()},O=()=>{let u=I("-",r);u===t&&D(m(u)),l(u),B.commitValidation()},_=()=>{r!=null&&(l(N(r,a,r,b)),B.commitValidation())},R=()=>{a!=null&&(l(a),B.commitValidation())},z=d.useMemo(()=>!x&&!L&&(isNaN($)||r===void 0||isNaN(r)||N($,a,r,b)>$||Q("+",$,b)<=r),[x,L,a,r,b,$]),A=d.useMemo(()=>!x&&!L&&(isNaN($)||a===void 0||isNaN(a)||N($,a,r,b)<$||Q("-",$,b)>=a),[x,L,a,r,b,$]);return{...B,validate:u=>F.isValidPartialNumber(u,a,r),increment:w,incrementToMax:_,decrement:O,decrementToMin:R,canIncrement:z,canDecrement:A,minValue:a,maxValue:r,numberValue:$,setNumberValue:l,setInputValue:D,inputValue:c,commit:k}}function Q(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const o=a.toString().split("."),i=r.toString().split("."),f=o[1]&&o[1].length||0,v=i[1]&&i[1].length||0,s=Math.pow(10,Math.max(f,v));a=Math.round(a*s),r=Math.round(r*s),n=e==="+"?a+r:a-r,n/=s}return n}function fe(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Aa(e,a,r){let n=da(t=>{let l=r.current;if(!l)return;let c=null;switch(t.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":c=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentForward":c=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd+1):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentBackward":c=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart-1)+l.value.slice(l.selectionStart):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":c=l.value.slice(l.selectionStart);break;default:t.data!=null&&(c=l.value.slice(0,l.selectionStart)+t.data+l.value.slice(l.selectionEnd));break}(c==null||!a.validate(c))&&t.preventDefault()});d.useEffect(()=>{if(!fe()||!r.current)return;let t=r.current;return t.addEventListener("beforeinput",n,!1),()=>{t.removeEventListener("beforeinput",n,!1)}},[r,n]);let o=fe()?null:t=>{let l=t.target.value.slice(0,t.target.selectionStart)+t.data+t.target.value.slice(t.target.selectionEnd);a.validate(l)||t.preventDefault()},{labelProps:i,inputProps:f,descriptionProps:v,errorMessageProps:s,...x}=wa(e,r),L=d.useRef(null);return{inputProps:K(f,{onBeforeInput:o,onCompositionStart(){let{value:t,selectionStart:l,selectionEnd:c}=r.current;L.current={value:t,selectionStart:l,selectionEnd:c}},onCompositionEnd(){if(r.current&&!a.validate(r.current.value)){let{value:t,selectionStart:l,selectionEnd:c}=L.current;r.current.value=t,r.current.setSelectionRange(l,c),a.setInputValue(t)}}}),labelProps:i,descriptionProps:v,errorMessageProps:s,...x}}var $e={};$e={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var me={};me={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var pe={};pe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var ve={};ve={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var xe={};xe={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Le={};Le={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var De={};De={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Fe={};Fe={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Pe={};Pe={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Be={};Be={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Ne={};Ne={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Ce={};Ce={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Ee={};Ee={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var ge={};ge={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Ve={};Ve={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var he={};he={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Se={};Se={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Me={};Me={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var ye={};ye={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var ke={};ke={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Ie={};Ie={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var we={};we={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Oe={};Oe={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Te={};Te={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Re={};Re={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Ae={};Ae={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var je={};je={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ke={};Ke={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var We={};We={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var qe={};qe={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ue={};Ue={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var _e={};_e={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var ze={};ze={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ze={};Ze={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Ye={};Ye={"ar-AE":$e,"bg-BG":me,"cs-CZ":pe,"da-DK":ve,"de-DE":xe,"el-GR":Le,"en-US":De,"es-ES":Fe,"et-EE":Pe,"fi-FI":Be,"fr-FR":Ne,"he-IL":Ce,"hr-HR":Ee,"hu-HU":ge,"it-IT":Ve,"ja-JP":he,"ko-KR":Se,"lt-LT":Me,"lv-LV":ye,"nb-NO":ke,"nl-NL":Ie,"pl-PL":we,"pt-BR":Oe,"pt-PT":Te,"ro-RO":Re,"ru-RU":Ae,"sk-SK":je,"sl-SI":Ke,"sr-SP":We,"sv-SE":qe,"tr-TR":Ue,"uk-UA":_e,"zh-CN":ze,"zh-TW":Ze};function ja(e){return e&&e.__esModule?e.default:e}function Ka(e,a,r){let{id:n,decrementAriaLabel:o,incrementAriaLabel:i,isDisabled:f,isReadOnly:v,isRequired:s,minValue:x,maxValue:L,autoFocus:t,label:l,formatOptions:c,onBlur:D=()=>{},onFocus:F,onFocusChange:V,onKeyDown:P,onKeyUp:S,description:m,errorMessage:B,isWheelDisabled:b,...W}=e,{increment:M,incrementToMax:q,decrement:y,decrementToMin:U,numberValue:h,inputValue:$,commit:k,commitValidation:I}=a;const w=Oa(ja(Ye),"@react-aria/numberfield");let O=G(n),{focusProps:_}=ya({onBlur(){k()}}),R=ce(c),z=d.useMemo(()=>R.resolvedOptions(),[R]),A=ce({...c,currencySign:void 0}),ee=d.useMemo(()=>isNaN(h)?"":A.format(h),[A,h]),{spinButtonProps:u,incrementButtonProps:j,decrementButtonProps:C}=ga({isDisabled:f,isReadOnly:v,isRequired:s,maxValue:L,minValue:x,onIncrement:M,onIncrementToMax:q,onDecrement:y,onDecrementToMin:U,value:h,textValue:ee}),[E,He]=d.useState(!1),{focusWithinProps:Ge}=ka({isDisabled:f,onFocusWithinChange:He}),Xe=d.useCallback(p=>{Math.abs(p.deltaY)<=Math.abs(p.deltaX)||(p.deltaY>0?M():p.deltaY<0&&y())},[y,M]);Ta({onScroll:Xe,isDisabled:b||f||v||!E},r);var Z;let ae=((Z=z.maximumFractionDigits)!==null&&Z!==void 0?Z:0)>0,re=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,T="numeric";Va()?re?T="text":ae&&(T="decimal"):ha()&&(re?T="numeric":ae&&(T="decimal"));let Je=p=>{a.validate(p)&&a.setInputValue(p)},Qe=be(e),le=d.useCallback(p=>{p.key==="Enter"?(k(),I()):p.continuePropagation()},[k,I]),{isInvalid:te,validationErrors:ea,validationDetails:aa}=a.displayValidation,{labelProps:ie,inputProps:ra,descriptionProps:la,errorMessageProps:ta}=Aa({...W,...Qe,name:void 0,label:l,autoFocus:t,isDisabled:f,isReadOnly:v,isRequired:s,validate:void 0,[va]:a,value:$,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:O,type:"text",inputMode:T,onChange:Je,onBlur:D,onFocus:F,onFocusChange:V,onKeyDown:d.useMemo(()=>oa(le,P),[le,P]),onKeyUp:S,description:m,errorMessage:B},a,r);Ma(r,a.numberValue,a.setNumberValue);let ne=K(u,_,ra,{role:null,"aria-roledescription":Sa()?null:w.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(ne["aria-required"]=void 0);let ue=p=>{var H;document.activeElement!==r.current&&(p.pointerType==="mouse"?(H=r.current)===null||H===void 0||H.focus():p.target.focus())},Y=e["aria-label"]||(typeof e.label=="string"?e.label:""),g;Y||(g=e.label!=null?ie.id:e["aria-labelledby"]);let de=G(),oe=G(),ia=K(j,{"aria-label":i||w.format("increase",{fieldLabel:Y}).trim(),id:g&&!i?de:null,"aria-labelledby":g&&!i?`${de} ${g}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ue}),na=K(C,{"aria-label":o||w.format("decrease",{fieldLabel:Y}).trim(),id:g&&!o?oe:null,"aria-labelledby":g&&!o?`${oe} ${g}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ue});return{groupProps:{...Ge,role:"group","aria-disabled":f,"aria-invalid":te?"true":void 0},labelProps:ie,inputProps:ne,incrementButtonProps:ia,decrementButtonProps:na,errorMessageProps:ta,descriptionProps:la,isInvalid:te,validationErrors:ea,validationDetails:aa}}const Wa=d.createContext(null),qa=d.createContext(null),or=d.forwardRef(function(a,r){[a,r]=sa(a,r,Wa);let{validationBehavior:n}=ca(xa)||{};var o,i;let f=(i=(o=a.validationBehavior)!==null&&o!==void 0?o:n)!==null&&i!==void 0?i:"native",{locale:v}=Na(),s=Ra({...a,locale:v,validationBehavior:f}),x=d.useRef(null),[L,t]=fa(!a["aria-label"]&&!a["aria-labelledby"]),{labelProps:l,groupProps:c,inputProps:D,incrementButtonProps:F,decrementButtonProps:V,descriptionProps:P,errorMessageProps:S,...m}=Ka({...ba(a),label:t,validationBehavior:f},s,x),B=$a({...a,values:{state:s,isDisabled:a.isDisabled||!1,isInvalid:m.isInvalid||!1,isRequired:a.isRequired||!1},defaultClassName:"react-aria-NumberField"}),b=be(a);return delete b.id,X.createElement(ma,{values:[[qa,s],[Da,c],[Fa,{...D,ref:x}],[Pa,{...l,ref:L}],[ua,{slots:{increment:F,decrement:V}}],[Ba,{slots:{description:P,errorMessage:S}}],[La,m]]},X.createElement("div",{...b,...B,ref:r,slot:a.slot||void 0,"data-disabled":a.isDisabled||void 0,"data-required":a.isRequired||void 0,"data-invalid":m.isInvalid||void 0}),a.name&&X.createElement("input",{type:"hidden",name:a.name,value:isNaN(s.numberValue)?"":s.numberValue}))});export{or as $};
