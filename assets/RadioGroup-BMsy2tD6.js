import{d as V,l as O,b as B,$ as E,g as k,h as L,c as C,i as _,f as N,j as T}from"./utils-BPOuYIA2.js";import{b as W,a as A,$ as G,c as H,d as j}from"./Form-lKvwNwi4.js";import{a as K}from"./Label-CxUBTwi1.js";import{a as U}from"./Text-DC2Lycci.js";import{$ as M}from"./filterDOMProps-CeZl_uWj.js";import{r as R,e as I}from"./index-CcKhGcwW.js";import{$ as z}from"./useFormReset-Bq-COY0f.js";import{$ as q}from"./usePress-N-SZRQyW.js";import{c as J,b as Q,a as X,$ as Y}from"./useFocusRing-G-z0GAlQ.js";import{b as Z}from"./FocusScope-DImX_wcQ.js";import{c as ee}from"./useNumberFormatter-Be2B0OXy.js";import{$ as ae}from"./VisuallyHidden-BNZM_wZC.js";import{$ as ie}from"./useControlledState-Bw1hdnkP.js";const S=new WeakMap;function de(a,e,d){let{value:r,children:c,"aria-label":l,"aria-labelledby":t}=a;const i=a.isDisabled||e.isDisabled;let u=c!=null,f=l!=null||t!=null,s=e.selectedValue===r,p=y=>{y.stopPropagation(),e.setSelectedValue(r)},{pressProps:m,isPressed:P}=q({isDisabled:i}),{pressProps:x,isPressed:$}=q({isDisabled:i,onPress(){var y;e.setSelectedValue(r),(y=d.current)===null||y===void 0||y.focus()}}),{focusableProps:F}=J(V(a,{onFocus:()=>e.setLastFocusedValue(r)}),d),g=V(m,F),D=M(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===r&&(v=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:b,descriptionId:o,errorMessageId:h,validationBehavior:n}=S.get(e);return z(d,e.selectedValue,e.setSelectedValue),W({validationBehavior:n},e,d),{labelProps:V(x,{onClick:y=>y.preventDefault()}),inputProps:V(D,{...g,type:"radio",name:b,tabIndex:v,disabled:i,required:e.isRequired&&n==="native",checked:s,value:r,onChange:p,"aria-describedby":[a["aria-describedby"],e.isInvalid?h:null,o].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:s,isPressed:P||$}}function le(a,e){let{name:d,isReadOnly:r,isRequired:c,isDisabled:l,orientation:t="vertical",validationBehavior:i="aria"}=a,{direction:u}=ee(),{isInvalid:f,validationErrors:s,validationDetails:p}=e.displayValidation,{labelProps:m,fieldProps:P,descriptionProps:x,errorMessageProps:$}=A({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),F=M(a,{labelable:!0}),{focusWithinProps:g}=Q({onBlurWithin(b){var o;(o=a.onBlur)===null||o===void 0||o.call(a,b),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),D=b=>{let o;switch(b.key){case"ArrowRight":u==="rtl"&&t!=="vertical"?o="prev":o="next";break;case"ArrowLeft":u==="rtl"&&t!=="vertical"?o="next":o="prev";break;case"ArrowDown":o="next";break;case"ArrowUp":o="prev";break;default:return}b.preventDefault();let h=Z(b.currentTarget,{from:b.target}),n;o==="next"?(n=h.nextNode(),n||(h.currentNode=b.currentTarget,n=h.firstChild())):(n=h.previousNode(),n||(h.currentNode=b.currentTarget,n=h.lastChild())),n&&(n.focus(),e.setSelectedValue(n.value))},v=O(d);return S.set(e,{name:v,descriptionId:x.id,errorMessageId:$.id,validationBehavior:i}),{radioGroupProps:V(F,{role:"radiogroup",onKeyDown:D,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":c||void 0,"aria-disabled":l||void 0,"aria-orientation":t,...P,...g}),labelProps:m,descriptionProps:x,errorMessageProps:$,isInvalid:f,validationErrors:s,validationDetails:p}}let re=Math.round(Math.random()*1e10),te=0;function se(a){let e=R.useMemo(()=>a.name||`radio-group-${re}-${++te}`,[a.name]);var d;let[r,c]=ie(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[l,t]=R.useState(null),i=G({...a,value:r}),u=s=>{!a.isReadOnly&&!a.isDisabled&&(c(s),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:r,setSelectedValue:u,lastFocusedValue:l,setLastFocusedValue:t,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=R.createContext(null),ne=R.createContext(null),w=R.createContext(null),Ve=R.forwardRef(function(e,d){[e,d]=B(e,d,oe);let{validationBehavior:r}=_(H)||{};var c,l;let t=(l=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&l!==void 0?l:"native",i=se({...e,validationBehavior:t}),[u,f]=N(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:s,labelProps:p,descriptionProps:m,errorMessageProps:P,...x}=le({...e,label:f,validationBehavior:t},i),$=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return I.createElement("div",{...s,...$,ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},I.createElement(T,{values:[[w,i],[K,{...p,ref:u,elementType:"span"}],[U,{slots:{description:m,errorMessage:P}}],[j,x]]},$.children))}),ge=R.forwardRef(function(e,d){let{inputRef:r=null,...c}=e;[e,d]=B(c,d,ne);let l=I.useContext(w),t=E(R.useMemo(()=>k(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:i,inputProps:u,isSelected:f,isDisabled:s,isPressed:p}=de({...L(e),children:typeof e.children=="function"?!0:e.children},l,t),{isFocused:m,isFocusVisible:P,focusProps:x}=X(),$=s||l.isReadOnly,{hoverProps:F,isHovered:g}=Y({...e,isDisabled:$}),D=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:p,isHovered:g,isFocused:m,isFocusVisible:P,isDisabled:s,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),v=M(e);return delete v.id,I.createElement("label",{...V(v,i,F,D),ref:d,"data-selected":f||void 0,"data-pressed":p||void 0,"data-hovered":g||void 0,"data-focused":m||void 0,"data-focus-visible":P||void 0,"data-disabled":s||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},I.createElement(ae,{elementType:"span"},I.createElement("input",{...V(u,x),ref:t})),D.children)});export{ne as $,ge as a,Ve as b};
