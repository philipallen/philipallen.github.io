import{$ as b,a as $}from"./chain-Crd5RmWG.js";import{$ as w}from"./getScrollParent-BL0kfGii.js";import{$ as g}from"./platform-kF5l1-53.js";const m=typeof document<"u"&&window.visualViewport,T=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let s=0,f;function M(e={}){let{isDisabled:t}=e;b(()=>{if(!t)return s++,s===1&&(g()?f=x():f=y()),()=>{s--,s===0&&f()}},[t])}function y(){return $(r(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),r(document.documentElement,"overflow","hidden"))}function x(){let e,t,n=c=>{e=w(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=r(e,"overscrollBehavior","contain"))},o=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},u=()=>{t&&t()},a=c=>{let l=c.target;S(l)&&(h(),l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",m&&(m.height<window.innerHeight?requestAnimationFrame(()=>{v(l)}):m.addEventListener("resize",()=>v(l),{once:!0}))}))},d=null,h=()=>{if(d)return;let c=()=>{window.scrollTo(0,0)},l=window.pageXOffset,p=window.pageYOffset;d=$(i(window,"scroll",c),r(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),r(document.documentElement,"overflow","hidden"),r(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(l,p)}),window.scrollTo(0,0)},E=$(i(document,"touchstart",n,{passive:!1,capture:!0}),i(document,"touchmove",o,{passive:!1,capture:!0}),i(document,"touchend",u,{passive:!1,capture:!0}),i(document,"focus",a,!0));return()=>{t==null||t(),d==null||d(),E()}}function r(e,t,n){let o=e.style[t];return e.style[t]=n,()=>{e.style[t]=o}}function i(e,t,n,o){return e.addEventListener(t,n,o),()=>{e.removeEventListener(t,n,o)}}function v(e){let t=document.scrollingElement||document.documentElement,n=e;for(;n&&n!==t;){let o=w(n);if(o!==document.documentElement&&o!==document.body&&o!==n){let u=o.getBoundingClientRect().top,a=n.getBoundingClientRect().top;a>u+n.clientHeight&&(o.scrollTop+=a-u)}n=o.parentElement}}function S(e){return e instanceof HTMLInputElement&&!T.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}export{M as $};
