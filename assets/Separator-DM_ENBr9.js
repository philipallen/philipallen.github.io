import{p as ee,k as te,m as ue,q as ie}from"./Collection-EYIO8LIo.js";import{$ as f}from"./isScrollable-BSEN4xi5.js";import{i as re,b as le}from"./Dialog-CL2ju9PL.js";import{r as n}from"./index-KmaxkdDD.js";import{d as x}from"./utils-l5KLAjAw.js";import{u as se}from"./useFocusRing-xuvxHm_5.js";import{$ as ae}from"./useLocalizedStringFormatter-CNu4t9Cv.js";function oe(l,e,t){let{type:i}=l,{isOpen:u}=e;n.useEffect(()=>{t&&t.current&&re.set(t.current,e.close)});let r;i==="menu"?r=!0:i==="listbox"&&(r="listbox");let a=x();return{triggerProps:{"aria-haspopup":r,"aria-expanded":u,"aria-controls":u?a:void 0,onPress:e.toggle},overlayProps:{id:a}}}class h{getItemRect(e){let t=this.ref.current;if(!t)return null;let i=e!=null?ee(this.ref,e):null;if(!i)return null;let u=t.getBoundingClientRect(),r=i.getBoundingClientRect();return{x:r.left-u.left+t.scrollLeft,y:r.top-u.top+t.scrollTop,width:r.width,height:r.height}}getContentSize(){let e=this.ref.current;var t,i;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(i=e==null?void 0:e.scrollHeight)!==null&&i!==void 0?i:0}}getVisibleRect(){let e=this.ref.current;var t,i,u,r;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(i=e==null?void 0:e.scrollTop)!==null&&i!==void 0?i:0,width:(u=e==null?void 0:e.offsetWidth)!==null&&u!==void 0?u:0,height:(r=e==null?void 0:e.offsetHeight)!==null&&r!==void 0?r:0}}constructor(e){this.ref=e}}class ne{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let i=e;for(;i!=null;){let u=this.collection.getItem(i);if((u==null?void 0:u.type)==="item"&&!this.isDisabled(u))return i;i=t(i)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,i=>this.collection.getKeyAfter(i))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,i=>this.collection.getKeyBefore(i))}findKey(e,t,i){let u=e,r=this.layoutDelegate.getItemRect(u);if(!r||u==null)return null;let a=r;do{if(u=t(u),u==null)break;r=this.layoutDelegate.getItemRect(u)}while(r&&i(a,r)&&u!=null);return u}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,i=>this.layoutDelegate[t](i))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,i=>this.getNextColumn(i,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,i=>this.layoutDelegate[t](i))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,i=>this.getNextColumn(i,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(t&&!f(t))return this.getFirstKey();let u=e;if(this.orientation==="horizontal"){let r=Math.max(0,i.x+i.width-this.layoutDelegate.getVisibleRect().width);for(;i&&i.x>r&&u!=null;)u=this.getKeyAbove(u),i=u==null?null:this.layoutDelegate.getItemRect(u)}else{let r=Math.max(0,i.y+i.height-this.layoutDelegate.getVisibleRect().height);for(;i&&i.y>r&&u!=null;)u=this.getKeyAbove(u),i=u==null?null:this.layoutDelegate.getItemRect(u)}return u??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(t&&!f(t))return this.getLastKey();let u=e;if(this.orientation==="horizontal"){let r=Math.min(this.layoutDelegate.getContentSize().width,i.y-i.width+this.layoutDelegate.getVisibleRect().width);for(;i&&i.x<r&&u!=null;)u=this.getKeyBelow(u),i=u==null?null:this.layoutDelegate.getItemRect(u)}else{let r=Math.min(this.layoutDelegate.getContentSize().height,i.y-i.height+this.layoutDelegate.getVisibleRect().height);for(;i&&i.y<r&&u!=null;)u=this.getKeyBelow(u),i=u==null?null:this.layoutDelegate.getItemRect(u)}return u??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let i=this.collection,u=t||this.getFirstKey();for(;u!=null;){let r=i.getItem(u);if(!r)return null;let a=r.textValue.slice(0,e.length);if(r.textValue&&this.collator.compare(a,e)===0)return u;u=this.getNextKey(u)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new h(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new h(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function be(l){let{selectionManager:e,collection:t,disabledKeys:i,ref:u,keyboardDelegate:r,layoutDelegate:a}=l,o=le({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,g=n.useMemo(()=>r||new ne({collection:t,disabledKeys:i,disabledBehavior:c,ref:u,collator:o,layoutDelegate:a}),[r,a,t,i,u,o,c]),{collectionProps:d}=te({...l,ref:u,selectionManager:e,keyboardDelegate:g});return{listProps:d}}const p=new WeakMap;function $e(l){let e=p.get(l);if(e!=null)return e;let t=0,i=u=>{for(let r of u)r.type==="section"?i(ue(r,l)):t++};return i(l),p.set(l,t),t}var y={};y={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var b={};b={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var $={};$={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var D={};D={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var v={};v={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var m={};m={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var B={};B={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var A={};A={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var P={};P={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var C={};C={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var K={};K={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var E={};E={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var M={};M={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var w={};w={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var k={};k={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var F={};F={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var N={};N={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var R={};R={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var z={};z={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var S={};S={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var L={};L={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var j={};j={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var I={};I={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var _={};_={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var O={};O={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var T={};T={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var H={};H={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var V={};V={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var W={};W={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var U={};U={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var G={};G={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var X={};X={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Y={};Y={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Z={};Z={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var q={};q={"ar-AE":y,"bg-BG":b,"cs-CZ":$,"da-DK":D,"de-DE":v,"el-GR":m,"en-US":B,"es-ES":A,"et-EE":P,"fi-FI":C,"fr-FR":K,"he-IL":E,"hr-HR":M,"hu-HU":w,"it-IT":k,"ja-JP":F,"ko-KR":N,"lt-LT":R,"lv-LV":z,"nb-NO":S,"nl-NL":L,"pl-PL":j,"pt-BR":I,"pt-PT":_,"ro-RO":O,"ru-RU":T,"sk-SK":H,"sl-SI":V,"sr-SP":W,"sv-SE":U,"tr-TR":G,"uk-UA":X,"zh-CN":Y,"zh-TW":Z};function ce(l){return l&&l.__esModule?l.default:l}function De(l,e,t){let{type:i="menu",isDisabled:u,trigger:r="press"}=l,a=x(),{triggerProps:o,overlayProps:c}=oe({type:i},e,t),g=s=>{if(!u&&!(r==="longPress"&&!s.altKey)&&t&&t.current)switch(s.key){case"Enter":case" ":if(r==="longPress")return;case"ArrowDown":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("last");break;default:"continuePropagation"in s&&s.continuePropagation()}},d=ae(ce(q),"@react-aria/menu"),{longPressProps:J}=ie({isDisabled:u||r!=="longPress",accessibilityDescription:d.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),Q={preventFocusOnPress:!0,onPressStart(s){s.pointerType!=="touch"&&s.pointerType!=="keyboard"&&!u&&(se(s.target),e.open(s.pointerType==="virtual"?"first":null))},onPress(s){s.pointerType==="touch"&&!u&&e.toggle()}};return delete o.onPress,{menuTriggerProps:{...o,...r==="press"?Q:J,id:a,onKeyDown:g},menuProps:{...c,"aria-labelledby":a,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const ve=n.createContext(null),me=n.createContext({}),Be=n.createContext({});export{be as $,$e as a,me as b,ve as c,ne as d,Be as e,De as f};
