import{d as T,j as R,h as H,$ as N,g as E,k as V,f as O,l as A}from"./Collection-C9XxNqm0.js";import{k as z,d as y,l as B,b as j,c as K,j as w,i as U,$ as D}from"./utils-BPOuYIA2.js";import{d as M,b as W}from"./Label-CxUBTwi1.js";import{$ as g}from"./filterDOMProps-CeZl_uWj.js";import{c as q,$ as G}from"./useSingleSelectListState-C4Znvjww.js";import{r as c,e as f}from"./index-CcKhGcwW.js";import{c as J,a as F,$ as Q}from"./useFocusRing-G-z0GAlQ.js";import{c as X}from"./useNumberFormatter-Be2B0OXy.js";import{a as Y}from"./usePress-N-SZRQyW.js";import{b as Z}from"./FocusScope-DImX_wcQ.js";function _(a,e){let t=e==null?void 0:e.isDisabled,[i,s]=c.useState(!1);return z(()=>{if(a!=null&&a.current&&!t){let n=()=>{if(a.current){let o=Z(a.current,{tabbable:!0});s(!!o.nextNode())}};n();let d=new MutationObserver(n);return d.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{d.disconnect()}}}),t?!1:i}const k=new WeakMap;function P(a,e,t){return a?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${k.get(a)}-${t}-${e}`):""}function ee(a,e,t){let{key:i,isDisabled:s,shouldSelectOnPressUp:n}=a,{selectionManager:d,selectedKey:o}=e,l=i===o,r=s||e.isDisabled||e.selectionManager.isDisabled(i),{itemProps:u,isPressed:b}=T({selectionManager:d,key:i,ref:t,isDisabled:r,shouldSelectOnPressUp:n,linkBehavior:"selection"}),v=P(e,i,"tab"),p=P(e,i,"tabpanel"),{tabIndex:x}=u,$=e.collection.getItem(i),S=g($==null?void 0:$.props,{labelable:!0});delete S.id;let L=Y($==null?void 0:$.props),{focusableProps:I}=J({isDisabled:r},t);return{tabProps:y(S,I,L,u,{id:v,"aria-selected":l,"aria-disabled":r||void 0,"aria-controls":l?p:void 0,tabIndex:r?void 0:x,role:"tab"}),isSelected:l,isDisabled:r,isPressed:b}}function te(a,e,t){let i=_(t)?void 0:0;var s;const n=P(e,(s=a.id)!==null&&s!==void 0?s:e==null?void 0:e.selectedKey,"tabpanel"),d=M({...a,id:n,"aria-labelledby":P(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:y(d,{tabIndex:i,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class ae{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var t,i;return this.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let t=e;do t=this.collection.getKeyAfter(t),t==null&&(t=this.collection.getFirstKey());while(t!=null&&this.isDisabled(t));return t}getPreviousKey(e){let t=e;do t=this.collection.getKeyBefore(t),t==null&&(t=this.collection.getLastKey());while(t!=null&&this.isDisabled(t));return t}constructor(e,t,i,s=new Set){this.collection=e,this.flipDirection=t==="rtl"&&i==="horizontal",this.disabledKeys=s,this.tabDirection=i==="horizontal"}}function ie(a,e,t){let{orientation:i="horizontal",keyboardActivation:s="automatic"}=a,{collection:n,selectionManager:d,disabledKeys:o}=e,{direction:l}=X(),r=c.useMemo(()=>new ae(n,l,i,o),[n,o,i,l]),{collectionProps:u}=R({ref:t,selectionManager:d,keyboardDelegate:r,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:t,linkBehavior:"selection"}),b=B();k.set(e,b);let v=M({...a,id:b});return{tabListProps:{...y(u,v),role:"tablist","aria-orientation":i,tabIndex:void 0}}}function se(a){var e,t;let i=q({...a,onSelectionChange:a.onSelectionChange?l=>{var r;l!=null&&((r=a.onSelectionChange)===null||r===void 0||r.call(a,l))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(t=(e=a.defaultSelectedKey)!==null&&e!==void 0?e:C(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&t!==void 0?t:void 0}),{selectionManager:s,collection:n,selectedKey:d}=i,o=c.useRef(d);return c.useEffect(()=>{let l=d;a.selectedKey==null&&(s.isEmpty||l==null||!n.getItem(l))&&(l=C(n,i.disabledKeys),l!=null&&s.setSelectedKeys([l])),(l!=null&&s.focusedKey==null||!s.isFocused&&l!==o.current)&&s.setFocusedKey(l),o.current=l}),{...i,isDisabled:a.isDisabled||!1}}function C(a,e){let t=null;if(a){var i,s,n,d;for(t=a.getFirstKey();t!=null&&(e.has(t)||!((s=a.getItem(t))===null||s===void 0||(i=s.props)===null||i===void 0)&&i.isDisabled)&&t!==a.getLastKey();)t=a.getKeyAfter(t);t!=null&&(e.has(t)||!((d=a.getItem(t))===null||d===void 0||(n=d.props)===null||n===void 0)&&n.isDisabled)&&t===a.getLastKey()&&(t=a.getFirstKey())}return t}const m=c.createContext(null),h=c.createContext(null),ye=c.forwardRef(function(e,t){[e,t]=j(e,t,m);let{children:i,orientation:s="horizontal"}=e;return i=c.useMemo(()=>typeof i=="function"?i({orientation:s,defaultChildren:null}):i,[i,s]),f.createElement(H,{content:i},n=>f.createElement(le,{props:e,collection:n,tabsRef:t}))});function le({props:a,tabsRef:e,collection:t}){let{orientation:i="horizontal"}=a,s=se({...a,collection:t,children:void 0}),{focusProps:n,isFocused:d,isFocusVisible:o}=F({within:!0}),l=c.useMemo(()=>({orientation:i,isFocusWithin:d,isFocusVisible:o}),[i,d,o]),r=K({...a,defaultClassName:"react-aria-Tabs",values:l});return f.createElement("div",{...g(a),...n,...r,ref:e,slot:a.slot||void 0,"data-focused":d||void 0,"data-orientation":i,"data-focus-visible":o||void 0,"data-disabled":s.isDisabled||void 0},f.createElement(w,{values:[[m,a],[h,s]]},r.children))}const pe=c.forwardRef(function(e,t){return c.useContext(h)?f.createElement(de,{props:e,forwardedRef:t}):f.createElement(N,e)});function de({props:a,forwardedRef:e}){let t=c.useContext(h),{CollectionRoot:i}=c.useContext(E),{orientation:s="horizontal",keyboardActivation:n="automatic"}=U(m),d=D(e),{tabListProps:o}=ie({...a,orientation:s,keyboardActivation:n},t,d),l=K({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:t}}),r=g(a);return delete r.id,f.createElement("div",{...r,...o,ref:d,...l,"data-orientation":s||void 0},f.createElement(i,{collection:t.collection,persistedKeys:V(t.selectionManager.focusedKey)}))}const xe=O("item",(a,e,t)=>{let i=c.useContext(h),s=D(e),{tabProps:n,isSelected:d,isDisabled:o,isPressed:l}=ee({key:t.key,...a},i,s),{focusProps:r,isFocused:u,isFocusVisible:b}=F(),{hoverProps:v,isHovered:p}=Q({isDisabled:o,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),x=K({...a,id:void 0,children:t.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:d,isDisabled:o,isFocused:u,isFocusVisible:b,isPressed:l,isHovered:p}}),$=t.props.href?"a":"div";return f.createElement($,{...y(n,r,v,x),ref:s,"data-selected":d||void 0,"data-disabled":o||void 0,"data-focused":u||void 0,"data-focus-visible":b||void 0,"data-pressed":l||void 0,"data-hovered":p||void 0},x.children)}),Pe=W(function(e,t){const i=c.useContext(h);let s=D(t),{tabPanelProps:n}=te(e,i,s),{focusProps:d,isFocused:o,isFocusVisible:l}=F(),r=i.selectedKey===e.id,u=K({...e,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:l,isInert:!r,state:i}});if(!r&&!e.shouldForceMount)return null;let b=g(e);delete b.id;let v=r?y(b,n,d,u):u;return f.createElement("div",{...v,ref:s,"data-focused":o||void 0,"data-focus-visible":l||void 0,inert:G(!r),"data-inert":r?void 0:"true"},f.createElement(w,{values:[[m,null],[h,null]]},f.createElement(E.Provider,{value:A},u.children)))});export{pe as $,xe as a,Pe as b,ye as c,h as d};
