import{R as c,r as a}from"./index-c013ead5.js";const d=typeof document<"u"?c.useLayoutEffect:()=>{};function p(n){const e=a.useRef(null);return d(()=>{e.current=n},[n]),a.useCallback((...r)=>{const t=e.current;return t==null?void 0:t(...r)},[])}function x(n){let[e,r]=a.useState(n),t=a.useRef(null),u=p(()=>{if(!t.current)return;let s=t.current.next();if(s.done){t.current=null;return}e===s.value?u():r(s.value)});d(()=>{t.current&&u()});let o=p(s=>{t.current=s(e),u()});return[e,o]}const f={prefix:String(Math.round(Math.random()*1e10)),current:0},v=c.createContext(f),y=c.createContext(!1);let S=!!(typeof window<"u"&&window.document&&window.document.createElement),b=new WeakMap;function w(n=!1){let e=a.useContext(v),r=a.useRef(null);if(r.current===null&&!n){var t,u;let o=(u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||u===void 0||(t=u.ReactCurrentOwner)===null||t===void 0?void 0:t.current;if(o){let s=b.get(o);s==null?b.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,b.delete(o))}r.current=++e.current}return r.current}function F(n){let e=a.useContext(v);e===f&&!S&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=w(!!n),t=`react-aria${e.prefix}`;return n||`${t}-${r}`}function P(n){let e=c.useId(),[r]=a.useState(H()),t=r?"react-aria":`react-aria${f.prefix}`;return n||`${t}-${e}`}const C=typeof c.useId=="function"?P:F;function W(){return!1}function M(){return!0}function k(n){return()=>{}}function H(){return typeof c.useSyncExternalStore=="function"?c.useSyncExternalStore(k,W,M):a.useContext(y)}let T=!!(typeof window<"u"&&window.document&&window.document.createElement),$=new Map;function I(n){let[e,r]=a.useState(n),t=a.useRef(null),u=C(e),o=a.useCallback(s=>{t.current=s},[]);return T&&$.set(u,o),d(()=>{let s=u;return()=>{$.delete(s)}},[u]),a.useEffect(()=>{let s=t.current;s&&(t.current=null,r(s))}),u}function V(n,e){if(n===e)return n;let r=$.get(n);if(r)return r(e),e;let t=$.get(e);return t?(t(n),n):e}function J(n=[]){let e=I(),[r,t]=x(e),u=a.useCallback(()=>{t(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,t]);return d(u,[e,u,...n]),r}function B(...n){return(...e)=>{for(let r of n)typeof r=="function"&&r(...e)}}function g(n){var e,r,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(e=0;e<u;e++)n[e]&&(r=g(n[e]))&&(t&&(t+=" "),t+=r)}else for(r in n)n[r]&&(t&&(t+=" "),t+=r);return t}function z(){for(var n,e,r=0,t="",u=arguments.length;r<u;r++)(n=arguments[r])&&(e=g(n))&&(t&&(t+=" "),t+=e);return t}function D(...n){let e={...n[0]};for(let r=1;r<n.length;r++){let t=n[r];for(let u in t){let o=e[u],s=t[u];typeof o=="function"&&typeof s=="function"&&u[0]==="o"&&u[1]==="n"&&u.charCodeAt(2)>=65&&u.charCodeAt(2)<=90?e[u]=B(o,s):(u==="className"||u==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?e[u]=z(o,s):u==="id"&&o&&s?e.id=V(o,s):e[u]=s!==void 0?s:o}}return e}class j{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}}function q(n){let e=a.useRef({isFocused:!1,observer:null});d(()=>{const t=e.current;return()=>{t.observer&&(t.observer.disconnect(),t.observer=null)}},[]);let r=p(t=>{n==null||n(t)});return a.useCallback(t=>{if(t.target instanceof HTMLButtonElement||t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){e.current.isFocused=!0;let u=t.target,o=s=>{e.current.isFocused=!1,u.disabled&&r(new j("blur",s)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};u.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&u.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let i=u===document.activeElement?null:document.activeElement;u.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),u.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),e.current.observer.observe(u,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function E(n){let{isDisabled:e,onBlurWithin:r,onFocusWithin:t,onFocusWithinChange:u}=n,o=a.useRef({isFocusWithin:!1}),s=a.useCallback(l=>{o.current.isFocusWithin&&!l.currentTarget.contains(l.relatedTarget)&&(o.current.isFocusWithin=!1,r&&r(l),u&&u(!1))},[r,u,o]),i=q(s),m=a.useCallback(l=>{!o.current.isFocusWithin&&document.activeElement===l.target&&(t&&t(l),u&&u(!0),o.current.isFocusWithin=!0,i(l))},[t,u,i]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:s}}}const h={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function A(n={}){let{style:e,isFocusable:r}=n,[t,u]=a.useState(!1),{focusWithinProps:o}=E({isDisabled:!r,onFocusWithinChange:i=>u(i)}),s=a.useMemo(()=>t?e:e?{...h,...e}:h,[t]);return{visuallyHiddenProps:{...o,style:s}}}function K(n){let{children:e,elementType:r="div",isFocusable:t,style:u,...o}=n,{visuallyHiddenProps:s}=A(n);return c.createElement(r,D(o,s),e)}export{K as $,I as a,d as b,p as c,D as d,B as e,q as f,E as g,H as h,J as i};
