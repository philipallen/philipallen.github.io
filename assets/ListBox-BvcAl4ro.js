import{d as z,c as F,m as Z,g as Ue,b as V,a as _e,$ as j,l as Ne,i as Q,k as je}from"./utils-l5KLAjAw.js";import{c as L,$ as X,l as J,w as Re}from"./useHover-DDDaVluF.js";import{g as Ke,p as We,q as qe,i as R,h as Ge,$ as Ze,j as Je,l as Qe}from"./Collection-ZvNUfI9p.js";import{$ as Xe}from"./useLocalizedStringFormatter-CNu4t9Cv.js";import{f as Ye}from"./Dialog-Bow7UHhh.js";import{r as s,e as c}from"./index-KmaxkdDD.js";import{$ as ea,a as aa,d as oa,b as ta,e as ra,c as ua}from"./Separator-CKTcrEJv.js";import{a as la}from"./Text-DsbvCy5R.js";import{a as ia,$ as sa}from"./useFocusRing-BBh_VJBv.js";import{c as na}from"./Label-uyz5dJOn.js";import{a as da}from"./chain-Z-ySmOka.js";import{b as ca}from"./usePress-D8-PWMl6.js";import{d as pa,e as fa}from"./platform-kF5l1-53.js";import{b as ga,c as $a}from"./useSingleSelectListState-gzOp8nHW.js";import{$ as ba}from"./context-CQmu07jL.js";import{$ as va}from"./useOverlayTriggerState-BVShW717.js";import{a as xa}from"./FocusScope-um4QTQqo.js";function Da(a,e,t){let{type:r}=a,{isOpen:l}=e;s.useEffect(()=>{t&&t.current&&Ye.set(t.current,e.close)});let u;r==="menu"?u=!0:r==="listbox"&&(u="listbox");let o=z();return{triggerProps:{"aria-haspopup":u,"aria-expanded":l,"aria-controls":l?o:void 0,onPress:e.toggle},overlayProps:{id:o}}}const K=new WeakMap;function Pa(a){return typeof a=="string"?a.replace(/\s*/g,""):""+a}function ma(a,e){let t=K.get(a);if(!t)throw new Error("Unknown list");return`${t.id}-option-${Pa(e)}`}function ya(a,e,t){let r=L(a,{labelable:!0}),l=a.selectionBehavior||"toggle",u=a.linkBehavior||(l==="replace"?"action":"override");l==="toggle"&&u==="action"&&(u="override");let{listProps:o}=ea({...a,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:u}),{focusWithinProps:n}=ia({onFocusWithin:a.onFocus,onBlurWithin:a.onBlur,onFocusWithinChange:a.onFocusChange}),p=z(a.id);K.set(e,{id:p,shouldUseVirtualFocus:a.shouldUseVirtualFocus,shouldSelectOnPressUp:a.shouldSelectOnPressUp,shouldFocusOnHover:a.shouldFocusOnHover,isVirtualized:a.isVirtualized,onAction:a.onAction,linkBehavior:u});let{labelProps:g,fieldProps:f}=na({...a,id:p,labelElementType:"span"});return{labelProps:g,listBoxProps:F(r,n,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...F(f,o)})}}function ha(a,e,t){var r,l;let{key:u}=a,o=K.get(e);var n;let p=(n=a.isDisabled)!==null&&n!==void 0?n:e.selectionManager.isDisabled(u);var g;let f=(g=a.isSelected)!==null&&g!==void 0?g:e.selectionManager.isSelected(u);var v;let d=(v=a.shouldSelectOnPressUp)!==null&&v!==void 0?v:o==null?void 0:o.shouldSelectOnPressUp;var i;let D=(i=a.shouldFocusOnHover)!==null&&i!==void 0?i:o==null?void 0:o.shouldFocusOnHover;var x;let b=(x=a.shouldUseVirtualFocus)!==null&&x!==void 0?x:o==null?void 0:o.shouldUseVirtualFocus;var P;let B=(P=a.isVirtualized)!==null&&P!==void 0?P:o==null?void 0:o.isVirtualized,A=Z(),S=Z(),h={role:"option","aria-disabled":p||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?f:void 0};pa()&&fa()||(h["aria-label"]=a["aria-label"],h["aria-labelledby"]=A,h["aria-describedby"]=S);let $=e.collection.getItem(u);if(B){let y=Number($==null?void 0:$.index);h["aria-posinset"]=Number.isNaN(y)?void 0:y+1,h["aria-setsize"]=aa(e.collection)}let w=o!=null&&o.onAction?()=>{var y;return o==null||(y=o.onAction)===null||y===void 0?void 0:y.call(o,u)}:void 0,T=ma(e,u),{itemProps:U,isPressed:C,isFocused:m,hasAction:E,allowsSelection:k}=Ke({selectionManager:e.selectionManager,key:u,ref:t,shouldSelectOnPressUp:d,allowsDifferentPressOrigin:d&&D,isVirtualized:B,shouldUseVirtualFocus:b,isDisabled:p,onAction:w||!($==null||(r=$.props)===null||r===void 0)&&r.onAction?da($==null||(l=$.props)===null||l===void 0?void 0:l.onAction,w):void 0,linkBehavior:o==null?void 0:o.linkBehavior,id:T}),{hoverProps:I}=X({isDisabled:p||!D,onHoverStart(){J()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(u))}}),M=L($==null?void 0:$.props);delete M.id;let _=ca($==null?void 0:$.props);return{optionProps:{...h,...F(M,U,I,_),id:T},labelProps:{id:A},descriptionProps:{id:S},isFocused:m,isFocusVisible:m&&e.selectionManager.isFocused&&J(),isSelected:f,isDisabled:p,isPressed:C,allowsSelection:k,hasAction:E}}function Ba(a){let{heading:e,"aria-label":t}=a,r=z();return{itemProps:{role:"presentation"},headingProps:e?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?r:void 0}}}var Y={};Y={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var ee={};ee={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var ae={};ae={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var oe={};oe={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var te={};te={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var re={};re={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var ue={};ue={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var le={};le={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var ie={};ie={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var se={};se={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var ne={};ne={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var de={};de={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var ce={};ce={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var pe={};pe={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var fe={};fe={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var ge={};ge={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var $e={};$e={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var be={};be={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var ve={};ve={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var xe={};xe={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var De={};De={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Pe={};Pe={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var me={};me={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var ye={};ye={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var he={};he={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Be={};Be={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Ae={};Ae={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Ee={};Ee={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Ce={};Ce={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ke={};ke={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Me={};Me={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Fe={};Fe={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Se={};Se={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var we={};we={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Te={};Te={"ar-AE":Y,"bg-BG":ee,"cs-CZ":ae,"da-DK":oe,"de-DE":te,"el-GR":re,"en-US":ue,"es-ES":le,"et-EE":ie,"fi-FI":se,"fr-FR":ne,"he-IL":de,"hr-HR":ce,"hu-HU":pe,"it-IT":fe,"ja-JP":ge,"ko-KR":$e,"lt-LT":be,"lv-LV":ve,"nb-NO":xe,"nl-NL":De,"pl-PL":Pe,"pt-BR":me,"pt-PT":ye,"ro-RO":he,"ru-RU":Be,"sk-SK":Ae,"sl-SI":Ee,"sr-SP":Ce,"sv-SE":ke,"tr-TR":Me,"uk-UA":Fe,"zh-CN":Se,"zh-TW":we};function Aa(a){return a&&a.__esModule?a.default:a}function Za(a,e,t){let{type:r="menu",isDisabled:l,trigger:u="press"}=a,o=z(),{triggerProps:n,overlayProps:p}=Da({type:r},e,t),g=i=>{if(!l&&!(u==="longPress"&&!i.altKey)&&t&&t.current)switch(i.key){case"Enter":case" ":if(u==="longPress")return;case"ArrowDown":"continuePropagation"in i||i.stopPropagation(),i.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in i||i.stopPropagation(),i.preventDefault(),e.toggle("last");break;default:"continuePropagation"in i&&i.continuePropagation()}},f=Xe(Aa(Te),"@react-aria/menu"),{longPressProps:v}=We({isDisabled:l||u!=="longPress",accessibilityDescription:f.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),d={preventFocusOnPress:!0,onPressStart(i){i.pointerType!=="touch"&&i.pointerType!=="keyboard"&&!l&&(Re(i.target),e.open(i.pointerType==="virtual"?"first":null))},onPress(i){i.pointerType==="touch"&&!l&&e.toggle()}};return delete n.onPress,{menuTriggerProps:{...n,...u==="press"?d:v,id:o,onKeyDown:g},menuProps:{...p,"aria-labelledby":o,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const H=s.createContext({}),Ie=s.createContext(null),Ea=s.forwardRef(function(e,t){let{render:r}=s.useContext(Ie);return c.createElement(c.Fragment,null,r(e,t))});function ze(a,e){var t;let r=a==null?void 0:a.renderDropIndicator,l=a==null||(t=a.isVirtualDragging)===null||t===void 0?void 0:t.call(a),u=s.useCallback(o=>{if(l||e!=null&&e.isDropTarget(o))return r?r(o):c.createElement(Ea,{target:o})},[e==null?void 0:e.target,l,r]);return a!=null&&a.useDropIndicator?u:void 0}function Ca(a,e,t){var r,l;let u=a.focusedKey,o=null;if(!(e==null||(r=e.isVirtualDragging)===null||r===void 0)&&r.call(e)&&(t==null||(l=t.target)===null||l===void 0?void 0:l.type)==="item"){o=t.target.key;var n;t.target.dropPosition==="after"&&(o=(n=t.collection.getKeyAfter(o))!==null&&n!==void 0?n:o)}return s.useMemo(()=>new Set([u,o].filter(p=>p!=null)),[u,o])}const Ve=s.createContext(null),O=s.createContext(null),Ja=s.forwardRef(function(e,t){[e,t]=_e(e,t,Ve);let r=s.useContext(O);return r?c.createElement(Le,{state:r,props:e,listBoxRef:t}):c.createElement(Ge,{content:c.createElement(Ze,e)},l=>c.createElement(ka,{props:e,listBoxRef:t,collection:l}))});function ka({props:a,listBoxRef:e,collection:t}){a={...a,collection:t,children:null,items:null};let{layoutDelegate:r}=s.useContext(R),l=ga({...a,layoutDelegate:r});return c.createElement(Le,{state:l,props:a,listBoxRef:e})}function Le({state:a,props:e,listBoxRef:t}){let{filter:r,collectionProps:l,collectionRef:u}=s.useContext(ta)||{};e=s.useMemo(()=>l?{...e,...l}:e,[e,l]);let{dragAndDropHooks:o,layout:n="stack",orientation:p="vertical"}=e;t=j(s.useMemo(()=>Ne(t,u!==void 0?u:null),[u,t]));let g=$a(a,r),{collection:f,selectionManager:v}=g,d=!!(o!=null&&o.useDraggableCollectionState),i=!!(o!=null&&o.useDroppableCollectionState),{direction:D}=ba(),{disabledBehavior:x,disabledKeys:b}=v,P=va({usage:"search",sensitivity:"base"}),{isVirtualized:B,layoutDelegate:A,dropTargetDelegate:S,CollectionRoot:h}=s.useContext(R),$=s.useMemo(()=>e.keyboardDelegate||new ra({collection:f,collator:P,ref:t,disabledKeys:b,disabledBehavior:x,layout:n,orientation:p,direction:D,layoutDelegate:A}),[f,P,t,x,b,p,D,e.keyboardDelegate,n,A]),{listBoxProps:w}=ya({...e,shouldSelectOnPressUp:d||e.shouldSelectOnPressUp,keyboardDelegate:$,isVirtualized:B},g,t),T=s.useRef(d),U=s.useRef(i);s.useEffect(()=>{T.current!==d&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),U.current!==i&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior.")},[d,i]);let C,m,E,k=!1,I=null,M=s.useRef(null);if(d&&o){C=o.useDraggableCollectionState({collection:f,selectionManager:v,preview:o.renderDragPreview?M:void 0}),o.useDraggableCollection({},C,t);let N=o.DragPreview;I=o.renderDragPreview?c.createElement(N,{ref:M},o.renderDragPreview):null}if(i&&o){m=o.useDroppableCollectionState({collection:f,selectionManager:v});let N=o.dropTargetDelegate||S||new o.ListDropTargetDelegate(f,t,{orientation:p,layout:n,direction:D});E=o.useDroppableCollection({keyboardDelegate:$,dropTargetDelegate:N},m,t),k=m.isDropTarget({type:"root"})}let{focusProps:_,isFocused:y,isFocusVisible:W}=sa(),q={isDropTarget:k,isEmpty:g.collection.size===0,isFocused:y,isFocusVisible:W,layout:e.layout||"stack",state:g},Oe=V({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:q}),G=null;return g.collection.size===0&&e.renderEmptyState&&(G=c.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(q))),c.createElement(xa,null,c.createElement("div",{...L(e),...F(w,_,E==null?void 0:E.collectionProps),...Oe,ref:t,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":k||void 0,"data-empty":g.collection.size===0||void 0,"data-focused":y||void 0,"data-focus-visible":W||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},c.createElement(Q,{values:[[Ve,e],[O,g],[H,{dragAndDropHooks:o,dragState:C,dropState:m}],[ua,{elementType:"div"}],[Ie,{render:Ma}],[Je,{name:"ListBoxSection",render:He}]]},c.createElement(h,{collection:f,scrollRef:t,persistedKeys:Ca(v,o,m),renderDropIndicator:ze(o,m)})),G,I))}function He(a,e,t,r="react-aria-ListBoxSection"){let l=s.useContext(O),{dragAndDropHooks:u,dropState:o}=s.useContext(H),{CollectionBranch:n}=s.useContext(R),[p,g]=Ue();var f;let{headingProps:v,groupProps:d}=Ba({heading:g,"aria-label":(f=a["aria-label"])!==null&&f!==void 0?f:void 0}),i=V({defaultClassName:r,className:a.className,style:a.style,values:{}});return c.createElement("section",{...L(a),...d,...i,ref:e},c.createElement(oa.Provider,{value:{...v,ref:p}},c.createElement(n,{collection:l.collection,parent:t,renderDropIndicator:ze(u,o)})))}const Qa=qe("section",He),Xa=Qe("item",function(e,t,r){let l=j(t),u=s.useContext(O),{dragAndDropHooks:o,dragState:n,dropState:p}=s.useContext(H),{optionProps:g,labelProps:f,descriptionProps:v,...d}=ha({key:r.key,"aria-label":e==null?void 0:e["aria-label"]},u,l),{hoverProps:i,isHovered:D}=X({isDisabled:!d.allowsSelection&&!d.hasAction,onHoverStart:r.props.onHoverStart,onHoverChange:r.props.onHoverChange,onHoverEnd:r.props.onHoverEnd}),x=null;n&&o&&(x=o.useDraggableItem({key:r.key},n));let b=null;p&&o&&(b=o.useDroppableItem({target:{type:"item",key:r.key,dropPosition:"on"}},p,l));let P=n&&n.isDragging(r.key),B=V({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...d,isHovered:D,selectionMode:u.selectionManager.selectionMode,selectionBehavior:u.selectionManager.selectionBehavior,allowsDragging:!!n,isDragging:P,isDropTarget:b==null?void 0:b.isDropTarget}});s.useEffect(()=>{r.textValue||console.warn("A `textValue` prop is required for <ListBoxItem> elements with non-plain text children in order to support accessibility features such as type to select.")},[r.textValue]);let A=e.href?"a":"div";return c.createElement(A,{...F(g,i,x==null?void 0:x.dragProps,b==null?void 0:b.dropProps),...B,ref:l,"data-allows-dragging":!!n||void 0,"data-selected":d.isSelected||void 0,"data-disabled":d.isDisabled||void 0,"data-hovered":D||void 0,"data-focused":d.isFocused||void 0,"data-focus-visible":d.isFocusVisible||void 0,"data-pressed":d.isPressed||void 0,"data-dragging":P||void 0,"data-drop-target":(b==null?void 0:b.isDropTarget)||void 0,"data-selection-mode":u.selectionManager.selectionMode==="none"?void 0:u.selectionManager.selectionMode},c.createElement(Q,{values:[[la,{slots:{[je]:f,label:f,description:v}}]]},B.children))});function Ma(a,e){e=j(e);let{dragAndDropHooks:t,dropState:r}=s.useContext(H),{dropIndicatorProps:l,isHidden:u,isDropTarget:o}=t.useDropIndicator(a,r,e);return u?null:c.createElement(Sa,{...a,dropIndicatorProps:l,isDropTarget:o,ref:e})}function Fa(a,e){let{dropIndicatorProps:t,isDropTarget:r,...l}=a,u=V({...l,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:r}});return c.createElement("div",{...t,...u,role:"option",ref:e,"data-drop-target":r||void 0})}const Sa=s.forwardRef(Fa);export{Qa as $,Ja as a,Xa as b,Za as c,K as d,ma as e,Ve as f,O as g};
