import{r as l,e as x}from"./index-KmaxkdDD.js";import{a as Q,$ as X,c as fe}from"./platform-COItUIJl.js";import{e as be,c as z}from"./utils-l5KLAjAw.js";import{$ as Z}from"./chain-Z-ySmOka.js";const v=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},g=e=>e&&"window"in e&&e.window===e?e:v(e).defaultView||window;function pe(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function $e(e){return pe(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ve=!1;function V(){return ve}function ee(e,n){if(!V())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:$e(t)?t=t.host:t=t.parentNode}return!1}const S=(e=document)=>{var n;if(!V())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function te(e){return V()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}const me=new Set(["id"]),Ee=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),he=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),ge=/^(data-.*)$/;function _e(e,n={}){let{labelable:t,isLink:r,propNames:o}=n,s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(me.has(i)||t&&Ee.has(i)||r&&he.has(i)||o!=null&&o.has(i)||ge.test(i))&&(s[i]=e[i]);return s}function C(e){if(ye())e.focus({preventScroll:!0});else{let n=Le(e);e.focus(),Te(n)}}let H=null;function ye(){if(H==null){H=!1;try{document.createElement("div").focus({get preventScroll(){return H=!0,!0}})}catch{}}return H}function Le(e){let n=e.parentNode,t=[],r=document.scrollingElement||document.documentElement;for(;n instanceof HTMLElement&&n!==r;)(n.offsetHeight<n.scrollHeight||n.offsetWidth<n.scrollWidth)&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),n=n.parentNode;return r instanceof HTMLElement&&t.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),t}function Te(e){for(let{element:n,scrollTop:t,scrollLeft:r}of e)n.scrollTop=t,n.scrollLeft=r}let T=new Map,A=new Set;function q(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let n=r=>{if(!e(r)||!r.target)return;let o=T.get(r.target);o||(o=new Set,T.set(r.target,o),r.target.addEventListener("transitioncancel",t,{once:!0})),o.add(r.propertyName)},t=r=>{if(!e(r)||!r.target)return;let o=T.get(r.target);if(o&&(o.delete(r.propertyName),o.size===0&&(r.target.removeEventListener("transitioncancel",t),T.delete(r.target)),T.size===0)){for(let s of A)s();A.clear()}};document.body.addEventListener("transitionrun",n),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?q():document.addEventListener("DOMContentLoaded",q));function ne(e){requestAnimationFrame(()=>{T.size===0?e():A.add(e)})}function re(){let e=l.useRef(new Map),n=l.useCallback((o,s,i,a)=>{let u=a!=null&&a.once?(...f)=>{e.current.delete(i),i(...f)}:i;e.current.set(i,{type:s,eventTarget:o,fn:u,options:a}),o.addEventListener(s,u,a)},[]),t=l.useCallback((o,s,i,a)=>{var u;let f=((u=e.current.get(i))===null||u===void 0?void 0:u.fn)||i;o.removeEventListener(s,f,a),e.current.delete(i)},[]),r=l.useCallback(()=>{e.current.forEach((o,s)=>{t(o.eventTarget,o.type,s,o.options)})},[t]);return l.useEffect(()=>r,[r]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:r}}function we(e,n){Z(()=>{if(e&&e.ref&&n)return e.ref.current=n.current,()=>{e.ref&&(e.ref.current=null)}})}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:Q()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ze(e){return!Q()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const _=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],xe=_.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";_.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Fe=_.join(':not([hidden]):not([tabindex="-1"]),');function Se(e){return e.matches(xe)}function qe(e){return e.matches(Fe)}if(typeof HTMLTemplateElement<"u"){const e=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:e.call(this)}})}const k=l.createContext(!1);function Ye(e){if(l.useContext(k))return x.createElement(x.Fragment,null,e.children);let t=x.createElement(k.Provider,{value:!0},e.children);return x.createElement("template",{"data-react-aria-hidden":!0},t)}function Je(e){let n=(t,r)=>l.useContext(k)?null:e(t,r);return n.displayName=e.displayName||e.name,l.forwardRef(n)}function Qe(){return l.useContext(k)}let w="default",B="",M=new WeakMap;function Xe(e){if(X()){if(w==="default"){const n=v(e);B=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}w="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let n="userSelect"in e.style?"userSelect":"webkitUserSelect";M.set(e,e.style[n]),e.style[n]="none"}}function Ze(e){if(X()){if(w!=="disabled")return;w="restoring",setTimeout(()=>{ne(()=>{if(w==="restoring"){const n=v(e);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=B||""),B="",w="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&M.has(e)){let n=M.get(e),t="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[t]==="none"&&(e.style[t]=n),e.getAttribute("style")===""&&e.removeAttribute("style"),M.delete(e)}}class oe{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function ae(e){let n=l.useRef({isFocused:!1,observer:null});Z(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=be(r=>{e==null||e(r)});return l.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,s=i=>{n.current.isFocused=!1,o.disabled&&t(new oe("blur",i)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var i;(i=n.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let D=!1;function et(e){for(;e&&!Se(e);)e=e.parentElement;let n=g(e),t=n.document.activeElement;if(!t||t===e)return;D=!0;let r=!1,o=d=>{(d.target===t||r)&&d.stopImmediatePropagation()},s=d=>{(d.target===t||r)&&(d.stopImmediatePropagation(),!e&&!r&&(r=!0,C(t),u()))},i=d=>{(d.target===e||r)&&d.stopImmediatePropagation()},a=d=>{(d.target===e||r)&&(d.stopImmediatePropagation(),r||(r=!0,C(t),u()))};n.addEventListener("blur",o,!0),n.addEventListener("focusout",s,!0),n.addEventListener("focusin",a,!0),n.addEventListener("focus",i,!0);let u=()=>{cancelAnimationFrame(f),n.removeEventListener("blur",o,!0),n.removeEventListener("focusout",s,!0),n.removeEventListener("focusin",a,!0),n.removeEventListener("focus",i,!0),D=!1,r=!1},f=requestAnimationFrame(u);return u}let L=null,R=new Set,F=new Map,y=!1,j=!1;const He={Tab:!0,Escape:!0};function W(e,n){for(let t of R)t(e,n)}function Me(e){return!(e.metaKey||!fe()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function O(e){y=!0,Me(e)&&(L="keyboard",W("keyboard",e))}function p(e){L="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(y=!0,W("pointer",e))}function ie(e){Pe(e)&&(y=!0,L="virtual")}function se(e){e.target===window||e.target===document||D||!e.isTrusted||(!y&&!j&&(L="virtual",W("virtual",e)),y=!1,j=!1)}function ue(){D||(y=!1,j=!0)}function K(e){if(typeof window>"u"||F.get(g(e)))return;const n=g(e),t=v(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){y=!0,r.apply(this,arguments)},t.addEventListener("keydown",O,!0),t.addEventListener("keyup",O,!0),t.addEventListener("click",ie,!0),n.addEventListener("focus",se,!0),n.addEventListener("blur",ue,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",p,!0),t.addEventListener("pointermove",p,!0),t.addEventListener("pointerup",p,!0)):(t.addEventListener("mousedown",p,!0),t.addEventListener("mousemove",p,!0),t.addEventListener("mouseup",p,!0)),n.addEventListener("beforeunload",()=>{le(e)},{once:!0}),F.set(n,{focus:r})}const le=(e,n)=>{const t=g(e),r=v(e);n&&r.removeEventListener("DOMContentLoaded",n),F.has(t)&&(t.HTMLElement.prototype.focus=F.get(t).focus,r.removeEventListener("keydown",O,!0),r.removeEventListener("keyup",O,!0),r.removeEventListener("click",ie,!0),t.removeEventListener("focus",se,!0),t.removeEventListener("blur",ue,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",p,!0),r.removeEventListener("pointermove",p,!0),r.removeEventListener("pointerup",p,!0)):(r.removeEventListener("mousedown",p,!0),r.removeEventListener("mousemove",p,!0),r.removeEventListener("mouseup",p,!0)),F.delete(t))};function Ce(e){const n=v(e);let t;return n.readyState!=="loading"?K(e):(t=()=>{K(e)},n.addEventListener("DOMContentLoaded",t)),()=>le(e,t)}typeof document<"u"&&Ce();function ce(){return L!=="pointer"}function ke(){return L}function tt(e){L=e,W(e,null)}const De=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Oe(e,n,t){let r=v(t==null?void 0:t.target);const o=typeof window<"u"?g(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?g(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?g(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?g(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!De.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof a&&!He[t.key])}function Ie(e,n,t){K(),l.useEffect(()=>{let r=(o,s)=>{Oe(!!(t!=null&&t.isTextInput),o,s)&&e(ce())};return R.add(r),()=>{R.delete(r)}},n)}function We(e){const n=v(e),t=S(n);if(ke()==="virtual"){let r=t;ne(()=>{S(n)===r&&e.isConnected&&C(e)})}else C(e)}function de(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const s=l.useCallback(u=>{if(u.target===u.currentTarget)return r&&r(u),o&&o(!1),!0},[r,o]),i=ae(s),a=l.useCallback(u=>{const f=v(u.target),d=f?S(f):S();u.target===u.currentTarget&&d===te(u.nativeEvent)&&(t&&t(u),o&&o(!0),i(u))},[o,t,i]);return{focusProps:{onFocus:!n&&(t||o||r)?a:void 0,onBlur:!n&&(r||o)?s:void 0}}}function Y(e){if(!e)return;let n=!0;return t=>{let r={...t,preventDefault(){t.preventDefault()},isDefaultPrevented(){return t.isDefaultPrevented()},stopPropagation(){n?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):n=!0},continuePropagation(){n=!1},isPropagationStopped(){return n}};e(r),n&&t.stopPropagation()}}function Ge(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Y(e.onKeyDown),onKeyUp:Y(e.onKeyUp)}}}let Ne=x.createContext(null);function Ae(e){let n=l.useContext(Ne)||{};we(n,e);let{ref:t,...r}=n;return r}function nt(e,n){let{focusProps:t}=de(e),{keyboardProps:r}=Ge(e),o=z(t,r),s=Ae(n),i=e.isDisabled?{}:s,a=l.useRef(e.autoFocus);l.useEffect(()=>{a.current&&n.current&&We(n.current),a.current=!1},[n]);let u=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(u=void 0),{focusableProps:z({...o,tabIndex:u},i)}}function Be(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,s=l.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=re(),u=l.useCallback(b=>{b.currentTarget.contains(b.target)&&s.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(s.current.isFocusWithin=!1,a(),t&&t(b),o&&o(!1))},[t,o,s,a]),f=ae(u),d=l.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const h=v(b.target),$=S(h);if(!s.current.isFocusWithin&&$===te(b.nativeEvent)){r&&r(b),o&&o(!0),s.current.isFocusWithin=!0,f(b);let m=b.currentTarget;i(h,"focus",c=>{if(s.current.isFocusWithin&&!ee(m,c.target)){let E=new oe("blur",new h.defaultView.FocusEvent("blur",{relatedTarget:c.target}));E.target=m,E.currentTarget=m,u(E)}},{capture:!0})}},[r,o,f,i,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:u}}}let I=!1,N=0;function U(){I=!0,setTimeout(()=>{I=!1},50)}function J(e){e.pointerType==="touch"&&U()}function Re(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",J):document.addEventListener("touchend",U),N++,()=>{N--,!(N>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",J):document.removeEventListener("touchend",U))}}function rt(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[s,i]=l.useState(!1),a=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(Re,[]);let{addGlobalListener:u,removeAllGlobalListeners:f}=re(),{hoverProps:d,triggerHoverEnd:b}=l.useMemo(()=>{let h=(c,E)=>{if(a.pointerType=E,o||E==="touch"||a.isHovered||!c.currentTarget.contains(c.target))return;a.isHovered=!0;let P=c.currentTarget;a.target=P,u(v(c.target),"pointerover",G=>{a.isHovered&&a.target&&!ee(a.target,G.target)&&$(G,G.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:P,pointerType:E}),t&&t(!0),i(!0)},$=(c,E)=>{let P=a.target;a.pointerType="",a.target=null,!(E==="touch"||!a.isHovered||!P)&&(a.isHovered=!1,f(),r&&r({type:"hoverend",target:P,pointerType:E}),t&&t(!1),i(!1))},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=c=>{I&&c.pointerType==="mouse"||h(c,c.pointerType)},m.onPointerLeave=c=>{!o&&c.currentTarget.contains(c.target)&&$(c,c.pointerType)}):(m.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=c=>{!a.ignoreEmulatedMouseEvents&&!I&&h(c,"mouse"),a.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=c=>{!o&&c.currentTarget.contains(c.target)&&$(c,"mouse")}),{hoverProps:m,triggerHoverEnd:$}},[n,t,r,o,a,u,f]);return l.useEffect(()=>{o&&b({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:d,isHovered:s}}function ot(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=l.useRef({isFocused:!1,isFocusVisible:n||ce()}),[s,i]=l.useState(!1),[a,u]=l.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=l.useCallback(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),d=l.useCallback($=>{o.current.isFocused=$,i($),f()},[f]);Ie($=>{o.current.isFocusVisible=$,f()},[],{isTextInput:t});let{focusProps:b}=de({isDisabled:r,onFocusChange:d}),{focusWithinProps:h}=Be({isDisabled:!r,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:r?h:b}}export{rt as $,we as A,Ye as B,Ne as C,Qe as D,ot as a,Je as b,Be as c,nt as d,_e as e,g as f,V as g,ee as h,S as i,v as j,We as k,qe as l,Se as m,te as n,ke as o,tt as p,ce as q,re as r,Ze as s,Xe as t,C as u,Ge as v,de as w,ze as x,et as y,Pe as z};
